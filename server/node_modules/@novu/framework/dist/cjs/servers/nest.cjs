"use strict";var Bo=Object.create;var Dt=Object.defineProperty;var xr=Object.getOwnPropertyDescriptor;var Jo=Object.getOwnPropertyNames;var Go=Object.getPrototypeOf,Ho=Object.prototype.hasOwnProperty;var Ko=(w,n)=>{for(var s in n)Dt(w,s,{get:n[s],enumerable:!0})},kr=(w,n,s,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let S of Jo(n))!Ho.call(w,S)&&S!==s&&Dt(w,S,{get:()=>n[S],enumerable:!(l=xr(n,S))||l.enumerable});return w};var ft=(w,n,s)=>(s=w!=null?Bo(Go(w)):{},kr(n||!w||!w.__esModule?Dt(s,"default",{value:w,enumerable:!0}):s,w)),zo=w=>kr(Dt({},"__esModule",{value:!0}),w),He=(w,n,s,l)=>{for(var S=l>1?void 0:l?xr(n,s):n,M=w.length-1,C;M>=0;M--)(C=w[M])&&(S=(l?C(n,s,S):C(S))||S);return l&&S&&Dt(n,s,S),S},Ke=(w,n)=>(s,l)=>n(s,l,w);var $a={};Ko($a,{Client:()=>vt,CronExpression:()=>yi,NOVU_OPTIONS:()=>It,NovuClient:()=>Ge,NovuController:()=>je,NovuHandler:()=>Je,NovuModule:()=>Gt,NovuRequestHandler:()=>At,REGISTER_API_PATH:()=>Ei,frameworkName:()=>xs,registerApiPath:()=>Jn,workflow:()=>Rs});module.exports=zo($a);var zr=require("liquidjs");var Ut=(l=>(l.TRIGGER="trigger",l.EXECUTE="execute",l.PREVIEW="preview",l))(Ut||{}),sn=(l=>(l.DISCOVER="discover",l.HEALTH_CHECK="health-check",l.CODE="code",l))(sn||{});var yi=($=>($.EVERY_SECOND="* * * * * *",$.EVERY_5_SECONDS="*/5 * * * * *",$.EVERY_10_SECONDS="*/10 * * * * *",$.EVERY_30_SECONDS="*/30 * * * * *",$.EVERY_MINUTE="*/1 * * * *",$.EVERY_5_MINUTES="0 */5 * * * *",$.EVERY_10_MINUTES="0 */10 * * * *",$.EVERY_30_MINUTES="0 */30 * * * *",$.EVERY_HOUR="0 0-23/1 * * *",$.EVERY_2_HOURS="0 0-23/2 * * *",$.EVERY_3_HOURS="0 0-23/3 * * *",$.EVERY_4_HOURS="0 0-23/4 * * *",$.EVERY_5_HOURS="0 0-23/5 * * *",$.EVERY_6_HOURS="0 0-23/6 * * *",$.EVERY_7_HOURS="0 0-23/7 * * *",$.EVERY_8_HOURS="0 0-23/8 * * *",$.EVERY_9_HOURS="0 0-23/9 * * *",$.EVERY_10_HOURS="0 0-23/10 * * *",$.EVERY_11_HOURS="0 0-23/11 * * *",$.EVERY_12_HOURS="0 0-23/12 * * *",$.EVERY_DAY_AT_1AM="0 01 * * *",$.EVERY_DAY_AT_2AM="0 02 * * *",$.EVERY_DAY_AT_3AM="0 03 * * *",$.EVERY_DAY_AT_4AM="0 04 * * *",$.EVERY_DAY_AT_5AM="0 05 * * *",$.EVERY_DAY_AT_6AM="0 06 * * *",$.EVERY_DAY_AT_7AM="0 07 * * *",$.EVERY_DAY_AT_8AM="0 08 * * *",$.EVERY_DAY_AT_9AM="0 09 * * *",$.EVERY_DAY_AT_10AM="0 10 * * *",$.EVERY_DAY_AT_11AM="0 11 * * *",$.EVERY_DAY_AT_NOON="0 12 * * *",$.EVERY_DAY_AT_1PM="0 13 * * *",$.EVERY_DAY_AT_2PM="0 14 * * *",$.EVERY_DAY_AT_3PM="0 15 * * *",$.EVERY_DAY_AT_4PM="0 16 * * *",$.EVERY_DAY_AT_5PM="0 17 * * *",$.EVERY_DAY_AT_6PM="0 18 * * *",$.EVERY_DAY_AT_7PM="0 19 * * *",$.EVERY_DAY_AT_8PM="0 20 * * *",$.EVERY_DAY_AT_9PM="0 21 * * *",$.EVERY_DAY_AT_10PM="0 22 * * *",$.EVERY_DAY_AT_11PM="0 23 * * *",$.EVERY_DAY_AT_MIDNIGHT="0 0 * * *",$.EVERY_WEEK="0 0 * * 0",$.EVERY_WEEKDAY="0 0 * * 1-5",$.EVERY_WEEKEND="0 0 * * 6,0",$.EVERY_1ST_DAY_OF_MONTH_AT_MIDNIGHT="0 0 1 * *",$.EVERY_1ST_DAY_OF_MONTH_AT_NOON="0 12 1 * *",$.EVERY_2ND_HOUR="0 */2 * * *",$.EVERY_2ND_HOUR_FROM_1AM_THROUGH_11PM="0 1-23/2 * * *",$.EVERY_2ND_MONTH="0 0 1 */2 *",$.EVERY_QUARTER="0 0 1 */3 *",$.EVERY_6_MONTHS="0 0 1 */6 *",$.EVERY_YEAR="0 0 1 0 *",$.EVERY_30_MINUTES_BETWEEN_9AM_AND_5PM="0 */30 9-17 * * *",$.EVERY_30_MINUTES_BETWEEN_9AM_AND_6PM="0 */30 9-18 * * *",$.EVERY_30_MINUTES_BETWEEN_10AM_AND_7PM="0 */30 10-19 * * *",$.MONDAY_TO_FRIDAY_AT_1AM="0 0 01 * * 1-5",$.MONDAY_TO_FRIDAY_AT_2AM="0 0 02 * * 1-5",$.MONDAY_TO_FRIDAY_AT_3AM="0 0 03 * * 1-5",$.MONDAY_TO_FRIDAY_AT_4AM="0 0 04 * * 1-5",$.MONDAY_TO_FRIDAY_AT_5AM="0 0 05 * * 1-5",$.MONDAY_TO_FRIDAY_AT_6AM="0 0 06 * * 1-5",$.MONDAY_TO_FRIDAY_AT_7AM="0 0 07 * * 1-5",$.MONDAY_TO_FRIDAY_AT_8AM="0 0 08 * * 1-5",$.MONDAY_TO_FRIDAY_AT_9AM="0 0 09 * * 1-5",$.MONDAY_TO_FRIDAY_AT_09_30AM="0 30 09 * * 1-5",$.MONDAY_TO_FRIDAY_AT_10AM="0 0 10 * * 1-5",$.MONDAY_TO_FRIDAY_AT_11AM="0 0 11 * * 1-5",$.MONDAY_TO_FRIDAY_AT_11_30AM="0 30 11 * * 1-5",$.MONDAY_TO_FRIDAY_AT_12PM="0 0 12 * * 1-5",$.MONDAY_TO_FRIDAY_AT_1PM="0 0 13 * * 1-5",$.MONDAY_TO_FRIDAY_AT_2PM="0 0 14 * * 1-5",$.MONDAY_TO_FRIDAY_AT_3PM="0 0 15 * * 1-5",$.MONDAY_TO_FRIDAY_AT_4PM="0 0 16 * * 1-5",$.MONDAY_TO_FRIDAY_AT_5PM="0 0 17 * * 1-5",$.MONDAY_TO_FRIDAY_AT_6PM="0 0 18 * * 1-5",$.MONDAY_TO_FRIDAY_AT_7PM="0 0 19 * * 1-5",$.MONDAY_TO_FRIDAY_AT_8PM="0 0 20 * * 1-5",$.MONDAY_TO_FRIDAY_AT_9PM="0 0 21 * * 1-5",$.MONDAY_TO_FRIDAY_AT_10PM="0 0 22 * * 1-5",$.MONDAY_TO_FRIDAY_AT_11PM="0 0 23 * * 1-5",$))(yi||{});var qe=(ce=>(ce.BRIDGE_ERROR="BridgeError",ce.EXECUTION_EVENT_CONTROL_INVALID_ERROR="ExecutionEventControlInvalidError",ce.EXECUTION_EVENT_PAYLOAD_INVALID_ERROR="ExecutionEventPayloadInvalidError",ce.EXECUTION_PROVIDER_OUTPUT_INVALID_ERROR="ExecutionProviderOutputInvalidError",ce.EXECUTION_STATE_CONTROL_INVALID_ERROR="ExecutionStateControlInvalidError",ce.EXECUTION_STATE_CORRUPT_ERROR="ExecutionStateCorruptError",ce.EXECUTION_STATE_OUTPUT_INVALID_ERROR="ExecutionStateOutputInvalidError",ce.EXECUTION_STATE_RESULT_INVALID_ERROR="ExecutionStateResultInvalidError",ce.INVALID_ACTION_ERROR="InvalidActionError",ce.METHOD_NOT_ALLOWED_ERROR="MethodNotAllowedError",ce.MISSING_DEPENDENCY_ERROR="MissingDependencyError",ce.MISSING_SECRET_KEY_ERROR="MissingSecretKeyError",ce.PROVIDER_EXECUTION_FAILED_ERROR="ProviderExecutionFailedError",ce.PROVIDER_NOT_FOUND_ERROR="ProviderNotFoundError",ce.SIGNATURE_EXPIRED_ERROR="SignatureExpiredError",ce.SIGNATURE_INVALID_ERROR="SignatureInvalidError",ce.SIGNATURE_MISMATCH_ERROR="SignatureMismatchError",ce.SIGNATURE_NOT_FOUND_ERROR="SignatureNotFoundError",ce.SIGNATURE_VERSION_INVALID_ERROR="SignatureVersionInvalidError",ce.SIGNING_KEY_NOT_FOUND_ERROR="SigningKeyNotFoundError",ce.STEP_ALREADY_EXISTS_ERROR="StepAlreadyExistsError",ce.STEP_CONTROL_COMPILATION_FAILED_ERROR="StepControlCompilationFailedError",ce.STEP_EXECUTION_FAILED_ERROR="StepExecutionFailedError",ce.STEP_NOT_FOUND_ERROR="StepNotFoundError",ce.WORKFLOW_ALREADY_EXISTS_ERROR="WorkflowAlreadyExistsError",ce.WORKFLOW_NOT_FOUND_ERROR="WorkflowNotFoundError",ce.WORKFLOW_PAYLOAD_INVALID_ERROR="WorkflowPayloadInvalidError",ce))(qe||{});var on=(l=>(l.POST="POST",l.GET="GET",l.OPTIONS="OPTIONS",l))(on||{});var an=(M=>(M.EMAIL="email",M.SMS="sms",M.PUSH="push",M.CHAT="chat",M.IN_APP="in_app",M))(an||{});var Xo=w=>{var s,l;if(typeof w!="object"||w===null)return!1;let n=Object.getPrototypeOf(w);return(l=(s=n==null?void 0:n.constructor)==null?void 0:s.name.endsWith("Error"))!=null?l:!1},ot=class extends Error{},ln=class extends ot{constructor(){super(...arguments);this.statusCode=404}},Le=class extends ot{constructor(){super(...arguments);this.statusCode=400}},ct=class extends ot{constructor(){super(...arguments);this.statusCode=401}},pt=class extends ot{constructor(n,{cause:s}={}){var l;Xo(s)?(super(`${n}: ${s.message}`),this.data={stack:(l=s.stack)!=null?l:n}):(super(`${n}${s?`: ${JSON.stringify(s,null,2)}`:""}`),this.data={stack:n})}},cn=class extends ot{constructor(){super(...arguments);this.statusCode=409}};var Tt=class extends pt{constructor(s){super("Unknown BridgeError",{cause:s});this.statusCode=500;this.code="BridgeError"}};var pn=class extends Le{constructor(s,l){super(`Workflow with id: \`${s}\` has a corrupt state. Step with id: \`${l}\` does not exist. Please provide the missing state.`);this.code="ExecutionStateCorruptError";this.data={workflowId:s,stepId:l}}},Ft=class extends Le{constructor(s,l){super(`Workflow with id: \`${s}\` has invalid \`payload\`. Please provide the correct event payload.`);this.code="ExecutionEventPayloadInvalidError";this.data=l}},un=class extends Le{constructor(s,l){super(`Workflow with id: \`${s}\` has invalid \`controls\`. Please provide the correct event controls.`);this.code="ExecutionEventControlInvalidError";this.data=l}},dn=class extends Le{constructor(s,l,S){super(`Workflow with id: \`${s}\` has an invalid state. Step with id: \`${l}\` has invalid \`controls\`. Please provide the correct step controls.`);this.code="ExecutionStateControlInvalidError";this.data=S}},fn=class extends Le{constructor(s,l,S){super(`Workflow with id: \`${s}\` has an invalid state. Step with id: \`${l}\` has invalid output. Please provide the correct step output.`);this.code="ExecutionStateOutputInvalidError";this.data=S}},hn=class extends Le{constructor(s,l,S){super(`Workflow with id: \`${s}\` has an invalid state. Step with id: \`${l}\` has invalid result. Please provide the correct step result.`);this.code="ExecutionStateResultInvalidError";this.data=S}},mn=class extends Le{constructor(s,l,S){super(`Workflow with id: \`${s}\` has invalid controls syntax in step with id: \`${l}\`. Please correct step control syntax.`);this.code="StepControlCompilationFailedError";this.data=S}},yn=class extends Le{constructor(s,l,S,M){super(`Workflow with id: \`${s}\` has an invalid state. Step with id: \`${l}\` and provider with id: \`${S}\` has invalid output. Please provide the correct provider output.`);this.code="ExecutionProviderOutputInvalidError";this.data=M}},gn=class extends Le{constructor(s,l){super(`Workflow with id: \`${s}\` has invalid \`payload\`. Please provide the correct payload.`);this.code="WorkflowPayloadInvalidError";this.data=l}};var gi=w=>Object.values(w).map(n=>`\`${n}\``).join(", "),wn=w=>w.replaceAll(/(\w)(\w*)/g,(n,s,l)=>s.toUpperCase()+l.toLowerCase()).replaceAll(/[\s-]+/g,""),wi=(w,n=0)=>Array.isArray(w)||typeof w=="object"&&w!==null?JSON.stringify(w,null,n).replace(/"/g,"'").replace(/\n/g,"\\n"):String(w);var bn=class extends ot{constructor(){super(...arguments);this.code="MethodNotAllowedError";this.statusCode=405;this.message=`Method not allowed. Please use one of ${gi(on)}`}},jt=class extends Le{constructor(s,l){super(`Invalid query string: \`action\`=\`${s}\`. Please use one of ${gi(l)}`);this.code="InvalidActionError"}},Sn=class extends Le{constructor(){super("Missing secret key. Set the `NOVU_SECRET_KEY` environment variable or pass `secretKey` to the client options.");this.code="MissingSecretKeyError"}};var Tn=class extends Error{constructor(n,s,l){super(),this.data={message:l},this.statusCode=n,this.code=s}};var Yt=class extends cn{constructor(n,s){super(`${wn(n)} with id: \`${s}\` already exists. Please use a different id.`)}},ut=class extends ln{constructor(n,s){super(`${wn(n)} with id: \`${s}\` does not exist. Please provide a valid id.`)}},Ot=class extends pt{constructor(s,l,S,M){super(`Failed to ${S} ${wn(s)} with id: \`${l}\``,{cause:M});this.statusCode=502}};var On=class extends ut{constructor(s){super("provider",s);this.code="ProviderNotFoundError"}},En=class extends Ot{constructor(s,l,S){super("provider",s,l,S);this.code="ProviderExecutionFailedError"}};var vn=class extends ct{constructor(){super("Signature does not match the expected signature. Please ensure the signature provided in the `novu-signature` header is correct and try again.");this.code="SignatureMismatchError"}},An=class extends ct{constructor(){super("Signature not found. Please provide a signature in the `novu-signature` header");this.code="SignatureNotFoundError"}},_n=class extends ct{constructor(){super("Signature is invalid. Please provide a valid signature in the `novu-signature` header");this.code="SignatureInvalidError"}},Rn=class extends ct{constructor(){super(`Signature expired. Please provide a signature with a timestamp no older than ${5} minutes in the \`novu-signature\` header`);this.code="SignatureExpiredError"}},Pn=class extends ct{constructor(){super("Signature key not found. Please provide a valid key in the Client constructor `config.secretKey`");this.code="SigningKeyNotFoundError"}};var In=class extends ut{constructor(s){super("step",s);this.code="StepNotFoundError"}},Nn=class extends Yt{constructor(s){super("step",s);this.code="StepAlreadyExistsError"}},Vt=class extends Ot{constructor(s,l,S){super("step",s,l,S);this.code="StepExecutionFailedError"}};var Wt=class extends ut{constructor(s){super("workflow",s);this.code="WorkflowNotFoundError"}};var ht=w=>Object.values(qe).includes(w==null?void 0:w.code),Cr=w=>!ht(w)&&typeof w.statusCode=="number"&&w.statusCode>=400&&w.statusCode<500;var Lr=async(w,n)=>{let s=new TextEncoder,l=s.encode(w),S=s.encode(n),M=await crypto.subtle.importKey("raw",l,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),C=await crypto.subtle.sign("HMAC",M,S);return Array.from(new Uint8Array(C)).map(ne=>ne.toString(16).padStart(2,"0")).join("")};var ea=require("cross-fetch");var Dr=async()=>{if(process.env.NOVU_BRIDGE_ORIGIN)return`${process.env.NOVU_BRIDGE_ORIGIN}/api/novu`;if(process.env.NEXT_PUBLIC_VERCEL_ENV==="preview"&&process.env.NEXT_PUBLIC_VERCEL_URL)return`https://${process.env.NEXT_PUBLIC_VERCEL_URL}/api/novu`;try{if(process.env.NODE_ENV==="development"){let n=await(await fetch("http://localhost:2022/.well-known/novu")).json();return`${n.tunnelOrigin}${n.route}`}}catch(w){console.error(w)}return""};var Ur=require("@novu/shared");var xn=(w,n)=>{if(!w)throw new Sn;return{post:async(s,l)=>{let S=await fetch(`${n}/v1${s}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`ApiKey ${w}`},body:JSON.stringify(l)}),M=await S.json();if(S.ok)return M;throw(0,Ur.checkIsResponseError)(M)?new Tn(M.statusCode,M.error,M.message):new Tt(M)},delete:async s=>(await fetch(`${n}/v1${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`ApiKey ${w}`}})).json()}};var mt=ft(require("chalk"),1),we={info:w=>mt.default.blue(w),warning:w=>mt.default.yellow(w),error:w=>mt.default.red(w),success:w=>mt.default.green(w),underline:w=>mt.default.underline(w),bold:w=>mt.default.bold(w)},_e={SUCCESS:we.success("\u2714"),ERROR:we.error("\u2717"),WARNING:we.warning("\u26A0"),INFO:we.info("\u2139"),ARROW:we.bold("\u2192"),MOCK:we.info("\u25CB"),HYDRATED:we.bold(we.info("\u2192")),STEP:we.info("\u03C3"),ACTION:we.info("\u03B1"),DURATION:we.info("\u0394"),PROVIDER:we.info("\u2699"),OUTPUT:we.info("\u21E2"),INPUT:we.info("\u21E0"),WORKFLOW:we.info("\u03C9"),STATE:we.info("\u03C3"),EXECUTE:we.info("\u03B5"),PREVIEW:we.info("\u03C1")};function kn(w){return w||process.env.NOVU_API_URL||"https://api.novu.co"}function Mn(w){return w||process.env.NOVU_SECRET_KEY||process.env.NOVU_API_KEY||""}var bi=ft(require("sanitize-html"),1),ta={allowedTags:bi.default.defaults.allowedTags.concat(["style","img","html","head","body","link","meta","title"]),allowedAttributes:!1,allowVulnerableTags:!0,parseStyleAttributes:!1,parser:{lowerCaseAttributeNames:!0}},$r=w=>{if(!w)return w;let n=/^<!DOCTYPE .*?>/,s=w.match(n),l=(0,bi.default)(w,ta);return s?s[0]+l:l},Cn=w=>Object.keys(w).reduce((n,s)=>{let l=w[s];return typeof l=="string"?n[s]=$r(l):Array.isArray(l)?n[s]=l.map(S=>typeof S=="string"?$r(S):typeof S=="object"?Cn(S):S):typeof l=="object"&&l!==null?n[s]=Cn(l):n[s]=l,n},{});var jr=ft(require("ajv"),1),Yr=ft(require("ajv-formats"),1);var Fr=w=>typeof structuredClone=="function"?structuredClone(w):JSON.parse(JSON.stringify(w));var Ln=class extends pt{constructor(s,l){let S=l.length===1?"it":"them";super(`Tried to use a ${s} in @novu/framework without ${l.join(", ")} installed. Please install ${S} by running \`npm install ${l.join(" ")}\`.`);this.statusCode=500;this.code="MissingDependencyError"}};var Dn=async(w,n)=>{let s=new Set;if((await Promise.allSettled(w.map(S=>S.import))).forEach((S,M)=>{let C=w[M];S.status==="fulfilled"&&C.exports.every(le=>S.value[le]!==void 0)||s.add(C.name)}),s.size>0)throw new Ln(n,Array.from(s))};var Un=class{constructor(){this.requiredImports=[];this.ajv=new jr.default({useDefaults:!0,removeAdditional:"failing"}),(0,Yr.default)(this.ajv),this.compiledSchemas=new Map}async canHandle(n){let s=n.type==="object"||!!n.anyOf||!!n.allOf||!!n.oneOf;return s&&await Dn(this.requiredImports,"JSON schema"),s}async validate(n,s){let l=this.compiledSchemas.get(s);l||(l=this.ajv.compile(s),this.compiledSchemas.set(s,l));let S=Fr(n);return l(S)?{success:!0,data:S}:{success:!1,errors:l.errors.map(C=>({path:C.instancePath,message:C.message}))}}async transformToJsonSchema(n){return n}};var $n=class{constructor(){this.requiredImports=[{name:"zod",import:import("zod"),exports:["ZodType"]},{name:"zod-to-json-schema",import:import("zod-to-json-schema"),exports:["zodToJsonSchema"]}]}async canHandle(n){let s=n.safeParseAsync!==void 0;return s&&await Dn(this.requiredImports,"Zod schema"),s}async validate(n,s){let l=await s.safeParseAsync(n);return l.success?{success:!0,data:l.data}:{success:!1,errors:l.error.errors.map(S=>({path:`/${S.path.join("/")}`,message:S.message}))}}async transformToJsonSchema(n){let{zodToJsonSchema:s}=await import("zod-to-json-schema");return s(n)}};var Fn=new $n,jn=new Un,Yn=async(w,n)=>{if(await Fn.canHandle(w))return Fn.validate(n,w);if(await jn.canHandle(w))return jn.validate(n,w);throw new Error("Invalid schema")},xe=async w=>{if(await Fn.canHandle(w))return Fn.transformToJsonSchema(w);if(await jn.canHandle(w))return jn.transformToJsonSchema(w);throw new Error("Invalid schema")};var Vn=(()=>{var w=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,S=(e,t)=>function(){return e&&(t=(0,e[s(e)[0]])(e=0)),t},M=(e,t)=>function(){return t||(0,e[s(e)[0]])((t={exports:{}}).exports,t),t.exports},C=(e,t)=>{for(var i in t)w(e,i,{get:t[i],enumerable:!0})},ne=(e,t,i,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let p of s(t))!l.call(e,p)&&p!==i&&w(e,p,{get:()=>t[p],enumerable:!(c=n(t,p))||c.enumerable});return e},le=e=>ne(w({},"__esModule",{value:!0}),e),ve={};C(ve,{JSONSchemaFaker:()=>Ir,default:()=>Nr,setDependencies:()=>qi});function De(e,t){return typeof e=="string"?typeof t!="undefined"?xt.register(e,t):xt.get(e):xt.registerMany(e)}function $e(e,t){return e=typeof e=="undefined"?tt.MIN_INTEGER:e,t=typeof t=="undefined"?tt.MAX_INTEGER:t,Math.floor(ee("random")()*(t-e+1))+e}function Re(e){return Xt.default.prototype.max=ee("defaultRandExpMax"),Xt.default.prototype.randInt=(i,c)=>i+Math.floor(ee("random")()*(1+(c-i))),new Xt.default(e).gen()}function Ue(e){return e[Math.floor(ee("random")()*e.length)]}function Ye(e){let t,i,c=e.length,p=e.slice();for(;c>0;)i=Math.floor(ee("random")()*c),c-=1,t=p[c],p[c]=p[i],p[i]=t;return p}function dt(e,t){return ee("random")()*(t-e)+e}function Qe(e,t,i,c,p=!1){return i=typeof i=="undefined"?tt.MIN_NUMBER:i,c=typeof c=="undefined"?tt.MAX_NUMBER:c,e=typeof e=="undefined"?i:e,t=typeof t=="undefined"?c:t,t<e&&(t+=e),p?dt(e,t):$e(e,t)}function Ht(e){switch(e){case"seconds":return Qe(0,60)*60;case"minutes":return Qe(15,50)*612;case"hours":return Qe(12,72)*36123;case"days":return Qe(7,30)*86412345;case"weeks":return Qe(4,52)*604812345;case"months":return Qe(2,13)*2592012345;case"years":return Qe(1,20)*31104012345;default:break}}function Gn(e){if(e)return Ht(e);let t=ee("minDateTime"),i=ee("maxDateTime");typeof t=="string"&&(t=new Date(t)),typeof i=="string"&&(i=new Date(i));let c=new Date().getTime();return typeof t=="number"&&(t=new Date(c+t)),typeof i=="number"&&(i=new Date(c+i)),new Date(dt(t.getTime(),i.getTime()))}function vi(e,t,i){if(t=decodeURIComponent(t),i&&i[t])return ce(i[t]);let c=t.replace("#/","/").split("/"),p=e.$ref&&i&&i[e.$ref]||e;for(!p&&!c[0]&&(c[0]=e.$ref.split("#/")[0]),i&&t.includes("#/")&&i[c[0]]&&(p=i[c.shift()]),c[0]||c.shift();p&&c.length>0;){let f=c.shift();if(!p[f])throw new Error(`Prop not found: ${f} (${t})`);p=p[f]}return p}function Kt(e){return typeof e=="string"&&er.test(e)}function Ze(e){return["number","boolean"].includes(typeof e)}function et(e,...t){return t.filter(i=>typeof e[i]!="undefined").length>0}function Ai(e){if(e.includes(" "))return new Date(e).toISOString().substr(0,10);let[t,i,c]=e.split("T")[0].split("-");return i=`0${Math.max(1,Math.min(12,i))}`.slice(-2),c=`0${Math.max(1,Math.min(31,c))}`.slice(-2),`${t}-${i}-${c}`}function Ls(e){if(e.includes(" "))return new Date(e).toISOString().substr(0,10);let[t,i]=e.split("T"),[c,p,f]=t.split("-"),[d,O,U]=i.substr(0,8).split(":");return p=`0${Math.max(1,Math.min(12,p))}`.slice(-2),f=`0${Math.max(1,Math.min(31,f))}`.slice(-2),d=`0${Math.max(1,Math.min(23,d))}`.slice(-2),O=`0${Math.max(1,Math.min(59,O))}`.slice(-2),U=`0${Math.max(1,Math.min(59,U))}`.slice(-2),`${c}-${p}-${f}T${d}:${O}:${U}.000Z`}function Ds(e,t,i){let c={};switch(e||t.type){case"integer":case"number":if(typeof t.minimum!="undefined"&&(c.minimum=t.minimum),typeof t.maximum!="undefined"&&(c.maximum=t.maximum),t.enum){let f=Math.max(c.minimum||0,0),d=Math.min(c.maximum||1/0,1/0);t.exclusiveMinimum&&f===t.minimum&&(f+=t.multipleOf||1),t.exclusiveMaximum&&d===t.maximum&&(d-=t.multipleOf||1),(f||d!==1/0)&&(t.enum=t.enum.filter(O=>O>=f&&O<=d))}break;case"string":{c.minLength=ee("minLength")||0,c.maxLength=ee("maxLength")||Number.MAX_SAFE_INTEGER,typeof t.minLength!="undefined"&&(c.minLength=Math.max(c.minLength,t.minLength)),typeof t.maxLength!="undefined"&&(c.maxLength=Math.min(c.maxLength,t.maxLength));break}default:break}let p=i(c);if(p==null)return null;switch(e||t.type){case"number":p=Kt(p)?parseFloat(p):p;break;case"integer":p=Kt(p)?parseInt(p,10):p;break;case"boolean":p=!!p;break;case"string":{if(Ze(p))return p;p=String(p);let f=Math.max(c.minLength||0,0),d=Math.min(c.maxLength||1/0,1/0),O,U=0;for(;p.length<f;)if(O=p,t.pattern?p+=Q.randexp(t.pattern):p+=`${Q.pick([" ","/","_","-","+","=","@","^"])}${p}`,p===O){if(U+=1,U===3)break}else U=0;switch(p.length>d&&(p=p.substr(0,d)),t.format){case"date-time":case"datetime":p=new Date(Ls(p)).toISOString().replace(/([0-9])0+Z$/,"$1Z");break;case"full-date":case"date":p=new Date(Ai(p)).toISOString().substr(0,10);break;case"time":p=new Date(`1969-01-01 ${p}`).toISOString().substr(11);break;default:break}break}default:break}return p}function wt(e,t){return Object.keys(t).forEach(i=>{typeof t[i]!="object"||t[i]===null?e[i]=t[i]:Array.isArray(t[i])?(e[i]=e[i]||[],t[i].forEach((c,p)=>{e.type==="array"&&t.type==="array"?e[i][p]=wt(e[i][p]||{},c,!0):Array.isArray(e[i])&&e[i].indexOf(c)===-1&&e[i].push(c)})):typeof e[i]!="object"||e[i]===null||Array.isArray(e[i])?e[i]=wt({},t[i]):e[i]=wt(e[i],t[i])}),e}function ce(e,t=new Map){if(!e||typeof e!="object")return e;if(t.has(e))return t.get(e);if(Array.isArray(e)){let c=[];return t.set(e,c),c.push(...e.map(p=>ce(p,t))),c}let i={};return t.set(e,i),Object.keys(e).reduce((c,p)=>(c[p]=ce(e[p],t),c),i)}function Us(e){let t=JSON.stringify(e),i=JSON.stringify(e,null,2);return t.length>400?`${i.substr(0,400)}...`:i}function _i(){return Q.pick([!1,!0,null,-1,NaN,Math.PI,1/0,void 0,[],{},Math.random(),Math.random().toString(36).substr(2)])}function $s(e,t){if(e.enum)return e.enum.includes(t);if(e.const)return e.const===t}function Fs(e,t){let i=wt({},t);if(typeof e.minimum!="undefined"&&(i.maximum=e.minimum,i.exclusiveMaximum=!0),typeof e.maximum!="undefined"&&(i.minimum=e.maximum>i.maximum?0:e.maximum,i.exclusiveMinimum=!0),typeof e.minLength!="undefined"&&(i.maxLength=e.minLength),typeof e.maxLength!="undefined"&&(i.minLength=e.maxLength>i.maxLength?0:e.maxLength),e.type)i.type=Q.pick(tt.SCALAR_TYPES.filter(c=>(Array.isArray(e.type)?e.type:[e.type]).every(f=>c==="number"||c==="integer"?f!=="number"&&f!=="integer":c!==f)));else if(e.enum){let c;do c=_i();while(e.enum.indexOf(c)!==-1);i.enum=[c]}return e.required&&i.properties&&e.required.forEach(c=>{delete i.properties[c]}),i}function Hn(e,t){let i=t.minimum!==void 0,c=t.maximum!==void 0;return(i||c)&&(!i||e>=t.minimum)&&(!c||e<=t.maximum)}function js(e,t){return!t.every(i=>Hn(e,i))}function Ys(e,t){return t.reduce((c,p)=>c+(Hn(e,p)?1:0),0)===1}function Vs(e){return["enum","const","default","examples","required","definitions","items","properties"].includes(e)}function Ws(e,t){return Object.keys(e).filter(i=>!t.includes(i)).reduce((i,c)=>(Array.isArray(e[c])?i[c]=e[c].slice():i[c]=e[c]instanceof Object?wt({},e[c]):e[c],i),{})}function Ri(e,t){return Array.isArray(e)?e.map(i=>Ri(i,t)):(typeof e=="string"&&(e=e.replace(/#\{([\w.-]+)\}/g,(i,c)=>t[c])),e)}function Kn(e){return Object.prototype.toString.call(e)==="[object Object]"&&!Object.keys(e).length}function Pi(e,t){t=t.items||t;let i=ee("alwaysFakeOptionals"),c=Array.isArray(t.required)&&t.required.includes(e)||i,p=typeof t.thunk=="function"||t.additionalProperties&&typeof t.additionalProperties.thunk=="function";return!c&&!p}function zn(e,t,i=!1){if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(c=>zn(c,t,!0)).filter(c=>typeof c!="undefined");if(Object.keys(e).forEach(c=>{if(Kn(e[c]))Pi(c,t)&&delete e[c];else{let p=t;t&&t.properties&&t.properties[c]&&(p=t.properties[c]);let f=zn(e[c],p);Kn(f)||(e[c]=f)}typeof e[c]=="undefined"&&delete e[c]}),!(!Object.keys(e).length&&i))return e}function qs(e){return(t,i,c,p)=>{let f=t,d=[];typeof t=="object"&&(f=Object.keys(t)[0],Array.isArray(t[f])?d=t[f]:d.push(t[f]));let O=f.split("."),U=e();for(;O.length>1;)U=U[O.shift()];return t=typeof U=="object"?U[O[0]]:U,typeof t=="function"&&(t=t.apply(U,d.map(T=>de.template(T,p)))),Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).forEach(T=>{if(typeof t[T]=="function")throw new Error(`Cannot resolve value for '${c}: ${f}', given: ${t}`)}),t}}function Bs(e,t){if(typeof e=="undefined")return St.list();if(typeof e=="string")if(typeof t=="function")St.register(e,t);else if(t===null||t===!1)St.unregister(e);else return St.get(e);else St.registerMany(e)}function Js(e,t,i){return Object.keys(e).filter(c=>{let p=rr.indexOf(t)>-1;return i.indexOf(c)>-1&&!p}).length>0}function Gs(e,t){let i=Object.keys(kt);for(let c=0;c<i.length;c+=1){let p=i[c],f=t[t.length-1];if(Js(e,f,kt[p]))return p}}function Hs(){return ee("random")()>.5}function Ks(){return null}function zs(e,t,i,c,p,f){let d=[],O=[];function U(F){let A=JSON.stringify(F.value);return O.indexOf(A)===-1?(O.push(A),d.push(F),!0):!1}t.forEach(U);let T=100;for(;d.length!==t.length&&(U(f(i.items||c,e,p))||(T-=1),!!T););return d}function Xs(e,t,i,c){let p=[];if(!(e.items||e.additionalItems)){if(de.hasProperties(e,"minItems","maxItems","uniqueItems")&&(e.minItems!==0||e.maxItems!==0))throw new Qt(`missing items for ${de.short(e)}`,t);return p}if(Array.isArray(e.items))return e.items.map((V,oe)=>{let X=t.concat(["items",oe]);return c(V,X,i)});let f=e.minItems,d=e.maxItems,O=ee("minItems"),U=ee("maxItems");O&&(f=typeof f=="undefined"?O:Math.min(O,f)),U&&(d=typeof d=="undefined"?U:Math.min(U,d),d&&d>U&&(d=U),f&&f>U&&(f=d));let T=ee("alwaysFakeOptionals")===!0?1:ee("optionalsProbability"),F=ee("alwaysFakeOptionals")||ee("fixedProbabilities")||!1,A=Q.number(f,d,1,5);T!==null&&(A=Math.max(F?Math.round((d||A)*T):Math.abs(Q.number(f,d)*T),f||0));let B=typeof e.additionalItems=="object"?e.additionalItems:{};for(let V=p.length;V<A;V+=1){let oe=t.concat(["items",V]),X=c(e.items||B,oe,i);p.push(X)}if(e.contains&&A>0){let V=Q.number(0,A-1);p[V]=c(e.contains,t.concat(["items",V]),i)}return e.uniqueItems?zs(t.concat(["items"]),p,e,B,i,c):p}function Qs(e){let t=typeof e.minimum=="undefined"||e.minimum===-Number.MAX_VALUE?tt.MIN_INTEGER:e.minimum,i=typeof e.maximum=="undefined"||e.maximum===Number.MAX_VALUE?tt.MAX_INTEGER:e.maximum,c=e.multipleOf,p=c&&String(c).match(/e-(\d)|\.(\d+)$/);if(p){let f=(Math.random()*Q.number(0,10)+1)*c,d=p[1]||p[2].length,O=parseFloat(f.toFixed(d)),U=Q.number(t,i-1);return String(O).includes(".")?U+O:(U+O).toExponential()}if(c&&(i=Math.floor(i/c)*c,t=Math.ceil(t/c)*c),e.exclusiveMinimum&&t===e.minimum&&(t+=c||1),e.exclusiveMaximum&&i===e.maximum&&(i-=c||1),t>i)return NaN;if(c){let f=Q.number(Math.floor(t/c),Math.floor(i/c))*c;for(;f<t;)f+=c;return f}return Q.number(t,i,void 0,void 0,e.type!=="integer")}function Zs(e){return Math.floor(ui({...e}))}function eo(e){return Q.shuffle(hr).slice(0,e)}function to(e,t,i,c){let p={},f=e.properties||{},d=e.patternProperties||{},O=typeof e.required=="boolean"?[]:(e.required||[]).slice(),U=e.additionalProperties!==!1,T=Object.keys(f),F=Object.keys(d),A=T.concat(F).reduce((Y,h)=>(O.indexOf(h)===-1&&Y.push(h),Y),[]),B=O.concat(A),V=U&&e.additionalProperties===!0?en:e.additionalProperties;if(!U&&T.length===0&&F.length===0&&de.hasProperties(e,"minProperties","maxProperties","dependencies","required"))return null;if(ee("requiredOnly")===!0)return O.forEach(Y=>{f[Y]&&(p[Y]=f[Y])}),c(p,t.concat(["properties"]),i,e);let oe=ee("alwaysFakeOptionals")===!0?1:ee("optionalsProbability"),X=ee("alwaysFakeOptionals")||ee("fixedProbabilities")||!1,te=ee("ignoreProperties")||[],he=ee("reuseProperties"),ye=ee("fillProperties"),j=e.maxProperties||B.length+(U?Q.number(1,5):0),g=Math.max(e.minProperties||0,O.length),b=Math.max(0,B.length-g);B.length===1&&!O.length&&(g=Math.max(Q.number(ye?1:0,j),g)),oe!==null&&(X===!0?b=Math.round(g-O.length+oe*(B.length-g)):b=Q.number(g-O.length,oe*(B.length-g)));let R=Q.shuffle(A).slice(0,b),I=A.filter(Y=>R.indexOf(Y)!==-1),L=oe!==null||O.length===j?j:Q.number(0,j),_=O.concat(Q.shuffle(I).slice(0,L)).slice(0,j),N=[],k=[];if(e.dependencies&&(Object.keys(e.dependencies).forEach(Y=>{let h=e.dependencies[Y];if(_.indexOf(Y)!==-1)if(Array.isArray(h))h.forEach(x=>{_.indexOf(x)===-1&&_.push(x)});else if(Array.isArray(h.oneOf||h.anyOf)){let x=h.oneOf||h.anyOf;k.push({prop:Y,values:x})}else N.push(h)}),N.length))return delete e.dependencies,c({allOf:N.concat(e)},t.concat(["properties"]),i,e);let W=[],J=[];_.forEach(Y=>{if(f[Y]&&["{}","true"].includes(JSON.stringify(f[Y].not)))return;for(let x=0;x<te.length;x+=1)if(te[x]instanceof RegExp&&te[x].test(Y)||typeof te[x]=="string"&&te[x]===Y||typeof te[x]=="function"&&te[x](f[Y],Y)){W.push(Y);return}V===!1&&O.indexOf(Y)!==-1&&(p[Y]=f[Y]),f[Y]&&(p[Y]=f[Y]);let h;if(F.forEach(x=>{Y.match(new RegExp(x))&&(h=!0,p[Y]?de.merge(p[Y],d[x]):p[Q.randexp(Y)]=d[x])}),!h){let x=d[Y]||V;x&&V!==!1?p[d[Y]?Q.randexp(Y):Y]=f[Y]||x:J.push(Y)}});let Z=Object.keys(p).length+(ye?0:W.length),Te=Y=>Q.randexp(`_?[_a-f\\d]{1,3}${Y?"\\$?":""}`);function Oe(Y){let h;do{if(!Y.length)break;h=Y.shift()}while(p[h]);return h}let Ae=g;if(U&&!O.length&&(Ae=Math.max(oe===null||V?Q.number(ye?1:0,j):0,g)),!I.length&&!b&&U&&X===!0&&ye){let Y=Q.number(0,j);for(let h=0;h<Y;h+=1)p[Zt(1)+Te(Y[h])]=V||en}for(;ye&&!(!(F.length||U)||Z>=Ae);){if(U)if(he&&T.length-Z>Ae){let Y=0,h;do{if(Y+=1,Y>1e3)break;h=Oe(O)||Q.pick(T)}while(typeof p[h]!="undefined");typeof p[h]=="undefined"&&(p[h]=f[h],Z+=1)}else if(F.length&&!V){let Y=Q.pick(F),h=Q.randexp(Y);p[h]||(p[h]=d[Y],Z+=1)}else{let Y=Oe(O)||Zt(1)+Te();p[Y]||(p[Y]=V||en,Z+=1)}for(let Y=0;Z<g&&Y<F.length;Y+=1){let h=F[Y],x=Q.randexp(h);p[x]||(p[x]=d[h],Z+=1)}}if(O.length===0&&(!U||oe===!1)){let Y=Q.number(g,j);for(;Z<Y;){let h=Oe(T);h&&(p[h]=f[h]),Z+=1}}let Pe=p;if(ee("sortProperties")!==null){let Y=Object.keys(f);Pe=Object.keys(p).sort((x,G)=>ee("sortProperties")?x.localeCompare(G):Y.indexOf(x)-Y.indexOf(G)).reduce((x,G)=>(x[G]=p[G],x),{})}let ke=c(Pe,t.concat(["properties"]),i,e);return k.forEach(Y=>{for(let h of Y.values)if(de.hasValue(h.properties[Y.prop],ke.value[Y.prop])){Object.keys(h.properties).forEach(x=>{x!==Y.prop&&de.merge(ke.value,c(h.properties,t.concat(["properties"]),i,e).value)});break}}),ke}function Ii(){let e=Q.number(1,5);return Zt(e).join(" ")}function no(e=0,t=140){let i=Math.max(0,e),c=Q.number(i,t),p=Ii();for(;p.length<i;)p+=Ii();return p.length>c&&(p=p.substr(0,c)),p}function io(){return[0,0,0,0].map(()=>Q.number(0,255)).join(".")}function ro(){return Q.date().toISOString()}function so(){return tn().slice(0,10)}function oo(){return tn().slice(11)}function ao(e){return Q.randexp(Ve[e]).replace(Sr,(t,i)=>Q.randexp(Ve[i]))}function lo(e,t){let i=pi(e.format);if(typeof i=="function")return i(e);switch(e.format){case"date-time":case"datetime":return tn();case"date":return gr();case"time":return wr();case"ipv4":return yr();case"regex":return".+?";case"email":case"hostname":case"ipv6":case"uri":case"uri-reference":case"iri":case"iri-reference":case"idn-email":case"idn-hostname":case"json-pointer":case"slug":case"uri-template":case"uuid":case"duration":return Tr(e.format);default:if(typeof i=="undefined"){if(ee("failOnInvalidFormat"))throw new Error(`unknown registry key ${de.short(e.format)}`);return t()}throw new Error(`unsupported format '${e.format}'`)}}function co(e){return de.typecast("string",e,i=>e.format?lo(e,()=>di(i.minLength,i.maxLength)):e.pattern?Q.randexp(e.pattern):di(i.minLength,i.maxLength))}function po({$comment:e,title:t,description:i}){return Object.entries({comment:e,title:t,description:i}).filter(([,c])=>c).reduce((c,[p,f])=>(c[p]=f,c),{})}function bt(e,t,i,c){if(e=i(e,null,t),e&&(e.oneOf||e.anyOf||e.allOf)&&(e=i(e,null,t)),!e)throw new Error(`Cannot traverse at '${t.join(".")}', given '${JSON.stringify(c)}'`);let p={...po(e),schemaPath:t};if(t[t.length-1]!=="properties"){if(ee("useExamplesValue")&&Array.isArray(e.examples)){let T=e.examples.concat("default"in e?[e.default]:[]);return{value:de.typecast(null,e,()=>Q.pick(T)),context:p}}if(ee("useExamplesValue")&&typeof e.example!="undefined")return{value:de.typecast(null,e,()=>e.example),context:p};if(ee("useDefaultValue")&&"default"in e&&(e.default!==""||!ee("replaceEmptyByRandomValue")))return{value:e.default,context:p};if("template"in e)return{value:de.template(e.template,c),context:p};if("const"in e)return{value:e.const,context:p}}if(e.not&&typeof e.not=="object"&&(e=de.notValue(e.not,de.omitProps(e,["not"])),e.type&&e.type==="object")){let{value:T,context:F}=bt(e,t.concat(["not"]),i,c);return{value:de.clean(T,e,!1),context:{...p,items:F}}}if(typeof e.thunk=="function"){let{value:T,context:F}=bt(e.thunk(c),t,i);return{value:T,context:{...p,items:F}}}if(e.jsonPath)return{value:e,context:p};let f=e.type;if(Array.isArray(f)?f=Q.pick(f):typeof f=="undefined"&&(f=sr(e,t)||f,f&&(e.type=f)),typeof e.generate=="function"){let T=de.typecast(null,e,()=>e.generate(c,t)),F=T===null?"null":typeof T;if(F===f||F==="number"&&f==="integer"||Array.isArray(T)&&f==="array")return{value:T,context:p}}if(typeof e.pattern=="string")return{value:de.typecast("string",e,()=>Q.randexp(e.pattern)),context:p};if(Array.isArray(e.enum))return{value:de.typecast(null,e,()=>Q.pick(e.enum)),context:p};if(typeof f=="string")if(Mt[f])try{let T=Mt[f](e,t,i,bt);return f==="array"?{value:T.map(({value:F})=>F),context:{...p,items:T.map(Array.isArray(e.items)?({context:F})=>F:({context:F})=>({...F,schemaPath:F.schemaPath.slice(0,-1)}))}}:f==="object"?T!==null?{value:T.value,context:{...p,items:T.context}}:{value:{},context:p}:{value:T,context:p}}catch(T){throw typeof T.path=="undefined"?new Qt(T.stack,t):T}else{if(ee("failOnInvalidTypes"))throw new Qt(`unknown primitive ${de.short(f)}`,t.concat(["type"]));{let T=ee("defaultInvalidTypeProduct");return typeof T=="string"&&Mt[T]?{value:Mt[T](e,t,i,bt),context:p}:{value:T,context:p}}}let d={},O={...p};Array.isArray(e)&&(d=[]);let U=ee("pruneProperties")||[];return Object.keys(e).forEach(T=>{if(!U.includes(T)&&e[T]!==null)if(typeof e[T]=="object"&&T!=="definitions"){let{value:F,context:A}=bt(e[T],t.concat([T]),i,d);d[T]=de.clean(F,e[T],!1),O[T]=A,d[T]===null&&ee("omitNulls")&&(delete d[T],delete O[T])}else d[T]=e[T]}),{value:d,context:O}}function uo(e){return Array.isArray(e)?Q.pick(e):e}function fo(e,t){if(!Array.isArray(e))return e;let i=t?e.pop():e.shift();return t?e.unshift(i):e.push(i),i}function Xn(e,t,i,c){if(!e||typeof e!="object")return e;if(i||(i={}),t||(t=e),Array.isArray(e))return e.map(p=>Xn(p,t,i,c));if(e.jsonPath){let{JSONPath:p}=si(),f=typeof e.jsonPath!="object"?{path:e.jsonPath}:e.jsonPath;f.group=e.group||f.group||c,f.cycle=e.cycle||f.cycle||!1,f.reverse=e.reverse||f.reverse||!1,f.count=e.count||f.count||1;let d=`${f.group}__${f.path}`;return i[d]||(f.count>1?i[d]=p(f.path,t).slice(0,f.count):i[d]=p(f.path,t)),f.cycle||f.reverse?fo(i[d],f.reverse):uo(i[d])}return Object.keys(e).forEach(p=>{e[p]=Xn(e[p],t,i,p)}),e}function ho(e,t,i,c){if(Object.prototype.toString.call(t)!=="[object Object]")throw new Error(`Invalid input, expecting object but given ${typeof t}`);let p=ee("refDepthMin")||0,f=ee("refDepthMax")||3;try{let{resolveSchema:d}=_r({refs:e,schema:t,container:i,synchronous:c,refDepthMin:p,refDepthMax:f}),O=vr(de.clone(t),[],d);return ee("resolveJsonPath")?{value:Xn(O.value),context:O.context}:O}catch(d){throw d.path?new Error(`${d.message} in /${d.path.join("/")}`):d}}function mo(e){return e.value}function yo(e,t){return t.reduce((i,c)=>c in i?i[c]:{},e)}function Qn(e,t,i,c=i){let{title:p,description:f,comment:d}=yo(e,t),O=[];ee("renderTitle")&&p&&O.push(` ${p}`,""),ee("renderDescription")&&f&&O.push(` ${f}`),ee("renderComment")&&d&&O.push(` ${d}`),i.commentBefore=O.join(`
`),c instanceof Rr?c.items.forEach(U=>{Qn(e,[...t,"items",U.key.value],U.key,U.value)}):c instanceof Pr&&c.items.forEach((U,T)=>{Qn(e,[...t,"items",T],U)})}function go({value:e,context:t}){let i=Ct.createNode(e);Qn(t,[],i);let c=new Ct.Document;return c.contents=i,c.toString()}function Ni(){it.define("autoIncrement",function(t,i){if(!this.offset){let c=i.minimum||1,p=c+tt.MAX_NUMBER,f=t.initialOffset||i.initialOffset;this.offset=f||Q.number(c,p)}return t?this.offset++:i}),it.define("sequentialDate",function(t,i){if(this.now||(this.now=Q.date()),t){if(i=this.now.toISOString(),t=t===!0?"days":t,["seconds","minutes","hours","days","weeks","months","years"].indexOf(t)===-1)throw new Error(`Unsupported increment by ${de.short(t)}`);this.now.setTime(this.now.getTime()+Q.date(t))}return i})}function xi(e,t){let i={};Array.isArray(e)?e.forEach(p=>{i[p.$id||p.id]=p}):i=e||{};function c(p){if(!p||typeof p!="object")return;if(Array.isArray(p))return p.forEach(c);let f=p.$id||p.id;typeof f=="string"&&!i[f]&&(i[f]=p),Object.keys(p).forEach(d=>{c(p[d])})}return c(e),c(t),i}var ki,Zn,Mi,ei,Ci,Li,Fe,Di,ti,$,ni,Ui,$i,Fi,ji,Yi,Nt,zt,ii,Vi,Wi,ri,si,qi,Bi,oi,ue,ai,Ji,Gi,xt,ee,li,ci,Hi,Ki,zi,Xi,Qi,Zi,tt,Xt,Q,er,de,tr,nr,St,pi,ir,Qt,kt,rr,sr,or,ar,lr,cr,pr,ur,dr,ui,fr,hr,Zt,en,mr,di,yr,tn,gr,wr,fi,nn,br,Ve,Sr,Tr,Or,Er,Mt,vr,Ar,_r,hi,mi,Me,wo,bo,So,To,Oo,Eo,vo,Ao,_o,Ro,Po,Io,Rr,Pr,Ct,it,Se,Ir,Nr,No=S({"src/shared.js"(){ki=Object.create,Zn=Object.defineProperty,Mi=Object.getOwnPropertyDescriptor,ei=Object.getOwnPropertyNames,Ci=Object.getPrototypeOf,Li=Object.prototype.hasOwnProperty,Fe=(e,t)=>function(){return t||(0,e[ei(e)[0]])((t={exports:{}}).exports,t),t.exports},Di=(e,t,i,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let p of ei(t))!Li.call(e,p)&&p!==i&&Zn(e,p,{get:()=>t[p],enumerable:!(c=Mi(t,p))||c.enumerable});return e},ti=(e,t,i)=>(i=e!=null?ki(Ci(e)):{},Di(t||!e||!e.__esModule?Zn(i,"default",{value:e,enumerable:!0}):i,e)),$=Fe({"node_modules/ret/lib/types.js"(e,t){t.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}}}),ni=Fe({"node_modules/ret/lib/sets.js"(e){var t=$(),i=()=>[{type:t.RANGE,from:48,to:57}],c=()=>[{type:t.CHAR,value:95},{type:t.RANGE,from:97,to:122},{type:t.RANGE,from:65,to:90}].concat(i()),p=()=>[{type:t.CHAR,value:9},{type:t.CHAR,value:10},{type:t.CHAR,value:11},{type:t.CHAR,value:12},{type:t.CHAR,value:13},{type:t.CHAR,value:32},{type:t.CHAR,value:160},{type:t.CHAR,value:5760},{type:t.RANGE,from:8192,to:8202},{type:t.CHAR,value:8232},{type:t.CHAR,value:8233},{type:t.CHAR,value:8239},{type:t.CHAR,value:8287},{type:t.CHAR,value:12288},{type:t.CHAR,value:65279}],f=()=>[{type:t.CHAR,value:10},{type:t.CHAR,value:13},{type:t.CHAR,value:8232},{type:t.CHAR,value:8233}];e.words=()=>({type:t.SET,set:c(),not:!1}),e.notWords=()=>({type:t.SET,set:c(),not:!0}),e.ints=()=>({type:t.SET,set:i(),not:!1}),e.notInts=()=>({type:t.SET,set:i(),not:!0}),e.whitespace=()=>({type:t.SET,set:p(),not:!1}),e.notWhitespace=()=>({type:t.SET,set:p(),not:!0}),e.anyChar=()=>({type:t.SET,set:f(),not:!0})}}),Ui=Fe({"node_modules/ret/lib/util.js"(e){var t=$(),i=ni(),c="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",p={0:0,t:9,n:10,v:11,f:12,r:13};e.strToChars=function(f){var d=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return f=f.replace(d,function(O,U,T,F,A,B,V,oe){if(T)return O;var X=U?8:F?parseInt(F,16):A?parseInt(A,16):B?parseInt(B,8):V?c.indexOf(V):p[oe],te=String.fromCharCode(X);return/[[\]{}^$.|?*+()]/.test(te)&&(te="\\"+te),te}),f},e.tokenizeClass=(f,d)=>{for(var O=[],U=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,T,F;(T=U.exec(f))!=null;)if(T[1])O.push(i.words());else if(T[2])O.push(i.ints());else if(T[3])O.push(i.whitespace());else if(T[4])O.push(i.notWords());else if(T[5])O.push(i.notInts());else if(T[6])O.push(i.notWhitespace());else if(T[7])O.push({type:t.RANGE,from:(T[8]||T[9]).charCodeAt(0),to:T[10].charCodeAt(0)});else if(F=T[12])O.push({type:t.CHAR,value:F.charCodeAt(0)});else return[O,U.lastIndex];e.error(d,"Unterminated character class")},e.error=(f,d)=>{throw new SyntaxError("Invalid regular expression: /"+f+"/: "+d)}}}),$i=Fe({"node_modules/ret/lib/positions.js"(e){var t=$();e.wordBoundary=()=>({type:t.POSITION,value:"b"}),e.nonWordBoundary=()=>({type:t.POSITION,value:"B"}),e.begin=()=>({type:t.POSITION,value:"^"}),e.end=()=>({type:t.POSITION,value:"$"})}}),Fi=Fe({"node_modules/ret/lib/index.js"(e,t){var i=Ui(),c=$(),p=ni(),f=$i();t.exports=d=>{var O=0,U,T,F={type:c.ROOT,stack:[]},A=F,B=F.stack,V=[],oe=I=>{i.error(d,`Nothing to repeat at column ${I-1}`)},X=i.strToChars(d);for(U=X.length;O<U;)switch(T=X[O++],T){case"\\":switch(T=X[O++],T){case"b":B.push(f.wordBoundary());break;case"B":B.push(f.nonWordBoundary());break;case"w":B.push(p.words());break;case"W":B.push(p.notWords());break;case"d":B.push(p.ints());break;case"D":B.push(p.notInts());break;case"s":B.push(p.whitespace());break;case"S":B.push(p.notWhitespace());break;default:/\d/.test(T)?B.push({type:c.REFERENCE,value:parseInt(T,10)}):B.push({type:c.CHAR,value:T.charCodeAt(0)})}break;case"^":B.push(f.begin());break;case"$":B.push(f.end());break;case"[":var te;X[O]==="^"?(te=!0,O++):te=!1;var he=i.tokenizeClass(X.slice(O),d);O+=he[1],B.push({type:c.SET,set:he[0],not:te});break;case".":B.push(p.anyChar());break;case"(":var ye={type:c.GROUP,stack:[],remember:!0};T=X[O],T==="?"&&(T=X[O+1],O+=2,T==="="?ye.followedBy=!0:T==="!"?ye.notFollowedBy=!0:T!==":"&&i.error(d,`Invalid group, character '${T}' after '?' at column ${O-1}`),ye.remember=!1),B.push(ye),V.push(A),A=ye,B=ye.stack;break;case")":V.length===0&&i.error(d,`Unmatched ) at column ${O-1}`),A=V.pop(),B=A.options?A.options[A.options.length-1]:A.stack;break;case"|":A.options||(A.options=[A.stack],delete A.stack);var j=[];A.options.push(j),B=j;break;case"{":var g=/^(\d+)(,(\d+)?)?\}/.exec(X.slice(O)),b,R;g!==null?(B.length===0&&oe(O),b=parseInt(g[1],10),R=g[2]?g[3]?parseInt(g[3],10):1/0:b,O+=g[0].length,B.push({type:c.REPETITION,min:b,max:R,value:B.pop()})):B.push({type:c.CHAR,value:123});break;case"?":B.length===0&&oe(O),B.push({type:c.REPETITION,min:0,max:1,value:B.pop()});break;case"+":B.length===0&&oe(O),B.push({type:c.REPETITION,min:1,max:1/0,value:B.pop()});break;case"*":B.length===0&&oe(O),B.push({type:c.REPETITION,min:0,max:1/0,value:B.pop()});break;default:B.push({type:c.CHAR,value:T.charCodeAt(0)})}return V.length!==0&&i.error(d,"Unterminated group"),F},t.exports.types=c}}),ji=Fe({"node_modules/drange/lib/index.js"(e,t){"use strict";var i=class Et{constructor(f,d){this.low=f,this.high=d,this.length=1+d-f}overlaps(f){return!(this.high<f.low||this.low>f.high)}touches(f){return!(this.high+1<f.low||this.low-1>f.high)}add(f){return new Et(Math.min(this.low,f.low),Math.max(this.high,f.high))}subtract(f){return f.low<=this.low&&f.high>=this.high?[]:f.low>this.low&&f.high<this.high?[new Et(this.low,f.low-1),new Et(f.high+1,this.high)]:f.low<=this.low?[new Et(f.high+1,this.high)]:[new Et(this.low,f.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}},c=class qt{constructor(f,d){this.ranges=[],this.length=0,f!=null&&this.add(f,d)}_update_length(){this.length=this.ranges.reduce((f,d)=>f+d.length,0)}add(f,d){var O=U=>{for(var T=0;T<this.ranges.length&&!U.touches(this.ranges[T]);)T++;for(var F=this.ranges.slice(0,T);T<this.ranges.length&&U.touches(this.ranges[T]);)U=U.add(this.ranges[T]),T++;F.push(U),this.ranges=F.concat(this.ranges.slice(T)),this._update_length()};return f instanceof qt?f.ranges.forEach(O):(d==null&&(d=f),O(new i(f,d))),this}subtract(f,d){var O=U=>{for(var T=0;T<this.ranges.length&&!U.overlaps(this.ranges[T]);)T++;for(var F=this.ranges.slice(0,T);T<this.ranges.length&&U.overlaps(this.ranges[T]);)F=F.concat(this.ranges[T].subtract(U)),T++;this.ranges=F.concat(this.ranges.slice(T)),this._update_length()};return f instanceof qt?f.ranges.forEach(O):(d==null&&(d=f),O(new i(f,d))),this}intersect(f,d){var O=[],U=T=>{for(var F=0;F<this.ranges.length&&!T.overlaps(this.ranges[F]);)F++;for(;F<this.ranges.length&&T.overlaps(this.ranges[F]);){var A=Math.max(this.ranges[F].low,T.low),B=Math.min(this.ranges[F].high,T.high);O.push(new i(A,B)),F++}};return f instanceof qt?f.ranges.forEach(U):(d==null&&(d=f),U(new i(f,d))),this.ranges=O,this._update_length(),this}index(f){for(var d=0;d<this.ranges.length&&this.ranges[d].length<=f;)f-=this.ranges[d].length,d++;return this.ranges[d].low+f}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new qt(this)}numbers(){return this.ranges.reduce((f,d)=>{for(var O=d.low;O<=d.high;)f.push(O),O++;return f},[])}subranges(){return this.ranges.map(f=>({low:f.low,high:f.high,length:1+f.high-f.low}))}};t.exports=c}}),Yi=Fe({"node_modules/randexp/lib/randexp.js"(e,t){var i=Fi(),c=ji(),p=i.types;t.exports=class Bt{constructor(d,O){if(this._setDefaults(d),d instanceof RegExp)this.ignoreCase=d.ignoreCase,this.multiline=d.multiline,d=d.source;else if(typeof d=="string")this.ignoreCase=O&&O.indexOf("i")!==-1,this.multiline=O&&O.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=i(d)}_setDefaults(d){this.max=d.max!=null?d.max:Bt.prototype.max!=null?Bt.prototype.max:100,this.defaultRange=d.defaultRange?d.defaultRange:this.defaultRange.clone(),d.randInt&&(this.randInt=d.randInt)}gen(){return this._gen(this.tokens,[])}_gen(d,O){var U,T,F,A,B;switch(d.type){case p.ROOT:case p.GROUP:if(d.followedBy||d.notFollowedBy)return"";for(d.remember&&d.groupNumber===void 0&&(d.groupNumber=O.push(null)-1),U=d.options?this._randSelect(d.options):d.stack,T="",A=0,B=U.length;A<B;A++)T+=this._gen(U[A],O);return d.remember&&(O[d.groupNumber]=T),T;case p.POSITION:return"";case p.SET:var V=this._expand(d);return V.length?String.fromCharCode(this._randSelect(V)):"";case p.REPETITION:for(F=this.randInt(d.min,d.max===1/0?d.min+this.max:d.max),T="",A=0;A<F;A++)T+=this._gen(d.value,O);return T;case p.REFERENCE:return O[d.value-1]||"";case p.CHAR:var oe=this.ignoreCase&&this._randBool()?this._toOtherCase(d.value):d.value;return String.fromCharCode(oe)}}_toOtherCase(d){return d+(97<=d&&d<=122?-32:65<=d&&d<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(d){return d instanceof c?d.index(this.randInt(0,d.length-1)):d[this.randInt(0,d.length-1)]}_expand(d){if(d.type===i.types.CHAR)return new c(d.value);if(d.type===i.types.RANGE)return new c(d.from,d.to);{let O=new c;for(let U=0;U<d.set.length;U++){let T=this._expand(d.set[U]);if(O.add(T),this.ignoreCase)for(let F=0;F<T.length;F++){let A=T.index(F),B=this._toOtherCase(A);A!==B&&O.add(B)}}return d.not?this.defaultRange.clone().subtract(O):this.defaultRange.clone().intersect(O)}}randInt(d,O){return d+Math.floor(Math.random()*(1+O-d))}get defaultRange(){return this._range=this._range||new c(32,126)}set defaultRange(d){this._range=d}static randexp(d,O){var U;return typeof d=="string"&&(d=new RegExp(d,O)),d._randexp===void 0?(U=new Bt(d,O),d._randexp=U):(U=d._randexp,U._setDefaults(d)),U.gen()}static sugar(){RegExp.prototype.gen=function(){return Bt.randexp(this)}}}}}),Nt=Fe({"node_modules/yaml/dist/PlainValue-ec8e588e.js"(e){"use strict";var t={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},i={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},c="tag:yaml.org,2002:",p={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function f(j){let g=[0],b=j.indexOf(`
`);for(;b!==-1;)b+=1,g.push(b),b=j.indexOf(`
`,b);return g}function d(j){let g,b;return typeof j=="string"?(g=f(j),b=j):(Array.isArray(j)&&(j=j[0]),j&&j.context&&(j.lineStarts||(j.lineStarts=f(j.context.src)),g=j.lineStarts,b=j.context.src)),{lineStarts:g,src:b}}function O(j,g){if(typeof j!="number"||j<0)return null;let{lineStarts:b,src:R}=d(g);if(!b||!R||j>R.length)return null;for(let L=0;L<b.length;++L){let _=b[L];if(j<_)return{line:L,col:j-b[L-1]+1};if(j===_)return{line:L+1,col:1}}let I=b.length;return{line:I,col:j-b[I-1]+1}}function U(j,g){let{lineStarts:b,src:R}=d(g);if(!b||!(j>=1)||j>b.length)return null;let I=b[j-1],L=b[j];for(;L&&L>I&&R[L-1]===`
`;)--L;return R.slice(I,L)}function T({start:j,end:g},b,R=80){let I=U(j.line,b);if(!I)return null;let{col:L}=j;if(I.length>R)if(L<=R-10)I=I.substr(0,R-1)+"\u2026";else{let J=Math.round(R/2);I.length>L+J&&(I=I.substr(0,L+J-1)+"\u2026"),L-=I.length-R,I="\u2026"+I.substr(1-R)}let _=1,N="";g&&(g.line===j.line&&L+(g.col-j.col)<=R+1?_=g.col-j.col:(_=Math.min(I.length+1,R)-L,N="\u2026"));let k=L>1?" ".repeat(L-1):"",W="^".repeat(_);return`${I}
${k}${W}${N}`}var F=class Vr{static copy(g){return new Vr(g.start,g.end)}constructor(g,b){this.start=g,this.end=b||g}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(g,b){let{start:R,end:I}=this;if(g.length===0||I<=g[0])return this.origStart=R,this.origEnd=I,b;let L=b;for(;L<g.length&&!(g[L]>R);)++L;this.origStart=R+L;let _=L;for(;L<g.length&&!(g[L]>=I);)++L;return this.origEnd=I+L,_}},A=class at{static addStringTerminator(g,b,R){if(R[R.length-1]===`
`)return R;let I=at.endOfWhiteSpace(g,b);return I>=g.length||g[I]===`
`?R+`
`:R}static atDocumentBoundary(g,b,R){let I=g[b];if(!I)return!0;let L=g[b-1];if(L&&L!==`
`)return!1;if(R){if(I!==R)return!1}else if(I!==t.DIRECTIVES_END&&I!==t.DOCUMENT_END)return!1;let _=g[b+1],N=g[b+2];if(_!==I||N!==I)return!1;let k=g[b+3];return!k||k===`
`||k==="	"||k===" "}static endOfIdentifier(g,b){let R=g[b],I=R==="<",L=I?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;R&&L.indexOf(R)===-1;)R=g[b+=1];return I&&R===">"&&(b+=1),b}static endOfIndent(g,b){let R=g[b];for(;R===" ";)R=g[b+=1];return b}static endOfLine(g,b){let R=g[b];for(;R&&R!==`
`;)R=g[b+=1];return b}static endOfWhiteSpace(g,b){let R=g[b];for(;R==="	"||R===" ";)R=g[b+=1];return b}static startOfLine(g,b){let R=g[b-1];if(R===`
`)return b;for(;R&&R!==`
`;)R=g[b-=1];return b+1}static endOfBlockIndent(g,b,R){let I=at.endOfIndent(g,R);if(I>R+b)return I;{let L=at.endOfWhiteSpace(g,I),_=g[L];if(!_||_===`
`)return L}return null}static atBlank(g,b,R){let I=g[b];return I===`
`||I==="	"||I===" "||R&&!I}static nextNodeIsIndented(g,b,R){return!g||b<0?!1:b>0?!0:R&&g==="-"}static normalizeOffset(g,b){let R=g[b];return R?R!==`
`&&g[b-1]===`
`?b-1:at.endOfWhiteSpace(g,b):b}static foldNewline(g,b,R){let I=0,L=!1,_="",N=g[b+1];for(;N===" "||N==="	"||N===`
`;){switch(N){case`
`:I=0,b+=1,_+=`
`;break;case"	":I<=R&&(L=!0),b=at.endOfWhiteSpace(g,b+2)-1;break;case" ":I+=1,b+=1;break}N=g[b+1]}return _||(_=" "),N&&I<=R&&(L=!0),{fold:_,offset:b,error:L}}constructor(g,b,R){Object.defineProperty(this,"context",{value:R||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=b||[],this.type=g,this.value=null}getPropValue(g,b,R){if(!this.context)return null;let{src:I}=this.context,L=this.props[g];return L&&I[L.start]===b?I.slice(L.start+(R?1:0),L.end):null}get anchor(){for(let g=0;g<this.props.length;++g){let b=this.getPropValue(g,t.ANCHOR,!0);if(b!=null)return b}return null}get comment(){let g=[];for(let b=0;b<this.props.length;++b){let R=this.getPropValue(b,t.COMMENT,!0);R!=null&&g.push(R)}return g.length>0?g.join(`
`):null}commentHasRequiredWhitespace(g){let{src:b}=this.context;if(this.header&&g===this.header.end||!this.valueRange)return!1;let{end:R}=this.valueRange;return g!==R||at.atBlank(b,R-1)}get hasComment(){if(this.context){let{src:g}=this.context;for(let b=0;b<this.props.length;++b)if(g[this.props[b].start]===t.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:g}=this.context;for(let b=0;b<this.props.length;++b)if(g[this.props[b].start]!==t.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[i.FLOW_MAP,i.FLOW_SEQ,i.QUOTE_DOUBLE,i.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let g=O(this.range.start,this.context.root);if(!g)return;let b=O(this.range.end,this.context.root);return{start:g,end:b}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:g,end:b}=this.valueRange;return this.context.src.slice(g,b)}get tag(){for(let g=0;g<this.props.length;++g){let b=this.getPropValue(g,t.TAG,!1);if(b!=null){if(b[1]==="<")return{verbatim:b.slice(2,-1)};{let[R,I,L]=b.match(/^(.*!)([^!]*)$/);return{handle:I,suffix:L}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:g,end:b}=this.valueRange,{src:R}=this.context;for(let I=g;I<b;++I)if(R[I]===`
`)return!0;return!1}parseComment(g){let{src:b}=this.context;if(b[g]===t.COMMENT){let R=at.endOfLine(b,g+1),I=new F(g,R);return this.props.push(I),R}return g}setOrigRanges(g,b){return this.range&&(b=this.range.setOrigRange(g,b)),this.valueRange&&this.valueRange.setOrigRange(g,b),this.props.forEach(R=>R.setOrigRange(g,b)),b}toString(){let{context:{src:g},range:b,value:R}=this;if(R!=null)return R;let I=g.slice(b.start,b.end);return at.addStringTerminator(g,b.end,I)}},B=class extends Error{constructor(j,g,b){if(!b||!(g instanceof A))throw new Error(`Invalid arguments for new ${j}`);super(),this.name=j,this.message=b,this.source=g}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let j=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new F(this.offset,this.offset+1);let g=j&&O(this.offset,j);if(g){let b={line:g.line,col:g.col+1};this.linePos={start:g,end:b}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:g,col:b}=this.linePos.start;this.message+=` at line ${g}, column ${b}`;let R=j&&T(this.linePos,j);R&&(this.message+=`:

${R}
`)}delete this.source}},V=class extends B{constructor(j,g){super("YAMLReferenceError",j,g)}},oe=class extends B{constructor(j,g){super("YAMLSemanticError",j,g)}},X=class extends B{constructor(j,g){super("YAMLSyntaxError",j,g)}},te=class extends B{constructor(j,g){super("YAMLWarning",j,g)}};function he(j,g,b){return g in j?Object.defineProperty(j,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):j[g]=b,j}var ye=class Si extends A{static endOfLine(g,b,R){let I=g[b],L=b;for(;I&&I!==`
`&&!(R&&(I==="["||I==="]"||I==="{"||I==="}"||I===","));){let _=g[L+1];if(I===":"&&(!_||_===`
`||_==="	"||_===" "||R&&_===",")||(I===" "||I==="	")&&_==="#")break;L+=1,I=_}return L}get strValue(){if(!this.valueRange||!this.context)return null;let{start:g,end:b}=this.valueRange,{src:R}=this.context,I=R[b-1];for(;g<b&&(I===`
`||I==="	"||I===" ");)I=R[--b-1];let L="";for(let N=g;N<b;++N){let k=R[N];if(k===`
`){let{fold:W,offset:J}=A.foldNewline(R,N,-1);L+=W,N=J}else if(k===" "||k==="	"){let W=N,J=R[N+1];for(;N<b&&(J===" "||J==="	");)N+=1,J=R[N+1];J!==`
`&&(L+=N>W?R.slice(W,N+1):k)}else L+=k}let _=R[g];switch(_){case"	":{let N="Plain value cannot start with a tab character";return{errors:[new oe(this,N)],str:L}}case"@":case"`":{let N=`Plain value cannot start with reserved character ${_}`;return{errors:[new oe(this,N)],str:L}}default:return L}}parseBlockValue(g){let{indent:b,inFlow:R,src:I}=this.context,L=g,_=g;for(let N=I[L];N===`
`&&!A.atDocumentBoundary(I,L+1);N=I[L]){let k=A.endOfBlockIndent(I,b,L+1);if(k===null||I[k]==="#")break;I[k]===`
`?L=k:(_=Si.endOfLine(I,k,R),L=_)}return this.valueRange.isEmpty()&&(this.valueRange.start=g),this.valueRange.end=_,_}parse(g,b){this.context=g;let{inFlow:R,src:I}=g,L=b,_=I[L];return _&&_!=="#"&&_!==`
`&&(L=Si.endOfLine(I,b,R)),this.valueRange=new F(b,L),L=A.endOfWhiteSpace(I,L),L=this.parseComment(L),(!this.hasComment||this.valueRange.isEmpty())&&(L=this.parseBlockValue(L)),L}};e.Char=t,e.Node=A,e.PlainValue=ye,e.Range=F,e.Type=i,e.YAMLError=B,e.YAMLReferenceError=V,e.YAMLSemanticError=oe,e.YAMLSyntaxError=X,e.YAMLWarning=te,e._defineProperty=he,e.defaultTagPrefix=c,e.defaultTags=p}}),zt=Fe({"node_modules/yaml/dist/resolveSeq-d03cb037.js"(e){"use strict";var t=Nt();function i(o,r,a){return a?`#${a.replace(/[\s\S]^/gm,`$&${r}#`)}
${r}${o}`:o}function c(o,r,a){return a?a.indexOf(`
`)===-1?`${o} #${a}`:`${o}
`+a.replace(/^/gm,`${r||""}#`):o}var p=class{};function f(o,r,a){if(Array.isArray(o))return o.map((u,m)=>f(u,String(m),a));if(o&&typeof o.toJSON=="function"){let u=a&&a.anchors&&a.anchors.get(o);u&&(a.onCreate=y=>{u.res=y,delete a.onCreate});let m=o.toJSON(r,a);return u&&a.onCreate&&a.onCreate(m),m}return(!a||!a.keep)&&typeof o=="bigint"?Number(o):o}var d=class extends p{constructor(o){super(),this.value=o}toJSON(o,r){return r&&r.keep?this.value:f(this.value,o,r)}toString(){return String(this.value)}};function O(o,r,a){let u=a;for(let m=r.length-1;m>=0;--m){let y=r[m];if(Number.isInteger(y)&&y>=0){let E=[];E[y]=u,u=E}else{let E={};Object.defineProperty(E,y,{value:u,writable:!0,enumerable:!0,configurable:!0}),u=E}}return o.createNode(u,!1)}var U=o=>o==null||typeof o=="object"&&o[Symbol.iterator]().next().done,T=class yt extends p{constructor(r){super(),t._defineProperty(this,"items",[]),this.schema=r}addIn(r,a){if(U(r))this.add(a);else{let[u,...m]=r,y=this.get(u,!0);if(y instanceof yt)y.addIn(m,a);else if(y===void 0&&this.schema)this.set(u,O(this.schema,m,a));else throw new Error(`Expected YAML collection at ${u}. Remaining path: ${m}`)}}deleteIn([r,...a]){if(a.length===0)return this.delete(r);let u=this.get(r,!0);if(u instanceof yt)return u.deleteIn(a);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}getIn([r,...a],u){let m=this.get(r,!0);return a.length===0?!u&&m instanceof d?m.value:m:m instanceof yt?m.getIn(a,u):void 0}hasAllNullValues(){return this.items.every(r=>{if(!r||r.type!=="PAIR")return!1;let a=r.value;return a==null||a instanceof d&&a.value==null&&!a.commentBefore&&!a.comment&&!a.tag})}hasIn([r,...a]){if(a.length===0)return this.has(r);let u=this.get(r,!0);return u instanceof yt?u.hasIn(a):!1}setIn([r,...a],u){if(a.length===0)this.set(r,u);else{let m=this.get(r,!0);if(m instanceof yt)m.setIn(a,u);else if(m===void 0&&this.schema)this.set(r,O(this.schema,a,u));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${a}`)}}toJSON(){return null}toString(r,{blockItem:a,flowChars:u,isMap:m,itemIndent:y},E,v){let{indent:P,indentStep:D,stringify:q}=r,z=this.type===t.Type.FLOW_MAP||this.type===t.Type.FLOW_SEQ||r.inFlow;z&&(y+=D);let be=m&&this.hasAllNullValues();r=Object.assign({},r,{allNullValues:be,indent:y,inFlow:z,type:null});let re=!1,ge=!1,se=this.items.reduce((Ie,pe,Ee)=>{let fe;pe&&(!re&&pe.spaceBefore&&Ie.push({type:"comment",str:""}),pe.commentBefore&&pe.commentBefore.match(/^.*$/gm).forEach(qo=>{Ie.push({type:"comment",str:`#${qo}`})}),pe.comment&&(fe=pe.comment),z&&(!re&&pe.spaceBefore||pe.commentBefore||pe.comment||pe.key&&(pe.key.commentBefore||pe.key.comment)||pe.value&&(pe.value.commentBefore||pe.value.comment))&&(ge=!0)),re=!1;let Ce=q(pe,r,()=>fe=null,()=>re=!0);return z&&!ge&&Ce.includes(`
`)&&(ge=!0),z&&Ee<this.items.length-1&&(Ce+=","),Ce=c(Ce,y,fe),re&&(fe||z)&&(re=!1),Ie.push({type:"item",str:Ce}),Ie},[]),me;if(se.length===0)me=u.start+u.end;else if(z){let{start:Ie,end:pe}=u,Ee=se.map(fe=>fe.str);if(ge||Ee.reduce((fe,Ce)=>fe+Ce.length+2,2)>yt.maxFlowStringSingleLineLength){me=Ie;for(let fe of Ee)me+=fe?`
${D}${P}${fe}`:`
`;me+=`
${P}${pe}`}else me=`${Ie} ${Ee.join(" ")} ${pe}`}else{let Ie=se.map(a);me=Ie.shift();for(let pe of Ie)me+=pe?`
${P}${pe}`:`
`}return this.comment?(me+=`
`+this.comment.replace(/^/gm,`${P}#`),E&&E()):re&&v&&v(),me}};t._defineProperty(T,"maxFlowStringSingleLineLength",60);function F(o){let r=o instanceof d?o.value:o;return r&&typeof r=="string"&&(r=Number(r)),Number.isInteger(r)&&r>=0?r:null}var A=class extends T{add(o){this.items.push(o)}delete(o){let r=F(o);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(o,r){let a=F(o);if(typeof a!="number")return;let u=this.items[a];return!r&&u instanceof d?u.value:u}has(o){let r=F(o);return typeof r=="number"&&r<this.items.length}set(o,r){let a=F(o);if(typeof a!="number")throw new Error(`Expected a valid index, not ${o}.`);this.items[a]=r}toJSON(o,r){let a=[];r&&r.onCreate&&r.onCreate(a);let u=0;for(let m of this.items)a.push(f(m,String(u++),r));return a}toString(o,r,a){return o?super.toString(o,{blockItem:u=>u.type==="comment"?u.str:`- ${u.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(o.indent||"")+"  "},r,a):JSON.stringify(this)}},B=(o,r,a)=>r===null?"":typeof r!="object"?String(r):o instanceof p&&a&&a.doc?o.toString({anchors:Object.create(null),doc:a.doc,indent:"",indentStep:a.indentStep,inFlow:!0,inStringifyKey:!0,stringify:a.stringify}):JSON.stringify(r),V=class Wr extends p{constructor(r,a=null){super(),this.key=r,this.value=a,this.type=Wr.Type.PAIR}get commentBefore(){return this.key instanceof p?this.key.commentBefore:void 0}set commentBefore(r){if(this.key==null&&(this.key=new d(null)),this.key instanceof p)this.key.commentBefore=r;else{let a="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(a)}}addToJSMap(r,a){let u=f(this.key,"",r);if(a instanceof Map){let m=f(this.value,u,r);a.set(u,m)}else if(a instanceof Set)a.add(u);else{let m=B(this.key,u,r),y=f(this.value,m,r);m in a?Object.defineProperty(a,m,{value:y,writable:!0,enumerable:!0,configurable:!0}):a[m]=y}return a}toJSON(r,a){let u=a&&a.mapAsMap?new Map:{};return this.addToJSMap(a,u)}toString(r,a,u){if(!r||!r.doc)return JSON.stringify(this);let{indent:m,indentSeq:y,simpleKeys:E}=r.doc.options,{key:v,value:P}=this,D=v instanceof p&&v.comment;if(E){if(D)throw new Error("With simple keys, key nodes cannot have comments");if(v instanceof T){let Ce="With simple keys, collection cannot be used as a key value";throw new Error(Ce)}}let q=!E&&(!v||D||(v instanceof p?v instanceof T||v.type===t.Type.BLOCK_FOLDED||v.type===t.Type.BLOCK_LITERAL:typeof v=="object")),{doc:z,indent:be,indentStep:re,stringify:ge}=r;r=Object.assign({},r,{implicitKey:!q,indent:be+re});let se=!1,me=ge(v,r,()=>D=null,()=>se=!0);if(me=c(me,r.indent,D),!q&&me.length>1024){if(E)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");q=!0}if(r.allNullValues&&!E)return this.comment?(me=c(me,r.indent,this.comment),a&&a()):se&&!D&&u&&u(),r.inFlow&&!q?me:`? ${me}`;me=q?`? ${me}
${be}:`:`${me}:`,this.comment&&(me=c(me,r.indent,this.comment),a&&a());let Ie="",pe=null;if(P instanceof p){if(P.spaceBefore&&(Ie=`
`),P.commentBefore){let Ce=P.commentBefore.replace(/^/gm,`${r.indent}#`);Ie+=`
${Ce}`}pe=P.comment}else P&&typeof P=="object"&&(P=z.schema.createNode(P,!0));r.implicitKey=!1,!q&&!this.comment&&P instanceof d&&(r.indentAtStart=me.length+1),se=!1,!y&&m>=2&&!r.inFlow&&!q&&P instanceof A&&P.type!==t.Type.FLOW_SEQ&&!P.tag&&!z.anchors.getName(P)&&(r.indent=r.indent.substr(2));let Ee=ge(P,r,()=>pe=null,()=>se=!0),fe=" ";return Ie||this.comment?fe=`${Ie}
${r.indent}`:!q&&P instanceof T?(!(Ee[0]==="["||Ee[0]==="{")||Ee.includes(`
`))&&(fe=`
${r.indent}`):Ee[0]===`
`&&(fe=""),se&&!pe&&u&&u(),c(me+fe+Ee,r.indent,pe)}};t._defineProperty(V,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var oe=(o,r)=>{if(o instanceof X){let a=r.get(o.source);return a.count*a.aliasCount}else if(o instanceof T){let a=0;for(let u of o.items){let m=oe(u,r);m>a&&(a=m)}return a}else if(o instanceof V){let a=oe(o.key,r),u=oe(o.value,r);return Math.max(a,u)}return 1},X=class qr extends p{static stringify({range:r,source:a},{anchors:u,doc:m,implicitKey:y,inStringifyKey:E}){let v=Object.keys(u).find(D=>u[D]===a);if(!v&&E&&(v=m.anchors.getName(a)||m.anchors.newName()),v)return`*${v}${y?" ":""}`;let P=m.anchors.getName(a)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${P} [${r}]`)}constructor(r){super(),this.source=r,this.type=t.Type.ALIAS}set tag(r){throw new Error("Alias nodes cannot have tags")}toJSON(r,a){if(!a)return f(this.source,r,a);let{anchors:u,maxAliasCount:m}=a,y=u.get(this.source);if(!y||y.res===void 0){let E="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,E):new ReferenceError(E)}if(m>=0&&(y.count+=1,y.aliasCount===0&&(y.aliasCount=oe(this.source,u)),y.count*y.aliasCount>m)){let E="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,E):new ReferenceError(E)}return y.res}toString(r){return qr.stringify(this,r)}};t._defineProperty(X,"default",!0);function te(o,r){let a=r instanceof d?r.value:r;for(let u of o)if(u instanceof V&&(u.key===r||u.key===a||u.key&&u.key.value===a))return u}var he=class extends T{add(o,r){o?o instanceof V||(o=new V(o.key||o,o.value)):o=new V(o);let a=te(this.items,o.key),u=this.schema&&this.schema.sortMapEntries;if(a)if(r)a.value=o.value;else throw new Error(`Key ${o.key} already set`);else if(u){let m=this.items.findIndex(y=>u(o,y)<0);m===-1?this.items.push(o):this.items.splice(m,0,o)}else this.items.push(o)}delete(o){let r=te(this.items,o);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(o,r){let a=te(this.items,o),u=a&&a.value;return!r&&u instanceof d?u.value:u}has(o){return!!te(this.items,o)}set(o,r){this.add(new V(o,r),!0)}toJSON(o,r,a){let u=a?new a:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(u);for(let m of this.items)m.addToJSMap(r,u);return u}toString(o,r,a){if(!o)return JSON.stringify(this);for(let u of this.items)if(!(u instanceof V))throw new Error(`Map items must all be pairs; found ${JSON.stringify(u)} instead`);return super.toString(o,{blockItem:u=>u.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:o.indent||""},r,a)}},ye="<<",j=class extends V{constructor(o){if(o instanceof V){let r=o.value;r instanceof A||(r=new A,r.items.push(o.value),r.range=o.value.range),super(o.key,r),this.range=o.range}else super(new d(ye),new A);this.type=V.Type.MERGE_PAIR}addToJSMap(o,r){for(let{source:a}of this.value.items){if(!(a instanceof he))throw new Error("Merge sources must be maps");let u=a.toJSON(null,o,Map);for(let[m,y]of u)r instanceof Map?r.has(m)||r.set(m,y):r instanceof Set?r.add(m):Object.prototype.hasOwnProperty.call(r,m)||Object.defineProperty(r,m,{value:y,writable:!0,enumerable:!0,configurable:!0})}return r}toString(o,r){let a=this.value;if(a.items.length>1)return super.toString(o,r);this.value=a.items[0];let u=super.toString(o,r);return this.value=a,u}},g={defaultType:t.Type.BLOCK_LITERAL,lineWidth:76},b={trueStr:"true",falseStr:"false"},R={asBigInt:!1},I={nullStr:"null"},L={defaultType:t.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function _(o,r,a){for(let{format:u,test:m,resolve:y}of r)if(m){let E=o.match(m);if(E){let v=y.apply(null,E);return v instanceof d||(v=new d(v)),u&&(v.format=u),v}}return a&&(o=a(o)),new d(o)}var N="flow",k="block",W="quoted",J=(o,r)=>{let a=o[r+1];for(;a===" "||a==="	";){do a=o[r+=1];while(a&&a!==`
`);a=o[r+1]}return r};function Z(o,r,a,{indentAtStart:u,lineWidth:m=80,minContentWidth:y=20,onFold:E,onOverflow:v}){if(!m||m<0)return o;let P=Math.max(1+y,1+m-r.length);if(o.length<=P)return o;let D=[],q={},z=m-r.length;typeof u=="number"&&(u>m-Math.max(2,y)?D.push(0):z=m-u);let be,re,ge=!1,se=-1,me=-1,Ie=-1;a===k&&(se=J(o,se),se!==-1&&(z=se+P));for(let Ee;Ee=o[se+=1];){if(a===W&&Ee==="\\"){switch(me=se,o[se+1]){case"x":se+=3;break;case"u":se+=5;break;case"U":se+=9;break;default:se+=1}Ie=se}if(Ee===`
`)a===k&&(se=J(o,se)),z=se+P,be=void 0;else{if(Ee===" "&&re&&re!==" "&&re!==`
`&&re!=="	"){let fe=o[se+1];fe&&fe!==" "&&fe!==`
`&&fe!=="	"&&(be=se)}if(se>=z)if(be)D.push(be),z=be+P,be=void 0;else if(a===W){for(;re===" "||re==="	";)re=Ee,Ee=o[se+=1],ge=!0;let fe=se>Ie+1?se-2:me-1;if(q[fe])return o;D.push(fe),q[fe]=!0,z=fe+P,be=void 0}else ge=!0}re=Ee}if(ge&&v&&v(),D.length===0)return o;E&&E();let pe=o.slice(0,D[0]);for(let Ee=0;Ee<D.length;++Ee){let fe=D[Ee],Ce=D[Ee+1]||o.length;fe===0?pe=`
${r}${o.slice(0,Ce)}`:(a===W&&q[fe]&&(pe+=`${o[fe]}\\`),pe+=`
${r}${o.slice(fe+1,Ce)}`)}return pe}var Te=({indentAtStart:o})=>o?Object.assign({indentAtStart:o},L.fold):L.fold,Oe=o=>/^(%|---|\.\.\.)/m.test(o);function Ae(o,r,a){if(!r||r<0)return!1;let u=r-a,m=o.length;if(m<=u)return!1;for(let y=0,E=0;y<m;++y)if(o[y]===`
`){if(y-E>u)return!0;if(E=y+1,m-E<=u)return!1}return!0}function Pe(o,r){let{implicitKey:a}=r,{jsonEncoding:u,minMultiLineLength:m}=L.doubleQuoted,y=JSON.stringify(o);if(u)return y;let E=r.indent||(Oe(o)?"  ":""),v="",P=0;for(let D=0,q=y[D];q;q=y[++D])if(q===" "&&y[D+1]==="\\"&&y[D+2]==="n"&&(v+=y.slice(P,D)+"\\ ",D+=1,P=D,q="\\"),q==="\\")switch(y[D+1]){case"u":{v+=y.slice(P,D);let z=y.substr(D+2,4);switch(z){case"0000":v+="\\0";break;case"0007":v+="\\a";break;case"000b":v+="\\v";break;case"001b":v+="\\e";break;case"0085":v+="\\N";break;case"00a0":v+="\\_";break;case"2028":v+="\\L";break;case"2029":v+="\\P";break;default:z.substr(0,2)==="00"?v+="\\x"+z.substr(2):v+=y.substr(D,6)}D+=5,P=D+1}break;case"n":if(a||y[D+2]==='"'||y.length<m)D+=1;else{for(v+=y.slice(P,D)+`

`;y[D+2]==="\\"&&y[D+3]==="n"&&y[D+4]!=='"';)v+=`
`,D+=2;v+=E,y[D+2]===" "&&(v+="\\"),D+=1,P=D+1}break;default:D+=1}return v=P?v+y.slice(P):y,a?v:Z(v,E,W,Te(r))}function ke(o,r){if(r.implicitKey){if(/\n/.test(o))return Pe(o,r)}else if(/[ \t]\n|\n[ \t]/.test(o))return Pe(o,r);let a=r.indent||(Oe(o)?"  ":""),u="'"+o.replace(/'/g,"''").replace(/\n+/g,`$&
${a}`)+"'";return r.implicitKey?u:Z(u,a,N,Te(r))}function Y({comment:o,type:r,value:a},u,m,y){if(/\n[\t ]+$/.test(a)||/^\s*$/.test(a))return Pe(a,u);let E=u.indent||(u.forceBlockIndent||Oe(a)?"  ":""),v=E?"2":"1",P=r===t.Type.BLOCK_FOLDED?!1:r===t.Type.BLOCK_LITERAL?!0:!Ae(a,L.fold.lineWidth,E.length),D=P?"|":">";if(!a)return D+`
`;let q="",z="";if(a=a.replace(/[\n\t ]*$/,re=>{let ge=re.indexOf(`
`);return ge===-1?D+="-":(a===re||ge!==re.length-1)&&(D+="+",y&&y()),z=re.replace(/\n$/,""),""}).replace(/^[\n ]*/,re=>{re.indexOf(" ")!==-1&&(D+=v);let ge=re.match(/ +$/);return ge?(q=re.slice(0,-ge[0].length),ge[0]):(q=re,"")}),z&&(z=z.replace(/\n+(?!\n|$)/g,`$&${E}`)),q&&(q=q.replace(/\n+/g,`$&${E}`)),o&&(D+=" #"+o.replace(/ ?[\r\n]+/g," "),m&&m()),!a)return`${D}${v}
${E}${z}`;if(P)return a=a.replace(/\n+/g,`$&${E}`),`${D}
${E}${q}${a}${z}`;a=a.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${E}`);let be=Z(`${q}${a}${z}`,E,k,L.fold);return`${D}
${E}${be}`}function h(o,r,a,u){let{comment:m,type:y,value:E}=o,{actualString:v,implicitKey:P,indent:D,inFlow:q}=r;if(P&&/[\n[\]{},]/.test(E)||q&&/[[\]{},]/.test(E))return Pe(E,r);if(!E||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(E))return P||q||E.indexOf(`
`)===-1?E.indexOf('"')!==-1&&E.indexOf("'")===-1?ke(E,r):Pe(E,r):Y(o,r,a,u);if(!P&&!q&&y!==t.Type.PLAIN&&E.indexOf(`
`)!==-1)return Y(o,r,a,u);if(D===""&&Oe(E))return r.forceBlockIndent=!0,Y(o,r,a,u);let z=E.replace(/\n+/g,`$&
${D}`);if(v){let{tags:re}=r.doc.schema;if(typeof _(z,re,re.scalarFallback).value!="string")return Pe(E,r)}let be=P?z:Z(z,D,N,Te(r));return m&&!q&&(be.indexOf(`
`)!==-1||m.indexOf(`
`)!==-1)?(a&&a(),i(be,D,m)):be}function x(o,r,a,u){let{defaultType:m}=L,{implicitKey:y,inFlow:E}=r,{type:v,value:P}=o;typeof P!="string"&&(P=String(P),o=Object.assign({},o,{value:P}));let D=z=>{switch(z){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return Y(o,r,a,u);case t.Type.QUOTE_DOUBLE:return Pe(P,r);case t.Type.QUOTE_SINGLE:return ke(P,r);case t.Type.PLAIN:return h(o,r,a,u);default:return null}};(v!==t.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(P)||(y||E)&&(v===t.Type.BLOCK_FOLDED||v===t.Type.BLOCK_LITERAL))&&(v=t.Type.QUOTE_DOUBLE);let q=D(v);if(q===null&&(q=D(m),q===null))throw new Error(`Unsupported default string type ${m}`);return q}function G({format:o,minFractionDigits:r,tag:a,value:u}){if(typeof u=="bigint")return String(u);if(!isFinite(u))return isNaN(u)?".nan":u<0?"-.inf":".inf";let m=JSON.stringify(u);if(!o&&r&&(!a||a==="tag:yaml.org,2002:float")&&/^\d/.test(m)){let y=m.indexOf(".");y<0&&(y=m.length,m+=".");let E=r-(m.length-y-1);for(;E-- >0;)m+="0"}return m}function H(o,r){let a,u;switch(r.type){case t.Type.FLOW_MAP:a="}",u="flow map";break;case t.Type.FLOW_SEQ:a="]",u="flow sequence";break;default:o.push(new t.YAMLSemanticError(r,"Not a flow collection!?"));return}let m;for(let y=r.items.length-1;y>=0;--y){let E=r.items[y];if(!E||E.type!==t.Type.COMMENT){m=E;break}}if(m&&m.char!==a){let y=`Expected ${u} to end with ${a}`,E;typeof m.offset=="number"?(E=new t.YAMLSemanticError(r,y),E.offset=m.offset+1):(E=new t.YAMLSemanticError(m,y),m.range&&m.range.end&&(E.offset=m.range.end-m.range.start)),o.push(E)}}function ie(o,r){let a=r.context.src[r.range.start-1];if(a!==`
`&&a!=="	"&&a!==" "){let u="Comments must be separated from other tokens by white space characters";o.push(new t.YAMLSemanticError(r,u))}}function ae(o,r){let a=String(r),u=a.substr(0,8)+"..."+a.substr(-8);return new t.YAMLSemanticError(o,`The "${u}" key is too long`)}function We(o,r){for(let{afterKey:a,before:u,comment:m}of r){let y=o.items[u];y?(a&&y.value&&(y=y.value),m===void 0?(a||!y.commentBefore)&&(y.spaceBefore=!0):y.commentBefore?y.commentBefore+=`
`+m:y.commentBefore=m):m!==void 0&&(o.comment?o.comment+=`
`+m:o.comment=m)}}function rt(o,r){let a=r.strValue;return a?typeof a=="string"?a:(a.errors.forEach(u=>{u.source||(u.source=r),o.errors.push(u)}),a.str):""}function st(o,r){let{handle:a,suffix:u}=r.tag,m=o.tagPrefixes.find(y=>y.handle===a);if(!m){let y=o.getDefaults().tagPrefixes;if(y&&(m=y.find(E=>E.handle===a)),!m)throw new t.YAMLSemanticError(r,`The ${a} tag handle is non-default and was not declared.`)}if(!u)throw new t.YAMLSemanticError(r,`The ${a} tag has no suffix.`);if(a==="!"&&(o.version||o.options.version)==="1.0"){if(u[0]==="^")return o.warnings.push(new t.YAMLWarning(r,"YAML 1.0 ^ tag expansion is not supported")),u;if(/[:/]/.test(u)){let y=u.match(/^([a-z0-9-]+)\/(.*)/i);return y?`tag:${y[1]}.yaml.org,2002:${y[2]}`:`tag:${u}`}}return m.prefix+decodeURIComponent(u)}function nt(o,r){let{tag:a,type:u}=r,m=!1;if(a){let{handle:y,suffix:E,verbatim:v}=a;if(v){if(v!=="!"&&v!=="!!")return v;let P=`Verbatim tags aren't resolved, so ${v} is invalid.`;o.errors.push(new t.YAMLSemanticError(r,P))}else if(y==="!"&&!E)m=!0;else try{return st(o,r)}catch(P){o.errors.push(P)}}switch(u){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:case t.Type.QUOTE_DOUBLE:case t.Type.QUOTE_SINGLE:return t.defaultTags.STR;case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;case t.Type.PLAIN:return m?t.defaultTags.STR:null;default:return null}}function Lt(o,r,a){let{tags:u}=o.schema,m=[];for(let E of u)if(E.tag===a)if(E.test)m.push(E);else{let v=E.resolve(o,r);return v instanceof T?v:new d(v)}let y=rt(o,r);return typeof y=="string"&&m.length>0?_(y,m,u.scalarFallback):null}function rn({type:o}){switch(o){case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;default:return t.defaultTags.STR}}function ko(o,r,a){try{let u=Lt(o,r,a);if(u)return a&&r.tag&&(u.tag=a),u}catch(u){return u.source||(u.source=r),o.errors.push(u),null}try{let u=rn(r);if(!u)throw new Error(`The tag ${a} is unavailable`);let m=`The tag ${a} is unavailable, falling back to ${u}`;o.warnings.push(new t.YAMLWarning(r,m));let y=Lt(o,r,u);return y.tag=a,y}catch(u){let m=new t.YAMLReferenceError(r,u.message);return m.stack=u.stack,o.errors.push(m),null}}var Mo=o=>{if(!o)return!1;let{type:r}=o;return r===t.Type.MAP_KEY||r===t.Type.MAP_VALUE||r===t.Type.SEQ_ITEM};function Co(o,r){let a={before:[],after:[]},u=!1,m=!1,y=Mo(r.context.parent)?r.context.parent.props.concat(r.props):r.props;for(let{start:E,end:v}of y)switch(r.context.src[E]){case t.Char.COMMENT:{if(!r.commentHasRequiredWhitespace(E)){let z="Comments must be separated from other tokens by white space characters";o.push(new t.YAMLSemanticError(r,z))}let{header:P,valueRange:D}=r;(D&&(E>D.start||P&&E>P.start)?a.after:a.before).push(r.context.src.slice(E+1,v));break}case t.Char.ANCHOR:if(u){let P="A node can have at most one anchor";o.push(new t.YAMLSemanticError(r,P))}u=!0;break;case t.Char.TAG:if(m){let P="A node can have at most one tag";o.push(new t.YAMLSemanticError(r,P))}m=!0;break}return{comments:a,hasAnchor:u,hasTag:m}}function Lo(o,r){let{anchors:a,errors:u,schema:m}=o;if(r.type===t.Type.ALIAS){let E=r.rawValue,v=a.getNode(E);if(!v){let D=`Aliased anchor not found: ${E}`;return u.push(new t.YAMLReferenceError(r,D)),null}let P=new X(v);return a._cstAliases.push(P),P}let y=nt(o,r);if(y)return ko(o,r,y);if(r.type!==t.Type.PLAIN){let E=`Failed to resolve ${r.type} node here`;return u.push(new t.YAMLSyntaxError(r,E)),null}try{let E=rt(o,r);return _(E,m.tags,m.tags.scalarFallback)}catch(E){return E.source||(E.source=r),u.push(E),null}}function lt(o,r){if(!r)return null;r.error&&o.errors.push(r.error);let{comments:a,hasAnchor:u,hasTag:m}=Co(o.errors,r);if(u){let{anchors:E}=o,v=r.anchor,P=E.getNode(v);P&&(E.map[E.newName(v)]=P),E.map[v]=r}if(r.type===t.Type.ALIAS&&(u||m)){let E="An alias node must not specify any properties";o.errors.push(new t.YAMLSemanticError(r,E))}let y=Lo(o,r);if(y){y.range=[r.range.start,r.range.end],o.options.keepCstNodes&&(y.cstNode=r),o.options.keepNodeTypes&&(y.type=r.type);let E=a.before.join(`
`);E&&(y.commentBefore=y.commentBefore?`${y.commentBefore}
${E}`:E);let v=a.after.join(`
`);v&&(y.comment=y.comment?`${y.comment}
${v}`:v)}return r.resolved=y}function Do(o,r){if(r.type!==t.Type.MAP&&r.type!==t.Type.FLOW_MAP){let E=`A ${r.type} node cannot be resolved as a mapping`;return o.errors.push(new t.YAMLSyntaxError(r,E)),null}let{comments:a,items:u}=r.type===t.Type.FLOW_MAP?jo(o,r):Fo(o,r),m=new he;m.items=u,We(m,a);let y=!1;for(let E=0;E<u.length;++E){let{key:v}=u[E];if(v instanceof T&&(y=!0),o.schema.merge&&v&&v.value===ye){u[E]=new j(u[E]);let P=u[E].value.items,D=null;P.some(q=>{if(q instanceof X){let{type:z}=q.source;return z===t.Type.MAP||z===t.Type.FLOW_MAP?!1:D="Merge nodes aliases can only point to maps"}return D="Merge nodes can only have Alias nodes as values"}),D&&o.errors.push(new t.YAMLSemanticError(r,D))}else for(let P=E+1;P<u.length;++P){let{key:D}=u[P];if(v===D||v&&D&&Object.prototype.hasOwnProperty.call(v,"value")&&v.value===D.value){let q=`Map keys must be unique; "${v}" is repeated`;o.errors.push(new t.YAMLSemanticError(r,q));break}}}if(y&&!o.options.mapAsMap){let E="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";o.warnings.push(new t.YAMLWarning(r,E))}return r.resolved=m,m}var Uo=({context:{lineStart:o,node:r,src:a},props:u})=>{if(u.length===0)return!1;let{start:m}=u[0];if(r&&m>r.valueRange.start||a[m]!==t.Char.COMMENT)return!1;for(let y=o;y<m;++y)if(a[y]===`
`)return!1;return!0};function $o(o,r){if(!Uo(o))return;let a=o.getPropValue(0,t.Char.COMMENT,!0),u=!1,m=r.value.commentBefore;if(m&&m.startsWith(a))r.value.commentBefore=m.substr(a.length+1),u=!0;else{let y=r.value.comment;!o.node&&y&&y.startsWith(a)&&(r.value.comment=y.substr(a.length+1),u=!0)}u&&(r.comment=a)}function Fo(o,r){let a=[],u=[],m,y=null;for(let E=0;E<r.items.length;++E){let v=r.items[E];switch(v.type){case t.Type.BLANK_LINE:a.push({afterKey:!!m,before:u.length});break;case t.Type.COMMENT:a.push({afterKey:!!m,before:u.length,comment:v.comment});break;case t.Type.MAP_KEY:m!==void 0&&u.push(new V(m)),v.error&&o.errors.push(v.error),m=lt(o,v.node),y=null;break;case t.Type.MAP_VALUE:{if(m===void 0&&(m=null),v.error&&o.errors.push(v.error),!v.context.atLineStart&&v.node&&v.node.type===t.Type.MAP&&!v.node.context.atLineStart){let q="Nested mappings are not allowed in compact mappings";o.errors.push(new t.YAMLSemanticError(v.node,q))}let P=v.node;if(!P&&v.props.length>0){P=new t.PlainValue(t.Type.PLAIN,[]),P.context={parent:v,src:v.context.src};let q=v.range.start+1;if(P.range={start:q,end:q},P.valueRange={start:q,end:q},typeof v.range.origStart=="number"){let z=v.range.origStart+1;P.range.origStart=P.range.origEnd=z,P.valueRange.origStart=P.valueRange.origEnd=z}}let D=new V(m,lt(o,P));$o(v,D),u.push(D),m&&typeof y=="number"&&v.range.start>y+1024&&o.errors.push(ae(r,m)),m=void 0,y=null}break;default:m!==void 0&&u.push(new V(m)),m=lt(o,v),y=v.range.start,v.error&&o.errors.push(v.error);e:for(let P=E+1;;++P){let D=r.items[P];switch(D&&D.type){case t.Type.BLANK_LINE:case t.Type.COMMENT:continue e;case t.Type.MAP_VALUE:break e;default:{let q="Implicit map keys need to be followed by map values";o.errors.push(new t.YAMLSemanticError(v,q));break e}}}if(v.valueRangeContainsNewline){let P="Implicit map keys need to be on a single line";o.errors.push(new t.YAMLSemanticError(v,P))}}}return m!==void 0&&u.push(new V(m)),{comments:a,items:u}}function jo(o,r){let a=[],u=[],m,y=!1,E="{";for(let v=0;v<r.items.length;++v){let P=r.items[v];if(typeof P.char=="string"){let{char:D,offset:q}=P;if(D==="?"&&m===void 0&&!y){y=!0,E=":";continue}if(D===":"){if(m===void 0&&(m=null),E===":"){E=",";continue}}else if(y&&(m===void 0&&D!==","&&(m=null),y=!1),m!==void 0&&(u.push(new V(m)),m=void 0,D===",")){E=":";continue}if(D==="}"){if(v===r.items.length-1)continue}else if(D===E){E=":";continue}let z=`Flow map contains an unexpected ${D}`,be=new t.YAMLSyntaxError(r,z);be.offset=q,o.errors.push(be)}else P.type===t.Type.BLANK_LINE?a.push({afterKey:!!m,before:u.length}):P.type===t.Type.COMMENT?(ie(o.errors,P),a.push({afterKey:!!m,before:u.length,comment:P.comment})):m===void 0?(E===","&&o.errors.push(new t.YAMLSemanticError(P,"Separator , missing in flow map")),m=lt(o,P)):(E!==","&&o.errors.push(new t.YAMLSemanticError(P,"Indicator : missing in flow map entry")),u.push(new V(m,lt(o,P))),m=void 0,y=!1)}return H(o.errors,r),m!==void 0&&u.push(new V(m)),{comments:a,items:u}}function Yo(o,r){if(r.type!==t.Type.SEQ&&r.type!==t.Type.FLOW_SEQ){let y=`A ${r.type} node cannot be resolved as a sequence`;return o.errors.push(new t.YAMLSyntaxError(r,y)),null}let{comments:a,items:u}=r.type===t.Type.FLOW_SEQ?Wo(o,r):Vo(o,r),m=new A;if(m.items=u,We(m,a),!o.options.mapAsMap&&u.some(y=>y instanceof V&&y.key instanceof T)){let y="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";o.warnings.push(new t.YAMLWarning(r,y))}return r.resolved=m,m}function Vo(o,r){let a=[],u=[];for(let m=0;m<r.items.length;++m){let y=r.items[m];switch(y.type){case t.Type.BLANK_LINE:a.push({before:u.length});break;case t.Type.COMMENT:a.push({comment:y.comment,before:u.length});break;case t.Type.SEQ_ITEM:if(y.error&&o.errors.push(y.error),u.push(lt(o,y.node)),y.hasProps){let E="Sequence items cannot have tags or anchors before the - indicator";o.errors.push(new t.YAMLSemanticError(y,E))}break;default:y.error&&o.errors.push(y.error),o.errors.push(new t.YAMLSyntaxError(y,`Unexpected ${y.type} node in sequence`))}}return{comments:a,items:u}}function Wo(o,r){let a=[],u=[],m=!1,y,E=null,v="[",P=null;for(let D=0;D<r.items.length;++D){let q=r.items[D];if(typeof q.char=="string"){let{char:z,offset:be}=q;if(z!==":"&&(m||y!==void 0)&&(m&&y===void 0&&(y=v?u.pop():null),u.push(new V(y)),m=!1,y=void 0,E=null),z===v)v=null;else if(!v&&z==="?")m=!0;else if(v!=="["&&z===":"&&y===void 0){if(v===","){if(y=u.pop(),y instanceof V){let re="Chaining flow sequence pairs is invalid",ge=new t.YAMLSemanticError(r,re);ge.offset=be,o.errors.push(ge)}if(!m&&typeof E=="number"){let re=q.range?q.range.start:q.offset;re>E+1024&&o.errors.push(ae(r,y));let{src:ge}=P.context;for(let se=E;se<re;++se)if(ge[se]===`
`){let me="Implicit keys of flow sequence pairs need to be on a single line";o.errors.push(new t.YAMLSemanticError(P,me));break}}}else y=null;E=null,m=!1,v=null}else if(v==="["||z!=="]"||D<r.items.length-1){let re=`Flow sequence contains an unexpected ${z}`,ge=new t.YAMLSyntaxError(r,re);ge.offset=be,o.errors.push(ge)}}else if(q.type===t.Type.BLANK_LINE)a.push({before:u.length});else if(q.type===t.Type.COMMENT)ie(o.errors,q),a.push({comment:q.comment,before:u.length});else{if(v){let be=`Expected a ${v} in flow sequence`;o.errors.push(new t.YAMLSemanticError(q,be))}let z=lt(o,q);y===void 0?(u.push(z),P=q):(u.push(new V(y,z)),y=void 0),E=q.range.start,v=","}}return H(o.errors,r),y!==void 0&&u.push(new V(y)),{comments:a,items:u}}e.Alias=X,e.Collection=T,e.Merge=j,e.Node=p,e.Pair=V,e.Scalar=d,e.YAMLMap=he,e.YAMLSeq=A,e.addComment=c,e.binaryOptions=g,e.boolOptions=b,e.findPair=te,e.intOptions=R,e.isEmptyPath=U,e.nullOptions=I,e.resolveMap=Do,e.resolveNode=lt,e.resolveSeq=Yo,e.resolveString=rt,e.strOptions=L,e.stringifyNumber=G,e.stringifyString=x,e.toJSON=f}}),ii=Fe({"node_modules/yaml/dist/warnings-1000a372.js"(e){"use strict";var t=Nt(),i=zt(),c={identify:_=>_ instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(_,N)=>{let k=i.resolveString(_,N);if(typeof Buffer=="function")return Buffer.from(k,"base64");if(typeof atob=="function"){let W=atob(k.replace(/[\n\r]/g,"")),J=new Uint8Array(W.length);for(let Z=0;Z<W.length;++Z)J[Z]=W.charCodeAt(Z);return J}else{let W="This environment does not support reading binary tags; either Buffer or atob is required";return _.errors.push(new t.YAMLReferenceError(N,W)),null}},options:i.binaryOptions,stringify:({comment:_,type:N,value:k},W,J,Z)=>{let Te;if(typeof Buffer=="function")Te=k instanceof Buffer?k.toString("base64"):Buffer.from(k.buffer).toString("base64");else if(typeof btoa=="function"){let Oe="";for(let Ae=0;Ae<k.length;++Ae)Oe+=String.fromCharCode(k[Ae]);Te=btoa(Oe)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(N||(N=i.binaryOptions.defaultType),N===t.Type.QUOTE_DOUBLE)k=Te;else{let{lineWidth:Oe}=i.binaryOptions,Ae=Math.ceil(Te.length/Oe),Pe=new Array(Ae);for(let ke=0,Y=0;ke<Ae;++ke,Y+=Oe)Pe[ke]=Te.substr(Y,Oe);k=Pe.join(N===t.Type.BLOCK_LITERAL?`
`:" ")}return i.stringifyString({comment:_,type:N,value:k},W,J,Z)}};function p(_,N){let k=i.resolveSeq(_,N);for(let W=0;W<k.items.length;++W){let J=k.items[W];if(!(J instanceof i.Pair)){if(J instanceof i.YAMLMap){if(J.items.length>1){let Te="Each pair must have its own sequence indicator";throw new t.YAMLSemanticError(N,Te)}let Z=J.items[0]||new i.Pair;J.commentBefore&&(Z.commentBefore=Z.commentBefore?`${J.commentBefore}
${Z.commentBefore}`:J.commentBefore),J.comment&&(Z.comment=Z.comment?`${J.comment}
${Z.comment}`:J.comment),J=Z}k.items[W]=J instanceof i.Pair?J:new i.Pair(J)}}return k}function f(_,N,k){let W=new i.YAMLSeq(_);W.tag="tag:yaml.org,2002:pairs";for(let J of N){let Z,Te;if(Array.isArray(J))if(J.length===2)Z=J[0],Te=J[1];else throw new TypeError(`Expected [key, value] tuple: ${J}`);else if(J&&J instanceof Object){let Ae=Object.keys(J);if(Ae.length===1)Z=Ae[0],Te=J[Z];else throw new TypeError(`Expected { key: value } tuple: ${J}`)}else Z=J;let Oe=_.createPair(Z,Te,k);W.items.push(Oe)}return W}var d={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:p,createNode:f},O=class Br extends i.YAMLSeq{constructor(){super(),t._defineProperty(this,"add",i.YAMLMap.prototype.add.bind(this)),t._defineProperty(this,"delete",i.YAMLMap.prototype.delete.bind(this)),t._defineProperty(this,"get",i.YAMLMap.prototype.get.bind(this)),t._defineProperty(this,"has",i.YAMLMap.prototype.has.bind(this)),t._defineProperty(this,"set",i.YAMLMap.prototype.set.bind(this)),this.tag=Br.tag}toJSON(N,k){let W=new Map;k&&k.onCreate&&k.onCreate(W);for(let J of this.items){let Z,Te;if(J instanceof i.Pair?(Z=i.toJSON(J.key,"",k),Te=i.toJSON(J.value,Z,k)):Z=i.toJSON(J,"",k),W.has(Z))throw new Error("Ordered maps must not include duplicate keys");W.set(Z,Te)}return W}};t._defineProperty(O,"tag","tag:yaml.org,2002:omap");function U(_,N){let k=p(_,N),W=[];for(let{key:J}of k.items)if(J instanceof i.Scalar)if(W.includes(J.value)){let Z="Ordered maps must not include duplicate keys";throw new t.YAMLSemanticError(N,Z)}else W.push(J.value);return Object.assign(new O,k)}function T(_,N,k){let W=f(_,N,k),J=new O;return J.items=W.items,J}var F={identify:_=>_ instanceof Map,nodeClass:O,default:!1,tag:"tag:yaml.org,2002:omap",resolve:U,createNode:T},A=class Jr extends i.YAMLMap{constructor(){super(),this.tag=Jr.tag}add(N){let k=N instanceof i.Pair?N:new i.Pair(N);i.findPair(this.items,k.key)||this.items.push(k)}get(N,k){let W=i.findPair(this.items,N);return!k&&W instanceof i.Pair?W.key instanceof i.Scalar?W.key.value:W.key:W}set(N,k){if(typeof k!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof k}`);let W=i.findPair(this.items,N);W&&!k?this.items.splice(this.items.indexOf(W),1):!W&&k&&this.items.push(new i.Pair(N))}toJSON(N,k){return super.toJSON(N,k,Set)}toString(N,k,W){if(!N)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(N,k,W);throw new Error("Set items must all have null values")}};t._defineProperty(A,"tag","tag:yaml.org,2002:set");function B(_,N){let k=i.resolveMap(_,N);if(!k.hasAllNullValues())throw new t.YAMLSemanticError(N,"Set items must all have null values");return Object.assign(new A,k)}function V(_,N,k){let W=new A;for(let J of N)W.items.push(_.createPair(J,null,k));return W}var oe={identify:_=>_ instanceof Set,nodeClass:A,default:!1,tag:"tag:yaml.org,2002:set",resolve:B,createNode:V},X=(_,N)=>{let k=N.split(":").reduce((W,J)=>W*60+Number(J),0);return _==="-"?-k:k},te=({value:_})=>{if(isNaN(_)||!isFinite(_))return i.stringifyNumber(_);let N="";_<0&&(N="-",_=Math.abs(_));let k=[_%60];return _<60?k.unshift(0):(_=Math.round((_-k[0])/60),k.unshift(_%60),_>=60&&(_=Math.round((_-k[0])/60),k.unshift(_))),N+k.map(W=>W<10?"0"+String(W):String(W)).join(":").replace(/000000\d*$/,"")},he={identify:_=>typeof _=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(_,N,k)=>X(N,k.replace(/_/g,"")),stringify:te},ye={identify:_=>typeof _=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(_,N,k)=>X(N,k.replace(/_/g,"")),stringify:te},j={identify:_=>_ instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(_,N,k,W,J,Z,Te,Oe,Ae)=>{Oe&&(Oe=(Oe+"00").substr(1,3));let Pe=Date.UTC(N,k-1,W,J||0,Z||0,Te||0,Oe||0);if(Ae&&Ae!=="Z"){let ke=X(Ae[0],Ae.slice(1));Math.abs(ke)<30&&(ke*=60),Pe-=6e4*ke}return new Date(Pe)},stringify:({value:_})=>_.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function g(_){let N=typeof process!="undefined"&&process.env||{};return _?typeof YAML_SILENCE_DEPRECATION_WARNINGS!="undefined"?!YAML_SILENCE_DEPRECATION_WARNINGS:!N.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS!="undefined"?!YAML_SILENCE_WARNINGS:!N.YAML_SILENCE_WARNINGS}function b(_,N){if(g(!1)){let k=typeof process!="undefined"&&process.emitWarning;k?k(_,N):console.warn(N?`${N}: ${_}`:_)}}function R(_){if(g(!0)){let N=_.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");b(`The endpoint 'yaml/${N}' will be removed in a future release.`,"DeprecationWarning")}}var I={};function L(_,N){if(!I[_]&&g(!0)){I[_]=!0;let k=`The option '${_}' will be removed in a future release`;k+=N?`, use '${N}' instead.`:".",b(k,"DeprecationWarning")}}e.binary=c,e.floatTime=ye,e.intTime=he,e.omap=F,e.pairs=d,e.set=oe,e.timestamp=j,e.warn=b,e.warnFileDeprecation=R,e.warnOptionDeprecation=L}}),Vi=Fe({"node_modules/yaml/dist/Schema-88e323a7.js"(e){"use strict";var t=Nt(),i=zt(),c=ii();function p(h,x,G){let H=new i.YAMLMap(h);if(x instanceof Map)for(let[ie,ae]of x)H.items.push(h.createPair(ie,ae,G));else if(x&&typeof x=="object")for(let ie of Object.keys(x))H.items.push(h.createPair(ie,x[ie],G));return typeof h.sortMapEntries=="function"&&H.items.sort(h.sortMapEntries),H}var f={createNode:p,default:!0,nodeClass:i.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:i.resolveMap};function d(h,x,G){let H=new i.YAMLSeq(h);if(x&&x[Symbol.iterator])for(let ie of x){let ae=h.createNode(ie,G.wrapScalars,null,G);H.items.push(ae)}return H}var O={createNode:d,default:!0,nodeClass:i.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:i.resolveSeq},U={identify:h=>typeof h=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i.resolveString,stringify(h,x,G,H){return x=Object.assign({actualString:!0},x),i.stringifyString(h,x,G,H)},options:i.strOptions},T=[f,O,U],F=h=>typeof h=="bigint"||Number.isInteger(h),A=(h,x,G)=>i.intOptions.asBigInt?BigInt(h):parseInt(x,G);function B(h,x,G){let{value:H}=h;return F(H)&&H>=0?G+H.toString(x):i.stringifyNumber(h)}var V={identify:h=>h==null,createNode:(h,x,G)=>G.wrapScalars?new i.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:i.nullOptions,stringify:()=>i.nullOptions.nullStr},oe={identify:h=>typeof h=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:h=>h[0]==="t"||h[0]==="T",options:i.boolOptions,stringify:({value:h})=>h?i.boolOptions.trueStr:i.boolOptions.falseStr},X={identify:h=>F(h)&&h>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(h,x)=>A(h,x,8),options:i.intOptions,stringify:h=>B(h,8,"0o")},te={identify:F,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:h=>A(h,h,10),options:i.intOptions,stringify:i.stringifyNumber},he={identify:h=>F(h)&&h>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(h,x)=>A(h,x,16),options:i.intOptions,stringify:h=>B(h,16,"0x")},ye={identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(h,x)=>x?NaN:h[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:i.stringifyNumber},j={identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:h=>parseFloat(h),stringify:({value:h})=>Number(h).toExponential()},g={identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(h,x,G){let H=x||G,ie=new i.Scalar(parseFloat(h));return H&&H[H.length-1]==="0"&&(ie.minFractionDigits=H.length),ie},stringify:i.stringifyNumber},b=T.concat([V,oe,X,te,he,ye,j,g]),R=h=>typeof h=="bigint"||Number.isInteger(h),I=({value:h})=>JSON.stringify(h),L=[f,O,{identify:h=>typeof h=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:i.resolveString,stringify:I},{identify:h=>h==null,createNode:(h,x,G)=>G.wrapScalars?new i.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:I},{identify:h=>typeof h=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:h=>h==="true",stringify:I},{identify:R,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:h=>i.intOptions.asBigInt?BigInt(h):parseInt(h,10),stringify:({value:h})=>R(h)?h.toString():JSON.stringify(h)},{identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:h=>parseFloat(h),stringify:I}];L.scalarFallback=h=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(h)}`)};var _=({value:h})=>h?i.boolOptions.trueStr:i.boolOptions.falseStr,N=h=>typeof h=="bigint"||Number.isInteger(h);function k(h,x,G){let H=x.replace(/_/g,"");if(i.intOptions.asBigInt){switch(G){case 2:H=`0b${H}`;break;case 8:H=`0o${H}`;break;case 16:H=`0x${H}`;break}let ae=BigInt(H);return h==="-"?BigInt(-1)*ae:ae}let ie=parseInt(H,G);return h==="-"?-1*ie:ie}function W(h,x,G){let{value:H}=h;if(N(H)){let ie=H.toString(x);return H<0?"-"+G+ie.substr(1):G+ie}return i.stringifyNumber(h)}var J=T.concat([{identify:h=>h==null,createNode:(h,x,G)=>G.wrapScalars?new i.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:i.nullOptions,stringify:()=>i.nullOptions.nullStr},{identify:h=>typeof h=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:i.boolOptions,stringify:_},{identify:h=>typeof h=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:i.boolOptions,stringify:_},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(h,x,G)=>k(x,G,2),stringify:h=>W(h,2,"0b")},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(h,x,G)=>k(x,G,8),stringify:h=>W(h,8,"0")},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(h,x,G)=>k(x,G,10),stringify:i.stringifyNumber},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(h,x,G)=>k(x,G,16),stringify:h=>W(h,16,"0x")},{identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(h,x)=>x?NaN:h[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:i.stringifyNumber},{identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:h=>parseFloat(h.replace(/_/g,"")),stringify:({value:h})=>Number(h).toExponential()},{identify:h=>typeof h=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(h,x){let G=new i.Scalar(parseFloat(h.replace(/_/g,"")));if(x){let H=x.replace(/_/g,"");H[H.length-1]==="0"&&(G.minFractionDigits=H.length)}return G},stringify:i.stringifyNumber}],c.binary,c.omap,c.pairs,c.set,c.intTime,c.floatTime,c.timestamp),Z={core:b,failsafe:T,json:L,yaml11:J},Te={binary:c.binary,bool:oe,float:g,floatExp:j,floatNaN:ye,floatTime:c.floatTime,int:te,intHex:he,intOct:X,intTime:c.intTime,map:f,null:V,omap:c.omap,pairs:c.pairs,seq:O,set:c.set,timestamp:c.timestamp};function Oe(h,x,G){if(x){let H=G.filter(ae=>ae.tag===x),ie=H.find(ae=>!ae.format)||H[0];if(!ie)throw new Error(`Tag ${x} not found`);return ie}return G.find(H=>(H.identify&&H.identify(h)||H.class&&h instanceof H.class)&&!H.format)}function Ae(h,x,G){if(h instanceof i.Node)return h;let{defaultPrefix:H,onTagObj:ie,prevObjects:ae,schema:We,wrapScalars:rt}=G;x&&x.startsWith("!!")&&(x=H+x.slice(2));let st=Oe(h,x,We.tags);if(!st){if(typeof h.toJSON=="function"&&(h=h.toJSON()),!h||typeof h!="object")return rt?new i.Scalar(h):h;st=h instanceof Map?f:h[Symbol.iterator]?O:f}ie&&(ie(st),delete G.onTagObj);let nt={value:void 0,node:void 0};if(h&&typeof h=="object"&&ae){let Lt=ae.get(h);if(Lt){let rn=new i.Alias(Lt);return G.aliasNodes.push(rn),rn}nt.value=h,ae.set(h,nt)}return nt.node=st.createNode?st.createNode(G.schema,h,G):rt?new i.Scalar(h):h,x&&nt.node instanceof i.Node&&(nt.node.tag=x),nt.node}function Pe(h,x,G,H){let ie=h[H.replace(/\W/g,"")];if(!ie){let ae=Object.keys(h).map(We=>JSON.stringify(We)).join(", ");throw new Error(`Unknown schema "${H}"; use one of ${ae}`)}if(Array.isArray(G))for(let ae of G)ie=ie.concat(ae);else typeof G=="function"&&(ie=G(ie.slice()));for(let ae=0;ae<ie.length;++ae){let We=ie[ae];if(typeof We=="string"){let rt=x[We];if(!rt){let st=Object.keys(x).map(nt=>JSON.stringify(nt)).join(", ");throw new Error(`Unknown custom tag "${We}"; use one of ${st}`)}ie[ae]=rt}}return ie}var ke=(h,x)=>h.key<x.key?-1:h.key>x.key?1:0,Y=class Gr{constructor({customTags:x,merge:G,schema:H,sortMapEntries:ie,tags:ae}){this.merge=!!G,this.name=H,this.sortMapEntries=ie===!0?ke:ie||null,!x&&ae&&c.warnOptionDeprecation("tags","customTags"),this.tags=Pe(Z,Te,x||ae,H)}createNode(x,G,H,ie){let ae={defaultPrefix:Gr.defaultPrefix,schema:this,wrapScalars:G},We=ie?Object.assign(ie,ae):ae;return Ae(x,H,We)}createPair(x,G,H){H||(H={wrapScalars:!0});let ie=this.createNode(x,H.wrapScalars,null,H),ae=this.createNode(G,H.wrapScalars,null,H);return new i.Pair(ie,ae)}};t._defineProperty(Y,"defaultPrefix",t.defaultTagPrefix),t._defineProperty(Y,"defaultTags",t.defaultTags),e.Schema=Y}}),Wi=Fe({"node_modules/yaml/dist/types.js"(e){"use strict";var t=zt(),i=Vi();Nt(),ii(),e.Alias=t.Alias,e.Collection=t.Collection,e.Merge=t.Merge,e.Node=t.Node,e.Pair=t.Pair,e.Scalar=t.Scalar,e.YAMLMap=t.YAMLMap,e.YAMLSeq=t.YAMLSeq,e.binaryOptions=t.binaryOptions,e.boolOptions=t.boolOptions,e.intOptions=t.intOptions,e.nullOptions=t.nullOptions,e.strOptions=t.strOptions,e.Schema=i.Schema}}),ri={},si=()=>ri,qi=e=>{Object.assign(ri,e)},Bi=class{constructor(){this.data={}}unregister(e){e?delete this.data[e]:this.data={}}register(e,t){this.data[e]=t}registerMany(e){Object.keys(e).forEach(t=>{this.data[t]=e[t]})}get(e){return this.data[e]}list(){return this.data}},oi=Bi,ue={},ai=ue,ue.defaultInvalidTypeProduct=void 0,ue.defaultRandExpMax=10,ue.pruneProperties=[],ue.ignoreProperties=[],ue.ignoreMissingRefs=!1,ue.failOnInvalidTypes=!0,ue.failOnInvalidFormat=!0,ue.alwaysFakeOptionals=!1,ue.optionalsProbability=null,ue.fixedProbabilities=!1,ue.useExamplesValue=!1,ue.useDefaultValue=!1,ue.requiredOnly=!1,ue.omitNulls=!1,ue.minItems=0,ue.maxItems=null,ue.minLength=0,ue.maxLength=null,ue.resolveJsonPath=!1,ue.reuseProperties=!1,ue.fillProperties=!0,ue.sortProperties=!1,ue.replaceEmptyByRandomValue=!1,ue.random=Math.random,ue.minDateTime=new Date("1889-12-31T00:00:00.000Z"),ue.maxDateTime=new Date("1970-01-01T00:00:01.000Z"),ue.renderTitle=!0,ue.renderDescription=!0,ue.renderComment=!1,Ji=class extends oi{constructor(){super(),this.data={...ai},this._defaults=ai}get defaults(){return{...this._defaults}}},Gi=Ji,xt=new Gi,De.getDefaults=()=>xt.defaults,ee=De,li=["integer","number","string","boolean"],ci=li.concat(["null"]),Hi=["array","object"].concat(ci),Ki=2524608e6,zi=-1e8,Xi=1e8,Qi=-100,Zi=100,tt={ALLOWED_TYPES:li,SCALAR_TYPES:ci,ALL_TYPES:Hi,MIN_NUMBER:Qi,MAX_NUMBER:Zi,MIN_INTEGER:zi,MAX_INTEGER:Xi,MOST_NEAR_DATETIME:Ki},Xt=ti(Yi(),1),Q={pick:Ue,date:Gn,shuffle:Ye,number:Qe,randexp:Re},er=/^(0|[1-9][0-9]*)$/,de={hasProperties:et,getLocalRef:vi,omitProps:Ws,typecast:Ds,merge:wt,clone:ce,short:Us,hasValue:$s,notValue:Fs,anyValue:_i,validate:js,validateValueForSchema:Hn,validateValueForOneOf:Ys,isKey:Vs,template:Ri,shouldClean:Pi,clean:zn,isEmpty:Kn,clampDate:Ai},tr=class{constructor(){this.registry={},this.support={}}reset(e){e?(delete this.registry[e],delete this.support[e]):(this.registry={},this.support={})}extend(e,t){this.registry[e]=t(this.registry[e]),this.support[e]||(this.support[e]=qs(()=>this.registry[e]))}define(e,t){this.support[e]=t}get(e){if(typeof this.registry[e]=="undefined")throw new ReferenceError(`'${e}' dependency doesn't exist.`);return this.registry[e]}wrap(e){if(!("generate"in e)){let t=Object.keys(e),i={},c=t.length;for(;c--;){let p=t[c].replace(/^x-/,""),f=this.support[p];if(typeof f=="function"){Object.defineProperty(e,"generate",{configurable:!1,enumerable:!1,writable:!1,value:(d,O)=>f.call(i,e[t[c]],e,t[c],d,O.slice())});break}}}return e}},nr=tr,St=new oi,pi=Bs,ir=class extends Error{constructor(e,t){super(),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="ParseError",this.message=e,this.path=t}},Qt=ir,kt={array:["additionalItems","items","maxItems","minItems","uniqueItems"],integer:["exclusiveMaximum","exclusiveMinimum","maximum","minimum","multipleOf"],object:["additionalProperties","dependencies","maxProperties","minProperties","patternProperties","properties","required"],string:["maxLength","minLength","pattern","format"]},kt.number=kt.integer,rr=["additionalItems","items","additionalProperties","dependencies","patternProperties","properties"],sr=Gs,or=Hs,ar=or,lr=ar,cr=Ks,pr=cr,ur=pr,dr=Xs,ui=Qs,fr=Zs,hr=`Lorem ipsum dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore
et dolore magna aliqua Ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
commodo consequat Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
pariatur Excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est
laborum`.split(/\W/),Zt=eo,en={type:tt.ALLOWED_TYPES},mr=to,di=no,yr=io,tn=ro,gr=so,wr=oo,fi="[a-zA-Z][a-zA-Z0-9+-.]*",nn=`https?://{hostname}(?:${fi})+`,br="(?:\\?([a-z]{1,7}(=\\w{1,5})?&){0,3})?",Ve={email:"[a-zA-Z\\d][a-zA-Z\\d-]{1,13}[a-zA-Z\\d]@{hostname}",hostname:"[a-zA-Z]{1,33}\\.[a-z]{2,4}",ipv6:"[a-f\\d]{4}(:[a-f\\d]{4}){7}",uri:nn,slug:"[a-zA-Z\\d_-]+","uri-reference":`${nn}${br}`,"uri-template":nn.replace("(?:","(?:/\\{[a-z][:a-zA-Z0-9-]*\\}|"),"json-pointer":`(/(?:${fi.replace("]*","/]*")}|~[01]))+`,uuid:"^[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$",duration:"^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$"},Ve.iri=Ve["uri-reference"],Ve["iri-reference"]=Ve["uri-reference"],Ve["idn-email"]=Ve.email,Ve["idn-hostname"]=Ve.hostname,Sr=new RegExp(`\\{(${Object.keys(Ve).join("|")})\\}`),Tr=ao,Or=co,Er={boolean:lr,null:ur,array:dr,integer:fr,number:ui,object:mr,string:Or},Mt=Er,vr=bt,Ar=({refs:e,schema:t,container:i,synchronous:c,refDepthMax:p,refDepthMin:f})=>{let d={},O={},U=0,T,F;return d.resolveSchema=(A,B,V)=>{if(A==null)return null;if(typeof A.generate=="function")return A;if(typeof(A.$id||A.id)=="string"&&(delete A.id,delete A.$id,delete A.$schema),typeof A.$ref=="string"){let X=Math.max(f,p)-1;if(A.$ref==="#"||O[A.$ref]<0||T===A.$ref&&++U>X)return A.$ref!=="#"&&F&&F.length===V.length?de.getLocalRef(t,A.$ref,c&&e):(delete A.$ref,A);typeof O[A.$ref]=="undefined"&&(O[A.$ref]=Q.number(f,p)-1),F=V,T=A.$ref;let te;A.$ref.indexOf("#/")===-1?te=e[A.$ref]||null:te=de.getLocalRef(t,A.$ref,c&&e)||null;let he;if(typeof te!="undefined"){if(!te&&ee("ignoreMissingRefs")!==!0)throw new Error(`Reference not found: ${A.$ref}`);O[A.$ref]-=1,de.merge(A,te||{}),he=c&&te&&te.$ref}return he||delete A.$ref,A}if(Array.isArray(A.allOf)){let X=A.allOf;delete A.allOf,X.forEach(te=>{let he=d.resolveSchema(te,null,V);de.merge(A,typeof he.thunk=="function"?he.thunk(A):he),Array.isArray(A.allOf)&&d.resolveSchema(A,B,V)})}if(Array.isArray(A.oneOf||A.anyOf)&&V[V.length-2]!=="dependencies"){let X=A.oneOf||A.anyOf;return A.enum&&A.oneOf&&(A.enum=A.enum.filter(te=>de.validate(te,X))),{thunk(te){let he=de.omitProps(A,["anyOf","oneOf"]),ye=Q.pick(X);return de.merge(he,ye),X.forEach(j=>{j.required&&j!==ye&&j.required.forEach(g=>{if(ye.required&&ye.required.includes(g))return;let b=he.required&&he.required.includes(g);he.properties&&!b&&delete he.properties[g],te&&te.properties&&delete te.properties[g]})}),he}}}if(Object.keys(A).forEach(X=>{(Array.isArray(A[X])||typeof A[X]=="object")&&!de.isKey(X)&&(A[X]=d.resolveSchema(A[X],X,V.concat(X)))}),V){let X=V[V.length-1];if(X==="properties"||X==="items")return A}return i.wrap(A)},d},_r=Ar,hi=ho,mi=mo,Me=ti(Wi(),1),wo=Me.default.binaryOptions,bo=Me.default.boolOptions,So=Me.default.intOptions,To=Me.default.nullOptions,Oo=Me.default.strOptions,Eo=Me.default.Schema,vo=Me.default.Alias,Ao=Me.default.Collection,_o=Me.default.Merge,Ro=Me.default.Node,Po=Me.default.Pair,Io=Me.default.Scalar,Rr=Me.default.YAMLMap,Pr=Me.default.YAMLSeq,Ct=go,it=new nr,Se=(e,t,i)=>(console.debug("[json-schema-faker] calling JSONSchemaFaker() is deprecated, call either .generate() or .resolve()"),i&&console.debug("[json-schema-faker] local references are only supported by calling .resolve()"),Se.generate(e,t)),Se.generateWithContext=(e,t)=>{let i=xi(t,e);return hi(i,e,it,!0)},Se.generate=(e,t)=>mi(Se.generateWithContext(e,t)),Se.generateYAML=(e,t)=>Ct(Se.generateWithContext(e,t)),Se.resolveWithContext=(e,t,i)=>{typeof t=="string"&&(i=t,t={}),i=i||(typeof process!="undefined"&&typeof process.cwd=="function"?process.cwd():""),i=`${i.replace(/\/+$/,"")}/`;let c=xi(t,e),p={order:1,canRead(d){let O=d.url.replace("/:",":");return c[O]||c[O.split("/").pop()]},read(d,O){try{O(null,this.canRead(d))}catch(U){O(U)}}},{$RefParser:f}=si();return f.bundle(i,e,{resolve:{file:{order:100},http:{order:200},fixedRefs:p},dereference:{circular:"ignore"}}).then(d=>hi(c,d,it)).catch(d=>{throw new Error(`Error while resolving schema (${d.message})`)})},Se.resolve=(e,t,i)=>Se.resolveWithContext(e,t,i).then(mi),Se.resolveYAML=(e,t,i)=>Se.resolveWithContext(e,t,i).then(Ct),Ni(),Se.format=pi,Se.option=ee,Se.random=Q,Se.extend=(e,t)=>(it.extend(e,t),Se),Se.define=(e,t)=>(it.define(e,t),Se),Se.reset=e=>(it.reset(e),Ni(),Se),Se.locate=e=>it.get(e),Se.VERSION="0.5.5",Ir={...Se},Nr=Se}}),xo=M({"src/src/main.iife.js"(e,t){var i=(No(),le(ve));typeof $RefParser!="undefined"&&typeof JSONPath!="undefined"&&i.setDependencies({...JSONPath,$RefParser}),typeof window!="undefined"&&(window.JSONSchemaFaker=i.default),t.exports=i.default,t.exports.JSONSchemaFaker=i.JSONSchemaFaker}});return xo()})();(function(w,n){w.JSONSchemaFaker=n()})(typeof self!="undefined"?self:typeof window!="undefined"?window:globalThis,()=>Vn);Vn.random.shuffle=function(){return["[placeholder]"]};Vn.option({useDefaultValue:!0,alwaysFakeOptionals:!0});function Hr(w){return Vn.generate(w)}function Kr(w){console.log(`
${we.bold(we.underline("Discovered workflowId:"))} '${w.workflowId}'`),w.steps.forEach((n,s)=>{let l=s===w.steps.length-1;console.log(`${l?"\u2514":"\u251C"} ${_e.STEP} Discovered stepId: '${n.stepId}'	Type: '${n.type}'`),n.providers.forEach((M,C)=>{let ne=C===n.providers.length-1;console.log(`${l?" ":"\u2502"} ${ne?"\u2514":"\u251C"} ${_e.PROVIDER} Discovered provider: '${M.type}'`)})})}function Ti(w,n){let s={...w};for(let l of Object.keys(n)){let S=n[l];S&&typeof S=="object"&&!Array.isArray(S)?s[l]=Ti(s[l]||{},S):(Array.isArray(S),s[l]=S)}return s}function na(){return["development",void 0].includes(process.env.NODE_ENV)}var vt=class{constructor(n){this.discoveredWorkflows=new Map;this.discoverWorkflowPromises=new Map;this.templateEngine=new zr.Liquid({outputEscape:n=>wi(n)});this.version="2.5.0";let s=this.buildOptions(n);this.apiUrl=s.apiUrl,this.secretKey=s.secretKey,this.strictAuthentication=s.strictAuthentication,this.templateEngine.registerFilter("json",(l,S)=>wi(l,S))}buildOptions(n){let s={apiUrl:kn(n==null?void 0:n.apiUrl),secretKey:Mn(n==null?void 0:n.secretKey),strictAuthentication:!na()};return(n==null?void 0:n.strictAuthentication)!==void 0?s.strictAuthentication=n.strictAuthentication:process.env.NOVU_STRICT_AUTHENTICATION_ENABLED!==void 0&&(s.strictAuthentication=process.env.NOVU_STRICT_AUTHENTICATION_ENABLED==="true"),s}async addWorkflows(n){for(let s of n){if(this.discoveredWorkflows.has(s.id))continue;let l=this.discoverWorkflowPromises.get(s.id);if(l){await l;continue}let S=this.addWorkflow(s);this.discoverWorkflowPromises.set(s.id,S),await S}}async addWorkflow(n){try{let s=await n.discover();Kr(s),this.discoveredWorkflows.set(n.id,s)}finally{this.discoverWorkflowPromises.delete(n.id)}}healthCheck(){let n=this.getRegisteredWorkflows(),s=n.length,l=n.reduce((S,M)=>S+M.steps.length,0);return{status:"ok",sdkVersion:"2.5.0",frameworkVersion:"2024-06-26",discovered:{workflows:s,steps:l}}}getWorkflow(n){let s=this.discoveredWorkflows.get(n);if(s)return s;throw new Wt(n)}getStep(n,s){let S=this.getWorkflow(n).steps.find(M=>M.stepId===s);if(S)return S;throw new In(s)}getRegisteredWorkflows(){return Array.from(this.discoveredWorkflows.values())}discover(){return{workflows:this.getRegisteredWorkflows()}}mock(n){return Hr(n)}async validate(n,s,l,S,M,C,ne){let le=await Yn(s,n);if(le.success)return le.data;switch(l){case"event":this.throwInvalidEvent(S,M,le.errors);case"step":this.throwInvalidStep(C,S,M,le.errors);case"provider":this.throwInvalidProvider(C,ne,S,M,le.errors);default:throw new Error(`Invalid component: '${l}'`)}}throwInvalidProvider(n,s,l,S,M){if(!n)throw new Error("stepId is required");if(!s)throw new Error("providerId is required");switch(l){case"output":throw new yn(S,n,s,M);default:throw new Error(`Invalid payload type: '${l}'`)}}throwInvalidStep(n,s,l,S){if(!n)throw new Error("stepId is required");switch(s){case"output":throw new fn(l,n,S);case"result":throw new hn(l,n,S);case"controls":throw new dn(l,n,S);default:throw new Error(`Invalid payload type: '${s}'`)}}throwInvalidEvent(n,s,l){switch(n){case"controls":throw new un(s,l);case"payload":throw new Ft(s,l);default:throw new Error(`Invalid payload type: '${n}'`)}}executeStepFactory(n,s,l){return async(S,M,C)=>{if(l())return;let ne=this.getStep(n.workflowId,S),le=n.action==="preview";if(!le&&S===n.stepId){let Ue=await this.createStepControls(ne,n);if(await this.shouldSkip(C==null?void 0:C.skip,Ue))return s({options:{skip:!0},outputs:{},providers:{}}),{}}let ve=this.previewStep.bind(this),De=this.executeStep.bind(this),Re=await(le?ve:De)(n,{...ne,providers:ne.providers.map(Ue=>{var dt;let Ye=(dt=C==null?void 0:C.providers)==null?void 0:dt[Ue.type];if(!Ye)throw new On(Ue.type);return{...Ue,resolve:Ye}}),resolve:M});return Object.values(an).includes(ne.type)&&(C==null?void 0:C.disableOutputSanitization)!==!0&&(Re={...Re,outputs:Cn(Re.outputs)}),S===n.stepId&&s({...Re,options:{skip:!1}}),Re.outputs}}async shouldSkip(n,s){return n?n(s):!1}async executeWorkflow(n){let S=`${{execute:"Executing",preview:"Previewing"}[n.action]} workflowId:`;console.log(`
${we.bold(we.underline(S))} '${n.workflowId}'`);let M=this.getWorkflow(n.workflowId),C=process.hrtime(),ne={outputs:{},providers:{},options:{skip:!1}},le,ve=!1,De=new Promise(Ze=>{le=Ze}),$e=Ze=>{if(ve)throw new Error("setResult can only be called once per workflow execution");le(),ve=!0,ne=Ze},Re=()=>ve,Ue;try{if(n.action==="execute"&&!n.payload)throw new Ft(n.workflowId,{message:"Event `payload` is required"});let Ze=await this.createExecutionPayload(n,M),et={...n,payload:Ze};await Promise.race([De,M.execute({payload:Ze,environment:{},controls:{},subscriber:n.subscriber,step:{email:this.executeStepFactory(et,$e,Re),sms:this.executeStepFactory(et,$e,Re),inApp:this.executeStepFactory(et,$e,Re),digest:this.executeStepFactory(et,$e,Re),delay:this.executeStepFactory(et,$e,Re),push:this.executeStepFactory(et,$e,Re),chat:this.executeStepFactory(et,$e,Re),custom:this.executeStepFactory(et,$e,Re)}})])}catch(Ze){Ue=Ze}let Ye=process.hrtime(C),dt=Ye[0],Qe=Ye[1],Ht=dt*1e3+Qe/1e6,Gn=Ue?_e.ERROR:_e.SUCCESS,Kt={execute:"Executed",preview:"Previewed"}[n.action];if(console.log(`${Gn} ${Kt} workflowId: \`${n.workflowId}\``),this.prettyPrintExecute(n,Ht,Ue),Ue)throw Ue;return{outputs:ne.outputs,providers:ne.providers,options:ne.options,metadata:{status:"success",error:!1,duration:Ht}}}async createExecutionPayload(n,s){let{payload:l}=n;if(n.action==="preview"){let M=this.mock(s.payload.schema);l=Object.assign(M,l)}return await this.validate(l,s.payload.unknownSchema,"event","payload",n.workflowId)}prettyPrintExecute(n,s,l){let S=l?_e.ERROR:_e.SUCCESS,C={execute:"Executed",preview:"Previewed"}[n.action],ne=l?"Failed to execute":C,le=l?we.error:we.success,ve=`${S} ${ne} workflowId: '${n.workflowId}`;console.log(`
  ${we.bold(le(ve))}'`),console.log(`  \u251C ${_e.STEP} stepId: '${n.stepId}'`),console.log(`  \u251C ${_e.ACTION} action: '${n.action}'`),console.log(`  \u2514 ${_e.DURATION} duration: '${s.toFixed(2)}ms'
`)}async executeProviders(n,s,l){return s.providers.reduce(async(S,M)=>{let C=await S,ne=this.previewProvider.bind(this),le=this.executeProvider.bind(this),De=await(n.action==="preview"?ne:le)(n,s,M,l);return{...C,[M.type]:De}},Promise.resolve({}))}previewProvider(n,s,l,S){return console.log(`  ${_e.MOCK} Mocked provider: \`${l.type}\``),this.mock(l.outputs.schema)}async executeProvider(n,s,l,S){try{if(n.stepId===s.stepId){let M=await this.createStepControls(s,n),C=await l.resolve({controls:M,outputs:S}),ne=await this.validate(C,l.outputs.unknownSchema,"step","output",n.workflowId,s.stepId,l.type);return console.log(`  ${_e.SUCCESS} Executed provider: \`${l.type}\``),{...ne,_passthrough:C._passthrough}}else return console.log(`  ${_e.HYDRATED} Hydrated provider: \`${l.type}\``),{}}catch(M){throw console.log(`  ${_e.ERROR} Failed to execute provider: \`${l.type}\``),new En(l.type,n.action,M)}}async executeStep(n,s){if(n.stepId===s.stepId)try{let l=await this.createStepControls(s,n),S=await this.compileControls(l,n),M=await s.resolve(S),C=await this.validate(M,s.outputs.unknownSchema,"step","output",n.workflowId,s.stepId),ne=await this.executeProviders(n,s,C);return console.log(`  ${_e.SUCCESS} Executed stepId: \`${s.stepId}\``),{outputs:C,providers:ne}}catch(l){throw console.log(`  ${_e.ERROR} Failed to execute stepId: \`${s.stepId}\``),ht(l)?l:new Vt(s.stepId,n.action,l)}else try{let l=this.getStepState(n,s.stepId);if(l){let S=await this.validate(l.outputs,s.results.unknownSchema,"step","result",n.workflowId,s.stepId);return console.log(`  ${_e.HYDRATED} Hydrated stepId: \`${s.stepId}\``),{outputs:S,providers:await this.executeProviders(n,s,S)}}else throw new pn(n.workflowId,s.stepId)}catch(l){throw console.log(`  ${_e.ERROR} Failed to hydrate stepId: \`${s.stepId}\``),l}}async compileControls(n,s){try{let l=this.templateEngine.parse(JSON.stringify(n)),S=await this.templateEngine.render(l,{payload:s.payload,subscriber:s.subscriber,steps:ia(s.state)});return JSON.parse(S)}catch(l){throw new mn(s.workflowId,s.stepId,l)}}async createStepControls(n,s){return await this.validate(s.controls,n.controls.unknownSchema,"step","controls",s.workflowId,n.stepId)}async previewStep(n,s){try{return await this.constructStepForPreview(n,s)}catch(l){throw console.log(`  ${_e.ERROR} Failed to preview stepId: \`${s.stepId}\``),ht(l)?l:new Vt(s.stepId,n.action,l)}}async constructStepForPreview(n,s){return n.stepId===s.stepId?await this.previewRequiredStep(s,n):await this.extractMockDataForPreviousSteps(n,s)}async extractMockDataForPreviousSteps(n,s){let l={},S=this.getStepState(n,s.stepId),M=this.mock(s.results.schema);return{outputs:Ti(M,(S==null?void 0:S.outputs)||{}),providers:await this.executeProviders(n,s,l)}}async previewRequiredStep(n,s){let l=await this.createStepControls(n,s),S=await this.compileControls(l,s),M=await n.resolve(S),C=await this.validate(M,n.outputs.unknownSchema,"step","output",s.workflowId,n.stepId);return console.log(`  ${_e.MOCK} Mocked stepId: \`${n.stepId}\``),{outputs:C,providers:await this.executeProviders(s,n,C)}}getStepState(n,s){return n.state.find(l=>l.stepId===s)}getStepCode(n,s){return{code:this.getStep(n,s).resolve.toString()}}getWorkflowCode(n){return{code:this.getWorkflow(n).execute.toString()}}getCode(n,s){let l;if(n)s?l=this.getStepCode(n,s):l=this.getWorkflowCode(n);else throw new Wt(n);return l}};function ia(w){let n={};for(let s of w)n[s.stepId]=s.outputs;return n}var At=class{constructor(n){this.handler=n.handler,this.client=n.client?n.client:new vt,this.workflows=n.workflows,this.http=xn(this.client.secretKey,this.client.apiUrl),this.frameworkName=n.frameworkName,this.hmacEnabled=this.client.strictAuthentication}createHandler(){return async(...n)=>{await this.client.addWorkflows(this.workflows);let s=await this.handler(...n),l=await this.handleAction({actions:s});return s.transformResponse(l)}}getStaticHeaders(){let n=`novu-framework:v${this.client.version}`;return{"content-type":"application/json","access-control-allow-origin":"*","access-control-allow-methods":"GET, POST","access-control-allow-headers":"*","access-control-max-age":"604800","novu-framework-version":"2024-06-26","novu-framework-sdk":"2.5.0","novu-framework-server":this.frameworkName,"user-agent":n}}createResponse(n,s){return{status:n,body:JSON.stringify(s),headers:{...this.getStaticHeaders()}}}createError(n){return{status:n.statusCode,body:JSON.stringify({message:n.message,data:n.data,code:n.code}),headers:this.getStaticHeaders()}}async handleAction({actions:n}){let s=await n.url(),l=await n.method(),S=s.searchParams.get("action")||"health-check",M=s.searchParams.get("workflowId")||"",C=s.searchParams.get("stepId")||"",ne=await n.headers("novu-signature")||"",le={};try{l==="POST"&&(le=await n.body())}catch{}try{S!=="health-check"&&await this.validateHmac(le,ne);let ve=this.getPostActionMap(le,M,C,S),De=this.getGetActionMap(M,C);if(l==="POST")return await this.handlePostAction(S,ve);if(l==="GET")return await this.handleGetAction(S,De);if(l==="OPTIONS")return this.createResponse(200,{})}catch(ve){return this.handleError(ve)}return this.createError(new bn(l))}getPostActionMap(n,s,l,S){return{trigger:this.triggerAction({workflowId:s,...n}),execute:async()=>{let M=await this.client.executeWorkflow({...n,workflowId:s,stepId:l,action:S});return this.createResponse(200,M)},preview:async()=>{let M=await this.client.executeWorkflow({...n,workflowId:s,stepId:l,action:S});return this.createResponse(200,M)}}}triggerAction(n){return async()=>{let s={name:n.workflowId,to:n.to,payload:(n==null?void 0:n.payload)||{},transactionId:n.transactionId,overrides:n.overrides||{},...n.actor&&{actor:n.actor},...n.bridgeUrl&&{bridgeUrl:n.bridgeUrl},...n.controls&&{controls:n.controls}},l=await this.http.post("/events/trigger",s);return this.createResponse(200,l)}}getGetActionMap(n,s){return{discover:async()=>{let l=await this.client.discover();return this.createResponse(200,l)},"health-check":async()=>{let l=await this.client.healthCheck();return this.createResponse(200,l)},code:async()=>{let l=await this.client.getCode(n,s);return this.createResponse(200,l)}}}async handlePostAction(n,s){if(Object.values(Ut).includes(n)){let l=s[n];return l()}else throw new jt(n,Ut)}async handleGetAction(n,s){if(Object.values(sn).includes(n)){let l=s[n];return l()}else throw new jt(n,sn)}handleError(n){if(ht(n))return n.statusCode>=500&&console.error(n),this.createError(n);if(Cr(n))return this.createError(n);{let s=new Tt(n);return console.error(s),this.createError(s)}}async validateHmac(n,s){if(!this.hmacEnabled)return;if(!s)throw new An;if(!this.client.secretKey)throw new Pn;let[l,S]=s.split(",");if(!l||!S)throw new _n;let[M,C]=l.split("="),[ne,le]=S.split("=");if(Number(M)<Date.now()-1500)throw new Rn;if(!(await Lr(this.client.secretKey,`${C}.${JSON.stringify(n)}`)===le))throw new vn}};var K={output:{type:"object",properties:{},required:[],additionalProperties:!0}};var sa={type:"object",properties:{webhookUrl:{type:"string",format:"uri"},text:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{type:{enum:["image","context","actions","divider","section","input","file","header","video","rich_text"]}},required:["type"],additionalProperties:!0}}},additionalProperties:!0},Xr={output:sa};var Qr={discord:K,getstream:K,"grafana-on-call":K,mattermost:K,msteams:K,"rocket-chat":K,ryver:K,slack:Xr,"whatsapp-business":K,zulip:K};var oa={type:"object",properties:{to:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:'Email address of the recipient(s). Example: "Bob bob@host.com". You can use commas to separate multiple recipients (e.g.: "test@example.com,test@example.com" or ["test@example.com", "test@example.com"]).'},from:{type:"string"},subject:{type:"string",description:"Subject of the message."},text:{type:"string",description:"Text version of the message."},html:{type:"string",description:"HTML version of the message."},message:{type:"string",description:"MIME string of the message. Make sure to use multipart/form-data to send this as a file upload."},cc:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Same as To but for carbon copy"},bcc:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Same as To but for blind carbon copy"},ampHtml:{type:"string"},tVersion:{type:"string"},tText:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}]},oTag:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"Tag string. See Tagging for more information."},oDkim:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}],description:"Enables/disabled DKIM signatures on per-message basis. Pass yes or no"},oDeliverytime:{type:"string",description:"Desired time of delivery. See Date Format. Note: Messages can be scheduled for a maximum of 3 days in the future."},oDeliverytimeOptimizePeriod:{type:"string"},oTimeZoneLocalize:{type:"string"},oTestmode:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}],description:"Enables sending in test mode. Pass yes if needed. See Sending in Test Mode"},oTracking:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}],description:"Toggles tracking on a per-message basis, see Tracking Messages for details. Pass yes or no."},oTrackingClicks:{anyOf:[{type:"string",enum:["yes","no","htmlonly"]},{type:"boolean"}],description:"Toggles clicks tracking on a per-message basis. Has higher priority than domain-level setting. Pass yes, no or htmlonly."},oTrackingOpens:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}],description:"Toggles opens tracking on a per-message basis. Has higher priority than domain-level setting. Pass yes or no."},oRequireTls:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}]},oSkipVerification:{anyOf:[{type:"string",enum:["yes","no"]},{type:"boolean"}]},recipientVariables:{type:"string"}},required:[],additionalProperties:!0},Zr={output:oa};var gt={type:"object",properties:{name:{type:"string"},email:{type:"string"}},description:'JSON object, containing 2 properties: Name and Email address of a previously validated and active sender. Including the Name property in the JSON is optional. This property is not mandatory in case you use TemplateID and you specified a From address for the template. Format : { "Email":"value", "Name":"value" }.',required:["Email"],additionalProperties:!0},aa={type:"object",properties:{contentType:{type:"string"},filename:{type:"string"},base64Content:{type:"string"}},required:["ContentType","Filename","Base64Content"],additionalProperties:!0},la={type:"object",properties:{filename:{type:"string"},contentType:{type:"string"},contentId:{type:"string"},base64Content:{type:"string"}},required:["ContentType","Filename","Base64Content"],additionalProperties:!0},ca={type:"object",properties:{from:gt,sender:gt,to:{type:"array",items:gt},cc:{type:"array",items:gt},bcc:{type:"array",items:gt},replyTo:gt,subject:{type:"string"},textPart:{type:"string",description:"Content of the message, sent in Text and/or HTML format. At least one of these content types needs to be specified. When the HTML part is the only part provided, Mailjet will not generate a Text-part from the HTML version. The property can't be set when you use TemplateID"},htmlPart:{type:"string",description:"Content of the message, sent in Text and/or HTML format. At least one of these content types needs to be specified. When the HTML part is the only part provided, Mailjet will not generate a Text-part from the HTML version. The property can't be set when you use TemplateID"},templateId:{type:"number",description:"an ID for a template that is previously created and stored in Mailjet's system. It is mandatory when From and TextPart and/or HtmlPart are not provided. "},templateLanguage:{type:"boolean"},templateErrorReporting:gt,templateErrorDeliver:{type:"boolean"},attachments:{type:"array",items:aa},inlineAttachments:{type:"array",items:la},priority:{type:"number"},customCampaign:{type:"string"},deduplicateCampaign:{type:"boolean"},trackOpens:{type:"string",enum:["account_default","disabled","enabled"]},trackClicks:{type:"string",enum:["account_default","disabled","enabled"]},customId:{type:"string"},eventPayload:{type:"string"},urlTags:{type:"string"},headers:{type:"object",additionalProperties:!0},variables:{type:"object",additionalProperties:!0}},required:[],additionalProperties:!0},es={output:ca};var ze={type:"object",properties:{address:{type:"string"},name:{type:"string"}},additionalProperties:!0},Wn={type:"object",properties:{content:{type:"string"},path:{type:"string"}},additionalProperties:!0},pa={type:"object",properties:{from:{anyOf:[{type:"string"},ze]},sender:{anyOf:[{type:"string"},ze]},to:{anyOf:[{type:"string"},ze,{type:"array",items:ze}]},cc:{anyOf:[{type:"string"},ze,{type:"array",items:ze}]},bcc:{anyOf:[{type:"string"},ze,{type:"array",items:ze}]},replyTo:{anyOf:[{type:"string"},ze,{type:"array",items:ze}]},inReplyTo:{anyOf:[{type:"string"},ze]},references:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]},subject:{type:"string"},text:{anyOf:[{type:"string"},Wn]},html:{anyOf:[{type:"string"},Wn]},watchHtml:{anyOf:[{type:"string"},Wn]},amp:{anyOf:[{type:"string"},{type:"object",properties:{content:{type:"string"},path:{type:"string"},href:{type:"string"},encoding:{type:"string"},contentType:{type:"string"},raw:{anyOf:[{type:"string"},Wn]}}}]},icalEvent:{anyOf:[{type:"string"},{type:"object",properties:{content:{type:"string"},path:{type:"string"},method:{type:"string"},filename:{anyOf:[{type:"string"},{type:"boolean"}]},href:{type:"string"},encoding:{type:"string"}}}]},headers:{anyOf:[{type:"object",additionalProperties:!0},{type:"array",items:{type:"object",additionalProperties:!0}}]},list:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]},attachments:{type:"array",items:{type:"object",properties:{content:{type:"string"},path:{type:"string"}},additionalProperties:!0}}},required:[],additionalProperties:!0},ts={output:pa};var ua={type:"object",properties:{},required:[],additionalProperties:!1},ns={output:ua};var da={type:"object",properties:{personalizations:{type:"array",description:"An array of messages and their metadata. Each object within personalizations can be thought of as an envelope - it defines who should receive an individual message and how that message should be handled. See our [Personalizations documentation](https://sendgrid.com/docs/for-developers/sending-email/personalizations/) for examples.",uniqueItems:!1,maxItems:1e3,items:{type:"object",properties:{from:{title:"From Email Object",type:"object",properties:{email:{type:"string",format:"email",description:"The 'From' email address used to deliver the message. This address should be a verified sender in your Twilio SendGrid account."},name:{type:"string",description:"A name or title associated with the sending email address."}},required:["email"]},to:{title:"To Email Array",type:"array",items:{type:"object",properties:{email:{type:"string",format:"email",description:"The intended recipient's email address."},name:{type:"string",description:"The intended recipient's name."}},required:["email"]}},cc:{type:"array",description:"An array of recipients who will receive a copy of your email. Each object in this array must contain the recipient's email address. Each object in the array may optionally contain the recipient's name.",maxItems:1e3,items:{title:"CC BCC Email Object",type:"object",properties:{email:{type:"string",format:"email",description:"The intended recipient's email address."},name:{type:"string",description:"The intended recipient's name."}},required:["email"]}},bcc:{type:"array",description:"An array of recipients who will receive a blind carbon copy of your email. Each object in this array must contain the recipient's email address. Each object in the array may optionally contain the recipient's name.",maxItems:1e3,items:{title:"CC BCC Email Object",type:"object",properties:{email:{type:"string",format:"email",description:"The intended recipient's email address."},name:{type:"string",description:"The intended recipient's name."}},required:["email"]}},subject:{type:"string",description:"The subject of your email. See character length requirements according to [RFC 2822](http://stackoverflow.com/questions/1592291/what-is-the-email-subject-length-limit#answer-1592310).",minLength:1},headers:{type:"object",description:"A collection of JSON key/value pairs allowing you to specify handling instructions for your email. You may not overwrite the following headers: `x-sg-id`, `x-sg-eid`, `received`, `dkim-signature`, `Content-Type`, `Content-Transfer-Encoding`, `To`, `From`, `Subject`, `Reply-To`, `CC`, `BCC`"},substitutions:{type:"object",description:'Substitutions allow you to insert data without using Dynamic Transactional Templates. This field should **not** be used in combination with a Dynamic Transactional Template, which can be identified by a `templateId` starting with `d-`. This field is a collection of key/value pairs following the pattern "substitutionTag":"value to substitute". The key/value pairs must be strings. These substitutions will apply to the text and html content of the body of your email, in addition to the `subject` and `reply-to` parameters. The total collective size of your substitutions may not exceed 10,000 bytes per personalization object.',maxProperties:1e4},dynamicTemplateData:{type:"object",description:'Dynamic template data is available using Handlebars syntax in Dynamic Transactional Templates. This field should be used in combination with a Dynamic Transactional Template, which can be identified by a `templateId` starting with `d-`. This field is a collection of key/value pairs following the pattern "variable_name":"value to insert".'},customArgs:{type:"object",description:"Values that are specific to this personalization that will be carried along with the email and its activity data. Substitutions will not be made on custom arguments, so any string that is entered into this parameter will be assumed to be the custom argument that you would like to be used. This field may not exceed 10,000 bytes.",maxProperties:1e4},sendAt:{type:"integer",description:"A unix timestamp allowing you to specify when your email should be delivered. Scheduling delivery more than 72 hours in advance is forbidden."}},required:["to"]}},from:{title:"From Email Object",type:"object",properties:{email:{type:"string",format:"email",description:"The 'From' email address used to deliver the message. This address should be a verified sender in your Twilio SendGrid account."},name:{type:"string",description:"A name or title associated with the sending email address."}},required:["email"]},replyTo:{title:"Reply_to Email Object",type:"object",properties:{email:{type:"string",format:"email",description:"The email address where any replies or bounces will be returned."},name:{type:"string",description:"A name or title associated with the `replyTo` email address."}},required:["email"]},replyToList:{type:"array",description:"An array of recipients who will receive replies and/or bounces. Each object in this array must contain the recipient's email address. Each object in the array may optionally contain the recipient's name. You can either choose to use \u201CreplyTo\u201D field or \u201CreplyToList\u201D but not both.",uniqueItems:!0,maxItems:1e3,items:{type:"object",properties:{email:{type:"string",description:"The email address where any replies or bounces will be returned.",format:"email"},name:{type:"string",description:"A name or title associated with the `replyToList` email address."}},required:["email"]}},subject:{type:"string",description:"The global or 'message level' subject of your email. This may be overridden by subject lines set in personalizations.",minLength:1},content:{type:"array",description:"An array where you can specify the content of your email. You can include multiple [MIME types](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types) of content, but you must specify at least one MIME type. To include more than one MIME type, add another object to the array containing the `type` and `value` parameters.",items:{type:"object",properties:{type:{type:"string",description:"The MIME type of the content you are including in your email (e.g., `\u201Ctext/plain\u201D` or `\u201Ctext/html\u201D`).",minLength:1},value:{type:"string",description:"The actual content of the specified MIME type that you are including in your email.",minLength:1}},required:["type","value"]}},attachments:{type:"array",description:"An array of objects where you can specify any attachments you want to include.",items:{type:"object",properties:{content:{type:"string",description:"The Base64 encoded content of the attachment.",minLength:1},type:{type:"string",description:"The MIME type of the content you are attaching (e.g., `\u201Ctext/plain\u201D` or `\u201Ctext/html\u201D`).",minLength:1},filename:{type:"string",description:"The attachment's filename."},disposition:{type:"string",default:"attachment",description:"The attachment's content-disposition, specifying how you would like the attachment to be displayed. For example, `\u201Cinline\u201D` results in the attached file are displayed automatically within the message while `\u201Cattachment\u201D` results in the attached file require some action to be taken before it is displayed, such as opening or downloading the file.",enum:["inline","attachment"]},contentId:{type:"string",description:"The attachment's content ID. This is used when the disposition is set to `\u201Cinline\u201D` and the attachment is an image, allowing the file to be displayed within the body of your email."}},required:["content","filename"]}},templateId:{type:"string",description:"An email template ID. A template that contains a subject and content \u2014 either text or html \u2014 will override any subject and content values specified at the personalizations or message level."},headers:{description:"An object containing key/value pairs of header names and the value to substitute for them. The key/value pairs must be strings. You must ensure these are properly encoded if they contain unicode characters. These headers cannot be one of the reserved headers.",type:"object"},categories:{type:"array",description:"An array of category names for this message. Each category name may not exceed 255 characters. ",uniqueItems:!0,maxItems:10,items:{type:"string",maxLength:255}},customArgs:{description:"Values that are specific to the entire send that will be carried along with the email and its activity data.  Key/value pairs must be strings. Substitutions will not be made on custom arguments, so any string that is entered into this parameter will be assumed to be the custom argument that you would like to be used. This parameter is overridden by `customArgs` set at the personalizations level. Total `customArgs` size may not exceed 10,000 bytes.",type:"string"},sendAt:{type:"integer",description:"A unix timestamp allowing you to specify when you want your email to be delivered. This may be overridden by the `sendAt` parameter set at the personalizations level. Delivery cannot be scheduled more than 72 hours in advance. If you have the flexibility, it's better to schedule mail for off-peak times. Most emails are scheduled and sent at the top of the hour or half hour. Scheduling email to avoid peak times \u2014 for example, scheduling at 10:53 \u2014 can result in lower deferral rates due to the reduced traffic during off-peak times."},batchId:{type:"string",description:"An ID representing a batch of emails to be sent at the same time. Including a `batchId` in your request allows you include this email in that batch. It also enables you to cancel or pause the delivery of that batch. For more information, see the [Cancel Scheduled Sends API](https://sendgrid.com/docs/api-reference/)."},asm:{type:"object",description:"An object allowing you to specify how to handle unsubscribes.",properties:{groupId:{type:"integer",description:"The unsubscribe group to associate with this email."},groupsToDisplay:{type:"array",description:"An array containing the unsubscribe groups that you would like to be displayed on the unsubscribe preferences page.",maxItems:25,items:{type:"integer"}}},required:["groupId"]},ipPoolName:{type:"string",description:"The IP Pool that you would like to send this email from.",minLength:2,maxLength:64},mailSettings:{type:"object",description:"A collection of different mail settings that you can use to specify how you would like this email to be handled.",properties:{bypassListManagement:{type:"object",description:"Allows you to bypass all unsubscribe groups and suppressions to ensure that the email is delivered to every single recipient. This should only be used in emergencies when it is absolutely necessary that every recipient receives your email. This filter cannot be combined with any other bypass filters. See our [documentation](https://sendgrid.com/docs/ui/sending-email/index-suppressions/#bypass-suppressions) for more about bypass filters.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."}}},bypassSpamManagement:{type:"object",description:"Allows you to bypass the spam report list to ensure that the email is delivered to recipients. Bounce and unsubscribe lists will still be checked; addresses on these other lists will not receive the message. This filter cannot be combined with the `bypassListManagement` filter. See our [documentation](https://sendgrid.com/docs/ui/sending-email/index-suppressions/#bypass-suppressions) for more about bypass filters.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."}}},bypassBounceManagement:{type:"object",description:"Allows you to bypass the bounce list to ensure that the email is delivered to recipients. Spam report and unsubscribe lists will still be checked; addresses on these other lists will not receive the message. This filter cannot be combined with the `bypassListManagement` filter. See our [documentation](https://sendgrid.com/docs/ui/sending-email/index-suppressions/#bypass-suppressions) for more about bypass filters.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."}}},bypassUnsubscribeManagement:{type:"object",description:"Allows you to bypass the global unsubscribe list to ensure that the email is delivered to recipients. Bounce and spam report lists will still be checked; addresses on these other lists will not receive the message. This filter applies only to global unsubscribes and will not bypass group unsubscribes. This filter cannot be combined with the `bypassListManagement` filter. See our [documentation](https://sendgrid.com/docs/ui/sending-email/index-suppressions/#bypass-suppressions) for more about bypass filters.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."}}},footer:{type:"object",description:"The default footer that you would like included on every email.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."},text:{type:"string",description:"The plain text content of your footer."},html:{type:"string",description:"The HTML content of your footer."}}},sandboxMode:{type:"object",description:"Sandbox Mode allows you to send a test email to ensure that your request body is valid and formatted correctly.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."}}}}},trackingSettings:{type:"object",description:"Settings to determine how you would like to track the metrics of how your recipients interact with your email.",properties:{clickTracking:{type:"object",description:"Allows you to track if a recipient clicked a link in your email.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."},enableText:{type:"boolean",description:"Indicates if this setting should be included in the `text/plain` portion of your email."}}},openTracking:{type:"object",description:"Allows you to track if the email was opened by including a single pixel image in the body of the content. When the pixel is loaded, Twilio SendGrid can log that the email was opened.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."},substitutionTag:{type:"string",description:"Allows you to specify a substitution tag that you can insert in the body of your email at a location that you desire. This tag will be replaced by the open tracking pixel."}}},subscriptionTracking:{type:"object",description:"Allows you to insert a subscription management link at the bottom of the text and HTML bodies of your email. If you would like to specify the location of the link within your email, you may use the `substitutionTag`.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."},text:{type:"string",description:"Text to be appended to the email with the subscription tracking link. You may control where the link is by using the tag <% %>"},html:{type:"string",description:"HTML to be appended to the email with the subscription tracking link. You may control where the link is by using the tag <% %>"},substitutionTag:{type:"string",description:"A tag that will be replaced with the unsubscribe URL. for example: `[unsubscribe_url]`. If this parameter is used, it will override both the `text` and `html` parameters. The URL of the link will be placed at the substitution tag\u2019s location with no additional formatting."}}},ganalytics:{type:"object",description:"Allows you to enable tracking provided by Google Analytics.",properties:{enable:{type:"boolean",description:"Indicates if this setting is enabled."},utmSource:{type:"string",description:"Name of the referrer source. (e.g. Google, SomeDomain.com, or Marketing Email)"},utmMedium:{type:"string",description:"Name of the marketing medium. (e.g. Email)"},utmTerm:{type:"string",description:"Used to identify any paid keywords."},utmContent:{type:"string",description:"Used to differentiate your campaign from advertisements."},utmCampaign:{type:"string",description:"The name of the campaign."}}}}}},required:[],additionalProperties:!1},is={output:da};var rs={braze:K,clickatell:K,nodemailer:ts,emailjs:K,"email-webhook":K,"infobip-email":K,mailersend:K,mailgun:Zr,mailjet:es,mailtrap:K,mandrill:K,netcore:K,"novu-email":ns,outlook365:K,plunk:K,postmark:K,resend:K,sendgrid:is,sendinblue:K,ses:K,sparkpost:K};var fa={type:"object",properties:{},required:[],additionalProperties:!1},ss={output:fa};var os={novu:ss};var as={anyOf:[{type:"string"},{type:"object",additionalProperties:!0,properties:{name:{type:"string"},volume:{type:"number"},critical:{type:"number"}},required:["name","volume","critical"]}]},ha={type:"object",properties:{topic:{type:"string",description:"The destination topic for the notification."},id:{type:"string",description:"A UUID to identify the notification with APNS. If an id is not supplied, APNS will generate one automatically. If an error occurs the response will contain the id. This property populates the apns-id header."},expiry:{type:"number",description:"A UNIX timestamp when the notification should expire. If the notification cannot be delivered to the device, APNS will retry until it expires. An expiry of 0 indicates that the notification expires immediately, therefore no retries will be attempted."},priority:{type:"number",description:`Provide one of the following values:

10 - The push notification is sent to the device immediately. (Default)
The push notification must trigger an alert, sound, or badge on the device. It is an error to use this priority for a push notification that contains only the content-available key.

5 - The push message is sent at a time that conserves power on the device receiving it.`},collapseId:{type:"string"},pushType:{type:"string",enum:["background","alert","voip"],description:`The type of the notification. The value of this header is alert or background. Specify alert when the delivery of your notification displays an alert, plays a sound, or badges your app's icon. Specify background for silent notifications that do not interact with the user.

The value of this header must accurately reflect the contents of your notification's payload. If there is a mismatch, or if the header is missing on required systems, APNs may delay the delivery of the notification or drop it altogether.`},threadId:{type:"string"},payload:{type:"object",additionalProperties:!0},aps:{type:"object",additionalProperties:!0,properties:{badge:{type:"number"},sound:as,category:{type:"string"},contentAvailable:{type:"number"},launchImage:{type:"number"},mutableContent:{type:"number"},urlArgs:{type:"array",items:{type:"string"}}}},rawPayload:{type:"object",additionalProperties:!0},badge:{type:"number"},sound:as,alert:{anyOf:[{type:"string"},{type:"object",additionalProperties:!0,properties:{title:{type:"string"},body:{type:"string"},subtitle:{type:"string"},titleLocKey:{type:"string"},titleLocArgs:{type:"array",items:{type:"string"}},actionLocKey:{type:"string"},locKey:{type:"string"},locArgs:{type:"array",items:{type:"string"}},launchImage:{type:"string"}},required:["body"]}]},contentAvailable:{type:"boolean"},mutableContent:{type:"boolean"},mdm:{anyOf:[{type:"string"},{type:"object",additionalProperties:!0}]},urlArgs:{type:"array",items:{type:"string"}}},required:[],additionalProperties:!0},ls={output:ha};var ma={type:"object",properties:{to:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}],description:"An Expo push token or an array of Expo push tokens specifying the recipient(s) of this message."},data:{type:"object",additionalProperties:!0,description:'A JSON object delivered to your app. It may be up to about 4KiB; the total notification payload sent to Apple and Google must be at most 4KiB or else you will get a "Message Too Big" error.'},title:{type:"string",description:"The title to display in the notification. Often displayed above the notification body."},subtitle:{type:"string",description:"The subtitle to display in the notification below the title."},body:{type:"string",description:"The message to display in the notification."},sound:{anyOf:[{type:"string"},{type:"null"},{type:"object",properties:{name:{anyOf:[{type:"string",enum:["default"]},{type:"null"}]},volume:{type:"number"},critical:{type:"boolean"}},additionalProperties:!0}],description:"Play a sound when the recipient receives this notification. Specify default to play the device's default notification sound, or omit this field to play no sound. Custom sounds are not supported."},ttl:{type:"number",description:"Time to Live: the number of seconds for which the message may be kept around for redelivery if it hasn't been delivered yet. Defaults to undefined to use the respective defaults of each provider (2419200 (4 weeks) for Android/FCM and 0 for iOS/APNs)."},expiration:{type:"number",description:"Timestamp since the Unix epoch specifying when the message expires. Same effect as ttl (ttl takes precedence over expiration)."},priority:{type:"string",enum:["default","normal","high"],description:'The delivery priority of the message. Specify default or omit this field to use the default priority on each platform ("normal" on Android and "high" on iOS).'},badge:{type:"number",description:"Number to display in the badge on the app icon. Specify zero to clear the badge."},channelId:{type:"string",description:"ID of the Notification Channel through which to display this notification. If an ID is specified but the corresponding channel does not exist on the device (that has not yet been created by your app), the notification will not be displayed to the user."},categoryId:{type:"string",description:"ID of the notification category that this notification is associated with."},mutableContent:{type:"boolean",description:"Specifies whether this notification can be intercepted by the client app. In Expo Go, this defaults to true, and if you change that to false, you may experience issues. In standalone and bare apps, this defaults to false."}},required:[],additionalProperties:!0},cs={output:ma};var ya={type:"object",properties:{to:{description:`This parameter specifies the recipient of a message.
The value must be a registration token, notification key, or topic. Do not set this field when sending to multiple topics. See **condition**.
`,type:"string"},registrationIds:{description:`This parameter specifies a list of devices (registration tokens, or IDs) receiving a multicast message. It must contain at least 1 and at most 1000 registration tokens.
Use this parameter only for multicast messaging, not for single recipients. Multicast messages (sending to more than 1 registration tokens) are allowed using HTTP JSON format only.
`,type:"array",items:{type:"string"}},condition:{description:`This parameter specifies a logical expression of conditions that determine the message target.
Supported condition: Topic, formatted as yourTopic in topics. This value is case-insensitive.
Supported operators: &&, ||. Maximum two operators per topic message supported.
`,type:"string"},notificationKey:{description:`This parameter is deprecated. Instead, use **to** to specify message recipients. For more information on how to send messages to multiple devices using **to**, see [Device Group Messaging](https://firebase.google.com/docs/cloud-messaging/notifications).
`,type:"string"},collapseKey:{description:'This parameter identifies a group of messages (e.g., with ```"collapseKey": "Updates Available"```) that can be collapsed, so that only the last message gets sent when delivery can be resumed. This is intended to avoid sending too many of the same messages when the device comes back online or becomes active (see **delayWhileIdle**).\nNote that there is no guarantee of the order in which messages get sent.\nNote: A maximum of 4 different collapse keys is allowed at any given time. This means a FCM connection server can simultaneously store 4 different send-to-sync messages per client app. If you exceed this number, there is no guarantee which 4 collapse keys the FCM connection server will keep.\n',type:"string"},priority:{description:`Sets the priority of the message. Valid values are normal and high. On iOS, these correspond to APNs priorities 5 and 10.
By default, messages are sent with normal priority. Normal priority optimizes the client app's battery consumption and should be used unless immediate delivery is required. For messages with normal priority, the app may receive the message with unspecified delay.
When a message is sent with high priority, it is sent immediately, and the app can wake a sleeping device and open a network connection to your server.For more information, see [Setting the priority of a message](https://firebase.google.com/docs/cloud-messaging/concept-options#setting-the-priority-of-a-message).
`,type:"string",enum:["normal","high"]},contentAvailable:{description:"On iOS, use this field to represent **content-available** in the APNS payload. When a notification or message is sent and this is set to ```true```, an inactive client app is awoken. On Android, data messages wake the app by default. On Chrome, currently not supported.\n",type:"boolean"},mutableContent:{description:`Currently for iOS 10+ devices only. On iOS, use this field to represent mutable-content in the APNS payload. When a notification is sent and this is set to true, the content of the notification can be modified before it is displayed, using a [Notification Service app extension](https://developer.apple.com/reference/usernotifications/unnotificationserviceextension). This parameter will be ignored for Android and web.
`,type:"boolean"},delayWhileIdle:{description:"When this parameter is set to ```true```, it indicates that the message should not be sent until the device becomes active.\nThe default value is ```false```.\n",type:"boolean"},timeToLive:{description:`This parameter specifies how long (in seconds) the message should be kept in FCM storage if the device is offline. The maximum time to live supported is 4 weeks, and the default value is 4 weeks. For more information, see [Setting the lifespan of a message](https://firebase.google.com/docs/cloud-messaging/concept-options#ttl).
`,type:"number"},restrictedPackageName:{description:`This parameter specifies the package name of the application where the registration tokens must match in order to receive the message.
`,type:"string"},dryRun:{description:"This parameter, when set to ```true```, allows developers to test a request without actually sending a message.\nThe default value is ```false```.\n",type:"boolean"},data:{description:'This parameter specifies the custom key-value pairs of the message\'s payload.\nFor example, with ```"data":{"score":"3x1"}```:\nOn iOS, if the message is sent via APNS, it represents the custom data fields. If it is sent via FCM connection server, it would be represented as key value dictionary in ```AppDelegate application:didReceiveRemoteNotification:```.\nOn Android, this would result in an intent extra named **score** with the string value **3x1**.\nThe key should not be a reserved word ("from" or any word starting with "google" or "gcm"). Do not use any of the words defined in this table (such as **collapseKey**).\n',type:"object",additionalProperties:{type:"string"}},notification:{description:`Notification payload. For more information about notification message and data message options, see [Payload](https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages).
`,type:"object",properties:{title:{description:"Indicates notification title. This field is not visible on iOS phones and tablets. Field is required for android.",type:"string"},body:{description:"Indicates notification body text.",type:"string"},icon:{description:"android: Indicates notification icon. Sets value to **myicon** for drawable resource **myicon**.",type:"string"},sound:{description:`Indicates a sound to play when the device receives a notification.
* iOS: Sound files can be in the main bundle of the client app or in the Library/Sounds folder of the app's data container. See the [iOS Developer Library](https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/IPhoneOSClientImp.html#//apple_ref/doc/uid/TP40008194-CH103-SW6) for more information).
* android: Supports default or the filename of a sound resource bundled in the app. Sound files must reside in /res/raw/.
`,type:"string"},badge:{description:"iOS: Indicates the badge on the client app home icon.",type:"string"},tag:{description:`android: Indicates whether each notification results in a new entry in the notification drawer.
If not set, each request creates a new notification.
If set, and a notification with the same tag is already being shown, the new notification replaces the existing one in the notification drawer.
`,type:"string"},color:{description:"android: Indicates color of the icon, expressed in #rrggbb format",type:"string"},clickAction:{description:`Indicates the action associated with a user click on the notification.
* iOS:  Corresponds to category in the APNs payload.
* android: When this is set, an activity with a matching intent filter is launched when user clicks the notification.
`,type:"string"},bodyLocKey:{description:`Indicates the key to the body string for localization.
* iOS: Corresponds to "loc-key" in the APNs payload.
* android: Use the key in the app's string resources when populating this value.
`,type:"string"},bodyLocArgs:{description:`Indicates the string value to replace format specifiers in the body string for localization.
* iOS: Corresponds to "loc-args" in the APNs payload.
* android:  See [Formatting and Styling](https://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling).
`,type:"string"},titleLocKey:{description:`Indicates the key to the title string for localization.
* iOS: Corresponds to "title-loc-key" in the APNs payload.
* android:  Use the key in the app's string resources when populating this value.
`,type:"string"},titleLocArgs:{description:`Indicates the string value to replace format specifiers in the title string for localization.
* iOS: Corresponds to "title-loc-args" in the APNs payload.
* android: See [Formatting strings](https://developer.android.com/guide/topics/resources/string-resource.html#FormattingAndStyling).
`,type:"string"}}}},required:[],additionalProperties:!0},ps={output:ya};var ga={allOf:[{allOf:[{anyOf:[{type:"object",properties:{includedSegments:{type:"array",description:`The segment names you want to target. Users in these segments will receive a notification. This targeting parameter is only compatible with excludedSegments.
Example: ["Active Users", "Inactive Users"]
`,items:{type:"string"}},excludedSegments:{type:"array",description:`Segment that will be excluded when sending. Users in these segments will not receive a notification, even if they were included in includedSegments. This targeting parameter is only compatible with includedSegments.
Example: ["Active Users", "Inactive Users"]
`,items:{type:"string"}}}},{type:"object",properties:{includePlayerIds:{type:"array",description:`Specific playerids to send your notification to. _Does not require API Auth Key.
Do not combine with other targeting parameters. Not compatible with any other targeting parameters.
Example: ["1dd608f2-c6a1-11e3-851d-000c2940e62c"]
Limit of 2,000 entries per REST API call
`,items:{type:"string"},nullable:!0},includeExternalUserIds:{type:"array",description:`Target specific devices by custom user IDs assigned via API.
Not compatible with any other targeting parameters
Example: ["custom-id-assigned-by-api"]
REQUIRED: REST API Key Authentication
Limit of 2,000 entries per REST API call.
Note: If targeting push, email, or sms subscribers with same ids, use with channelForExternalUserIds to indicate you are sending a push or email or sms.
`,items:{type:"string"},nullable:!0},includeEmailTokens:{type:"array",description:`Recommended for Sending Emails - Target specific email addresses.
If an email does not correspond to an existing user, a new user will be created.
Example: nick@catfac.ts
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includePhoneNumbers:{type:"array",description:`Recommended for Sending SMS - Target specific phone numbers. The phone number should be in the E.164 format. Phone number should be an existing subscriber on OneSignal. Refer our docs to learn how to add phone numbers to OneSignal.
Example phone number: +1999999999
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeIosTokens:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using iOS device tokens.
Warning: Only works with Production tokens.
All non-alphanumeric characters must be removed from each token. If a token does not correspond to an existing user, a new user will be created.
Example: ce777617da7f548fe7a9ab6febb56cf39fba6d38203...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeWpWnsUris:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using Windows URIs. If a token does not correspond to an existing user, a new user will be created.
Example: http://s.notify.live.net/u/1/bn1/HmQAAACPaLDr-...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeAmazonRegIds:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using Amazon ADM registration IDs. If a token does not correspond to an existing user, a new user will be created.
Example: amzn1.adm-registration.v1.XpvSSUk0Rc3hTVVV...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeChromeRegIds:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using Chrome App registration IDs. If a token does not correspond to an existing user, a new user will be created.
Example: APA91bEeiUeSukAAUdnw3O2RB45FWlSpgJ7Ji_...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeChromeWebRegIds:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using Chrome Web Push registration IDs. If a token does not correspond to an existing user, a new user will be created.
Example: APA91bEeiUeSukAAUdnw3O2RB45FWlSpgJ7Ji_...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeAndroidRegIds:{type:"array",description:`Not Recommended: Please consider using includePlayerIds or includeExternalUserIds instead.
Target using Android device registration IDs. If a token does not correspond to an existing user, a new user will be created.
Example: APA91bEeiUeSukAAUdnw3O2RB45FWlSpgJ7Ji_...
Limit of 2,000 entries per REST API call
`,items:{type:"string"}},includeAliases:{type:"object",properties:{aliasLabel:{type:"array",items:{type:"string"}}},nullable:!0},targetChannel:{type:"string",enum:["push","email","sms"]}}}]},{type:"object",properties:{id:{type:"string"},value:{type:"integer",readOnly:!0},name:{type:"string",description:`Required for SMS Messages.
An identifier for tracking message within the OneSignal dashboard or export analytics.
Not shown to end user.`,writeOnly:!0,nullable:!0},aggregation:{type:"string",enum:["sum","count"],readOnly:!0},isIos:{type:"boolean",description:"Indicates whether to send to all devices registered under your app's Apple iOS platform.",writeOnly:!0,nullable:!0},isAndroid:{type:"boolean",description:"Indicates whether to send to all devices registered under your app's Google Android platform.",writeOnly:!0,nullable:!0},isHuawei:{type:"boolean",description:"Indicates whether to send to all devices registered under your app's Huawei Android platform.",writeOnly:!0,nullable:!0},isAnyWeb:{type:"boolean",description:`Indicates whether to send to all subscribed web browser users, including Chrome, Firefox, and Safari.
You may use this instead as a combined flag instead of separately enabling isChromeWeb, isFirefox, and isSafari, though the three options are equivalent to this one.
`,writeOnly:!0,nullable:!0},isChromeWeb:{type:"boolean",writeOnly:!0,nullable:!0,description:"Indicates whether to send to all Google Chrome, Chrome on Android, and Mozilla Firefox users registered under your Chrome & Firefox web push platform."},isFirefox:{type:"boolean",writeOnly:!0,nullable:!0,description:"Indicates whether to send to all Mozilla Firefox desktop users registered under your Firefox web push platform."},isSafari:{type:"boolean",writeOnly:!0,nullable:!0,description:"Does not support iOS Safari. Indicates whether to send to all Apple's Safari desktop users registered under your Safari web push platform. Read more iOS Safari"},isWpWns:{type:"boolean",writeOnly:!0,nullable:!0,description:"Indicates whether to send to all devices registered under your app's Windows platform."},isAdm:{type:"boolean",writeOnly:!0,nullable:!0,description:"Indicates whether to send to all devices registered under your app's Amazon Fire platform."},isChrome:{type:"boolean",writeOnly:!0,nullable:!0,description:`This flag is not used for web push Please see isChromeWeb for sending to web push users. This flag only applies to Google Chrome Apps & Extensions.
Indicates whether to send to all devices registered under your app's Google Chrome Apps & Extension platform.
`},channelForExternalUserIds:{type:"string",writeOnly:!0,description:`Indicates if the message type when targeting with includeExternalUserIds for cases where an email, sms, and/or push subscribers have the same external user id.
Example: Use the string "push" to indicate you are sending a push notification or the string "email"for sending emails or "sms"for sending SMS.
`},appId:{type:"string",description:`Required: Your OneSignal Application ID, which can be found in Keys & IDs.
It is a UUID and looks similar to 8250eaf6-1a58-489e-b136-7c74a864b434.
`,writeOnly:!0},externalId:{type:"string",description:`Correlation and idempotency key.
A request received with this parameter will first look for another notification with the same externalId. If one exists, a notification will not be sent, and result of the previous operation will instead be returned. Therefore, if you plan on using this feature, it's important to use a good source of randomness to generate the UUID passed here.
This key is only idempotent for 30 days. After 30 days, the notification could be removed from our system and a notification with the same externalId will be sent again.
  See Idempotent Notification Requests for more details
writeOnly: true
`,nullable:!0},contents:{allOf:[{type:"object",properties:{en:{type:"string",description:"Text in English.  Will be used as a fallback"},ar:{type:"string",description:"Text in Arabic."},bs:{type:"string",description:"Text in Bosnian."},bg:{type:"string",description:"Text in Bulgarian."},ca:{type:"string",description:"Text in Catalan."},"zh-Hans":{type:"string",description:"Text in Chinese (Simplified)."},"zh-Hant":{type:"string",description:"Text in Chinese (Traditional)."},zh:{type:"string",description:"Alias for zh-Hans."},hr:{type:"string",description:"Text in Croatian."},cs:{type:"string",description:"Text in Czech."},da:{type:"string",description:"Text in Danish."},nl:{type:"string",description:"Text in Dutch."},et:{type:"string",description:"Text in Estonian."},fi:{type:"string",description:"Text in Finnish."},fr:{type:"string",description:"Text in French."},ka:{type:"string",description:"Text in Georgian."},de:{type:"string",description:"Text in German."},el:{type:"string",description:"Text in Greek."},hi:{type:"string",description:"Text in Hindi."},he:{type:"string",description:"Text in Hebrew."},hu:{type:"string",description:"Text in Hungarian."},id:{type:"string",description:"Text in Indonesian."},it:{type:"string",description:"Text in Italian."},ja:{type:"string",description:"Text in Japanese."},ko:{type:"string",description:"Text in Korean."},lv:{type:"string",description:"Text in Latvian."},lt:{type:"string",description:"Text in Lithuanian."},ms:{type:"string",description:"Text in Malay."},nb:{type:"string",description:"Text in Norwegian."},pl:{type:"string",description:"Text in Polish."},fa:{type:"string",description:"Text in Persian."},pt:{type:"string",description:"Text in Portuguese."},pa:{type:"string",description:"Text in Punjabi."},ro:{type:"string",description:"Text in Romanian."},ru:{type:"string",description:"Text in Russian."},sr:{type:"string",description:"Text in Serbian."},sk:{type:"string",description:"Text in Slovak."},es:{type:"string",description:"Text in Spanish."},sv:{type:"string",description:"Text in Swedish."},th:{type:"string",description:"Text in Thai."},tr:{type:"string",description:"Text in Turkish."},uk:{type:"string",description:"Text in Ukrainian."},vi:{type:"string",description:"Text in Vietnamese."}}},{description:`Required unless contentAvailable=true or templateId is set.
The message's content (excluding the title), a map of language codes to text for each language.
Each hash must have a language code string for a key, mapped to the localized text you would like users to receive for that language.
This field supports inline substitutions.
English must be included in the hash.
Example: {"en": "English Message", "es": "Spanish Message"}
`,writeOnly:!0}]},headings:{allOf:[{type:"object",properties:{en:{type:"string",description:"Text in English.  Will be used as a fallback"},ar:{type:"string",description:"Text in Arabic."},bs:{type:"string",description:"Text in Bosnian."},bg:{type:"string",description:"Text in Bulgarian."},ca:{type:"string",description:"Text in Catalan."},"zh-Hans":{type:"string",description:"Text in Chinese (Simplified)."},"zh-Hant":{type:"string",description:"Text in Chinese (Traditional)."},zh:{type:"string",description:"Alias for zh-Hans."},hr:{type:"string",description:"Text in Croatian."},cs:{type:"string",description:"Text in Czech."},da:{type:"string",description:"Text in Danish."},nl:{type:"string",description:"Text in Dutch."},et:{type:"string",description:"Text in Estonian."},fi:{type:"string",description:"Text in Finnish."},fr:{type:"string",description:"Text in French."},ka:{type:"string",description:"Text in Georgian."},de:{type:"string",description:"Text in German."},el:{type:"string",description:"Text in Greek."},hi:{type:"string",description:"Text in Hindi."},he:{type:"string",description:"Text in Hebrew."},hu:{type:"string",description:"Text in Hungarian."},id:{type:"string",description:"Text in Indonesian."},it:{type:"string",description:"Text in Italian."},ja:{type:"string",description:"Text in Japanese."},ko:{type:"string",description:"Text in Korean."},lv:{type:"string",description:"Text in Latvian."},lt:{type:"string",description:"Text in Lithuanian."},ms:{type:"string",description:"Text in Malay."},nb:{type:"string",description:"Text in Norwegian."},pl:{type:"string",description:"Text in Polish."},fa:{type:"string",description:"Text in Persian."},pt:{type:"string",description:"Text in Portuguese."},pa:{type:"string",description:"Text in Punjabi."},ro:{type:"string",description:"Text in Romanian."},ru:{type:"string",description:"Text in Russian."},sr:{type:"string",description:"Text in Serbian."},sk:{type:"string",description:"Text in Slovak."},es:{type:"string",description:"Text in Spanish."},sv:{type:"string",description:"Text in Swedish."},th:{type:"string",description:"Text in Thai."},tr:{type:"string",description:"Text in Turkish."},uk:{type:"string",description:"Text in Ukrainian."},vi:{type:"string",description:"Text in Vietnamese."}}},{description:`The message's title, a map of language codes to text for each language. Each hash must have a language code string for a key, mapped to the localized text you would like users to receive for that language.
This field supports inline substitutions.
Example: {"en": "English Title", "es": "Spanish Title"}
`,writeOnly:!0}]},subtitle:{allOf:[{type:"object",properties:{en:{type:"string",description:"Text in English.  Will be used as a fallback"},ar:{type:"string",description:"Text in Arabic."},bs:{type:"string",description:"Text in Bosnian."},bg:{type:"string",description:"Text in Bulgarian."},ca:{type:"string",description:"Text in Catalan."},"zh-Hans":{type:"string",description:"Text in Chinese (Simplified)."},"zh-Hant":{type:"string",description:"Text in Chinese (Traditional)."},zh:{type:"string",description:"Alias for zh-Hans."},hr:{type:"string",description:"Text in Croatian."},cs:{type:"string",description:"Text in Czech."},da:{type:"string",description:"Text in Danish."},nl:{type:"string",description:"Text in Dutch."},et:{type:"string",description:"Text in Estonian."},fi:{type:"string",description:"Text in Finnish."},fr:{type:"string",description:"Text in French."},ka:{type:"string",description:"Text in Georgian."},de:{type:"string",description:"Text in German."},el:{type:"string",description:"Text in Greek."},hi:{type:"string",description:"Text in Hindi."},he:{type:"string",description:"Text in Hebrew."},hu:{type:"string",description:"Text in Hungarian."},id:{type:"string",description:"Text in Indonesian."},it:{type:"string",description:"Text in Italian."},ja:{type:"string",description:"Text in Japanese."},ko:{type:"string",description:"Text in Korean."},lv:{type:"string",description:"Text in Latvian."},lt:{type:"string",description:"Text in Lithuanian."},ms:{type:"string",description:"Text in Malay."},nb:{type:"string",description:"Text in Norwegian."},pl:{type:"string",description:"Text in Polish."},fa:{type:"string",description:"Text in Persian."},pt:{type:"string",description:"Text in Portuguese."},pa:{type:"string",description:"Text in Punjabi."},ro:{type:"string",description:"Text in Romanian."},ru:{type:"string",description:"Text in Russian."},sr:{type:"string",description:"Text in Serbian."},sk:{type:"string",description:"Text in Slovak."},es:{type:"string",description:"Text in Spanish."},sv:{type:"string",description:"Text in Swedish."},th:{type:"string",description:"Text in Thai."},tr:{type:"string",description:"Text in Turkish."},uk:{type:"string",description:"Text in Ukrainian."},vi:{type:"string",description:"Text in Vietnamese."}}},{description:`The message's subtitle, a map of language codes to text for each language. Each hash must have a language code string for a key, mapped to the localized text you would like users to receive for that language.
This field supports inline substitutions.
Example: {"en": "English Subtitle", "es": "Spanish Subtitle"}
`,writeOnly:!0}]},data:{type:"object",description:`Channel: Push Notifications
Platform: Huawei
A custom map of data that is passed back to your app. Same as using Additional Data within the dashboard. Can use up to 2048 bytes of data.
Example: {"abc": 123, "foo": "bar", "event_performed": true, "amount": 12.1}
`,writeOnly:!0,nullable:!0},huaweiMsgType:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Use "data" or "message" depending on the type of notification you are sending. More details in Data & Background Notifications.
`,writeOnly:!0,nullable:!0},url:{type:"string",description:`Channel: Push Notifications
Platform: All
The URL to open in the browser when a user clicks on the notification.
Note: iOS needs https or updated NSAppTransportSecurity in plist
This field supports inline substitutions.
Omit if including webUrl or appUrl
Example: https://onesignal.com
`,writeOnly:!0,nullable:!0},webUrl:{type:"string",description:`Channel: Push Notifications
Platform: All Browsers
Same as url but only sent to web push platforms.
Including Chrome, Firefox, Safari, Opera, etc.
Example: https://onesignal.com
`,writeOnly:!0,nullable:!0},appUrl:{type:"string",description:`Channel: Push Notifications
Platform: All Browsers
Same as url but only sent to web push platforms.
Including iOS, Android, macOS, Windows, ChromeApps, etc.
Example: https://onesignal.com
`,writeOnly:!0,nullable:!0},iosAttachments:{type:"object",description:`Channel: Push Notifications
Platform: iOS 10+
Adds media attachments to notifications. Set as JSON object, key as a media id of your choice and the value as a valid local filename or URL. User must press and hold on the notification to view.
Do not set mutableContent to download attachments. The OneSignal SDK does this automatically
Example: {"id1": "https://domain.com/image.jpg"}
`,writeOnly:!0,nullable:!0},templateId:{type:"string",description:`Channel: Push Notifications
Platform: All
Use a template you setup on our dashboard. The templateId is the UUID found in the URL when viewing a template on our dashboard.
Example: be4a8044-bbd6-11e4-a581-000c2940e62c
`,writeOnly:!0,nullable:!0},contentAvailable:{type:"boolean",description:`Channel: Push Notifications
Platform: iOS
Sending true wakes your app from background to run custom native code (Apple interprets this as content-available=1). Note: Not applicable if the app is in the "force-quit" state (i.e app was swiped away). Omit the contents field to prevent displaying a visible notification.
`,writeOnly:!0,nullable:!0},mutableContent:{type:"boolean",description:`Channel: Push Notifications
Platform: iOS 10+
Always defaults to true and cannot be turned off. Allows tracking of notification receives and changing of the notification content in your app before it is displayed. Triggers didReceive(_:withContentHandler:) on your UNNotificationServiceExtension.
`,writeOnly:!0},targetContentIdentifier:{type:"string",description:`Channel: Push Notifications
Platform: iOS 13+
Use to target a specific experience in your App Clip, or to target your notification to a specific window in a multi-scene App.
`,writeOnly:!0,nullable:!0},bigPicture:{type:"string",description:`Channel: Push Notifications
Platform: Android
Picture to display in the expanded view. Can be a drawable resource name or a URL.
`,writeOnly:!0,nullable:!0},huaweiBigPicture:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Picture to display in the expanded view. Can be a drawable resource name or a URL.
`,writeOnly:!0,nullable:!0},admBigPicture:{type:"string",description:`Channel: Push Notifications
Platform: Amazon
Picture to display in the expanded view. Can be a drawable resource name or a URL.
`,writeOnly:!0,nullable:!0},chromeBigPicture:{type:"string",description:`Channel: Push Notifications
Platform: ChromeApp
Large picture to display below the notification text. Must be a local URL.
`,writeOnly:!0,nullable:!0},chromeWebImage:{type:"string",description:`Channel: Push Notifications
Platform: Chrome 56+
Sets the web push notification's large image to be shown below the notification's title and text. Please see Web Push Notification Icons.
`,writeOnly:!0,nullable:!0},buttons:{type:"array",items:{type:"object",properties:{id:{type:"string"},text:{type:"string"},icon:{type:"string"}},required:["id"]},description:`Channel: Push Notifications
Platform: iOS 8.0+, Android 4.1+, and derivatives like Amazon Buttons to add to the notification. Icon only works for Android.
Buttons show in reverse order of array position i.e. Last item in array shows as first button on device.
Example: [{"id": "id2", "text": "second button", "icon": "ic_menu_share"}, {"id": "id1", "text": "first button", "icon": "ic_menu_send"}]
`,writeOnly:!0,nullable:!0},webButtons:{type:"array",items:{type:"object",properties:{id:{type:"string"},text:{type:"string"},icon:{type:"string"}},required:["id"]},description:`Channel: Push Notifications
Platform: Chrome 48+
Add action buttons to the notification. The id field is required.
Example: [{"id": "like-button", "text": "Like", "icon": "http://i.imgur.com/N8SN8ZS.png", "url": "https://yoursite.com"}, {"id": "read-more-button", "text": "Read more", "icon": "http://i.imgur.com/MIxJp1L.png", "url": "https://yoursite.com"}]
`,writeOnly:!0,nullable:!0},iosCategory:{type:"string",description:`Channel: Push Notifications
Platform: iOS
Category APS payload, use with registerUserNotificationSettings:categories in your Objective-C / Swift code.
Example: calendar category which contains actions like accept and decline
iOS 10+ This will trigger your UNNotificationContentExtension whose ID matches this category.
`,writeOnly:!0,nullable:!0},androidChannelId:{type:"string",description:`Channel: Push Notifications
Platform: Android
The Android Oreo Notification Category to send the notification under. See the Category documentation on creating one and getting it's id.
`,writeOnly:!0},huaweiChannelId:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
The Android Oreo Notification Category to send the notification under. See the Category documentation on creating one and getting it's id.
`,writeOnly:!0,nullable:!0},existingAndroidChannelId:{type:"string",description:`Channel: Push Notifications
Platform: Android
Use this if you have client side Android Oreo Channels you have already defined in your app with code.
`,writeOnly:!0},huaweiExistingChannelId:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Use this if you have client side Android Oreo Channels you have already defined in your app with code.
`,writeOnly:!0,nullable:!0},androidBackgroundLayout:{type:"object",description:`Channel: Push Notifications
Platform: Android
Allowing setting a background image for the notification. This is a JSON object containing the following keys. See our Background Image documentation for image sizes.
`,properties:{image:{type:"string",description:"Asset file, android resource name, or URL to remote image."},headingsColor:{type:"string",description:'Title text color ARGB Hex format. Example(Blue) "FF0000FF".'},contentsColor:{type:"string",description:'Body text color ARGB Hex format. Example(Red) "FFFF0000".'}},writeOnly:!0},smallIcon:{type:"string",description:`Channel: Push Notifications
Platform: Android
Icon shown in the status bar and on the top left of the notification.
If not set a bell icon will be used or ic_stat_onesignal_default if you have set this resource name.
See: How to create small icons
`,writeOnly:!0,nullable:!0},huaweiSmallIcon:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Icon shown in the status bar and on the top left of the notification.
Use an Android resource path (E.g. /drawable/smallIcon).
Defaults to your app icon if not set.
`,writeOnly:!0,nullable:!0},largeIcon:{type:"string",description:`Channel: Push Notifications
Platform: Android
Can be a drawable resource name or a URL.
See: How to create large icons
`,writeOnly:!0,nullable:!0},huaweiLargeIcon:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Can be a drawable resource name or a URL.
See: How to create large icons
`,writeOnly:!0,nullable:!0},admSmallIcon:{type:"string",description:`Channel: Push Notifications
Platform: Amazon
If not set a bell icon will be used or ic_stat_onesignal_default if you have set this resource name.
See: How to create small icons
`,writeOnly:!0,nullable:!0},admLargeIcon:{type:"string",description:`Channel: Push Notifications
Platform: Amazon
If blank the smallIcon is used. Can be a drawable resource name or a URL.
See: How to create large icons
`,writeOnly:!0,nullable:!0},chromeWebIcon:{type:"string",description:`Channel: Push Notifications
Platform: Chrome
Sets the web push notification's icon. An image URL linking to a valid image. Common image types are supported; GIF will not animate. We recommend 256x256 (at least 80x80) to display well on high DPI devices. Firefox will also use this icon, unless you specify firefoxIcon.
`,nullable:!0},chromeWebBadge:{type:"string",description:`Channel: Push Notifications
Platform: Chrome
Sets the web push notification icon for Android devices in the notification shade. Please see Web Push Notification Badge.
`,writeOnly:!0,nullable:!0},firefoxIcon:{type:"string",description:`Channel: Push Notifications
Platform: Firefox
Not recommended Few people need to set Firefox-specific icons. We recommend setting chromeWebIcon instead, which Firefox will also use.
Sets the web push notification's icon for Firefox. An image URL linking to a valid image. Common image types are supported; GIF will not animate. We recommend 256x256 (at least 80x80) to display well on high DPI devices.
`,writeOnly:!0,nullable:!0},chromeIcon:{type:"string",description:`Channel: Push Notifications
Platform: ChromeApp
This flag is not used for web push For web push, please see chromeWebIcon instead.
The local URL to an icon to use. If blank, the app icon will be used.
`,writeOnly:!0,nullable:!0},iosSound:{type:"string",description:`Channel: Push Notifications
Platform: iOS
Sound file that is included in your app to play instead of the default device notification sound. Pass nil to disable vibration and sound for the notification.
Example: "notification.wav"
`,writeOnly:!0,nullable:!0},androidSound:{type:"string",description:`Channel: Push Notifications
Platform: Android
&#9888;&#65039;Deprecated, this field doesn't work on Android 8 (Oreo) and newer devices!
Please use Notification Categories / Channels noted above instead to support ALL versions of Android.
Sound file that is included in your app to play instead of the default device notification sound. Pass nil to disable sound for the notification.
NOTE: Leave off file extension for Android.
Example: "notification"
`,writeOnly:!0,nullable:!0},huaweiSound:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
&#9888;&#65039;Deprecated, this field ONLY works on EMUI 5 (Android 7 based) and older devices.
Please also set Notification Categories / Channels noted above to support EMUI 8 (Android 8 based) devices.
Sound file that is included in your app to play instead of the default device notification sound. NOTE: Leave off file extension for and include the full path.

Example: "/res/raw/notification"
`,writeOnly:!0,nullable:!0},admSound:{type:"string",description:`Channel: Push Notifications
Platform: Amazon
&#9888;&#65039;Deprecated, this field doesn't work on Android 8 (Oreo) and newer devices!
Please use Notification Categories / Channels noted above instead to support ALL versions of Android.
Sound file that is included in your app to play instead of the default device notification sound. Pass nil to disable sound for the notification.
NOTE: Leave off file extension for Android.
Example: "notification"
`,writeOnly:!0,nullable:!0},wpWnsSound:{type:"string",description:`Channel: Push Notifications
Platform: Windows
Sound file that is included in your app to play instead of the default device notification sound.
Example: "notification.wav"
`,writeOnly:!0,nullable:!0},androidLedColor:{type:"string",description:`Channel: Push Notifications
Platform: Android
&#9888;&#65039;Deprecated, this field doesn't work on Android 8 (Oreo) and newer devices!
Please use Notification Categories / Channels noted above instead to support ALL versions of Android.
Sets the devices LED notification light if the device has one. ARGB Hex format.
Example(Blue): "FF0000FF"
`,writeOnly:!0,nullable:!0},huaweiLedColor:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
&#9888;&#65039;Deprecated, this field ONLY works on EMUI 5 (Android 7 based) and older devices.
Please also set Notification Categories / Channels noted above to support EMUI 8 (Android 8 based) devices.
Sets the devices LED notification light if the device has one. RGB Hex format.
Example(Blue): "0000FF"
`,writeOnly:!0,nullable:!0},androidAccentColor:{type:"string",description:`Channel: Push Notifications
Platform: Android
Sets the background color of the notification circle to the left of the notification text. Only applies to apps targeting Android API level 21+ on Android 5.0+ devices.
Example(Red): "FFFF0000"
`,writeOnly:!0,nullable:!0},huaweiAccentColor:{type:"string",description:`Channel: Push Notifications
Platform: Huawei
Accent Color used on Action Buttons and Group overflow count.
Uses RGB Hex value (E.g. #9900FF).
Defaults to device's theme color if not set.
`,writeOnly:!0,nullable:!0},androidVisibility:{type:"integer",description:`Channel: Push Notifications
Platform: Android 5.0_
&#9888;&#65039;Deprecated, this field doesn't work on Android 8 (Oreo) and newer devices!
Please use Notification Categories / Channels noted above instead to support ALL versions of Android.
1 = Public (default) (Shows the full message on the lock screen unless the user has disabled all notifications from showing on the lock screen. Please consider the user and mark private if the contents are.)
0 = Private (Hides message contents on lock screen if the user set "Hide sensitive notification content" in the system settings)
-1 = Secret (Notification does not show on the lock screen at all)
`,writeOnly:!0,nullable:!0},huaweiVisibility:{type:"integer",nullable:!0,description:`Channel: Push Notifications
Platform: Huawei
&#9888;&#65039;Deprecated, this field ONLY works on EMUI 5 (Android 7 based) and older devices.
Please also set Notification Categories / Channels noted above to support EMUI 8 (Android 8 based) devices.
1 = Public (default) (Shows the full message on the lock screen unless the user has disabled all notifications from showing on the lock screen. Please consider the user and mark private if the contents are.)
0 = Private (Hides message contents on lock screen if the user set "Hide sensitive notification content" in the system settings)
-1 = Secret (Notification does not show on the lock screen at all)
`,writeOnly:!0},iosBadgeType:{type:"string",description:"Channel: Push Notifications\nPlatform: iOS\nDescribes whether to set or increase/decrease your app's iOS badge count by the iosBadgeCount specified count. Can specify None, SetTo, or Increase.\n`None` leaves the count unaffected.\n`SetTo` directly sets the badge count to the number specified in iosBadgeCount.\n`Increase` adds the number specified in iosBadgeCount to the total. Use a negative number to decrease the badge count.\n",writeOnly:!0,nullable:!0},iosBadgeCount:{type:"integer",nullable:!0,description:`Channel: Push Notifications
Platform: iOS
Used with iosBadgeType, describes the value to set or amount to increase/decrease your app's iOS badge count by.
You can use a negative number to decrease the badge count when used with an iosBadgeType of Increase.
`,writeOnly:!0},collapseId:{type:"string",description:`Channel: Push Notifications
Platform: iOS 10+, Android
Only one notification with the same id will be shown on the device. Use the same id to update an existing notification instead of showing a new one. Limit of 64 characters.
`,writeOnly:!0},webPushTopic:{type:"string",description:`Channel: Push Notifications
Platform: All Browsers
Display multiple notifications at once with different topics.
`,nullable:!0},apnsAlert:{type:"object",description:`Channel: Push Notifications
Platform: iOS 10+
iOS can localize push notification messages on the client using special parameters such as loc-key. When using the Create Notification endpoint, you must include these parameters inside of a field called apnsAlert. Please see Apple's guide on localizing push notifications to learn more.
`,writeOnly:!0,nullable:!0},delayedOption:{type:"string",description:`Channel: All
Possible values are:
timezone (Deliver at a specific time-of-day in each users own timezone)
last-active Same as Intelligent Delivery . (Deliver at the same time of day as each user last used your app).
If sendAfter is used, this takes effect after the sendAfter time has elapsed.
`,writeOnly:!0,nullable:!0},deliveryTimeOfDay:{type:"string",description:`Channel: All
Use with delayedOption=timezone.
Examples: "9:00AM"
"21:45"
"9:45:30"
`,writeOnly:!0,nullable:!0},ttl:{type:"integer",nullable:!0,description:`Channel: Push Notifications
Platform: iOS, Android, Chrome, Firefox, Safari, ChromeWeb
Time To Live - In seconds. The notification will be expired if the device does not come back online within this time. The default is 259,200 seconds (3 days).
Max value to set is 2419200 seconds (28 days).
`,writeOnly:!0},priority:{type:"integer",nullable:!0,description:`Channel: Push Notifications
Platform: Android, Chrome, ChromeWeb
Delivery priority through the push server (example GCM/FCM). Pass 10 for high priority or any other integer for normal priority. Defaults to normal priority for Android and high for iOS. For Android 6.0+ devices setting priority to high will wake the device out of doze mode.
`,writeOnly:!0},apnsPushTypeOverride:{type:"string",description:`Channel: Push Notifications
Platform: iOS
valid values: voip
Set the value to voip for sending VoIP Notifications
This field maps to the APNS header apns-push-type.
Note: alert and background are automatically set by OneSignal
`,writeOnly:!0},throttleRatePerMinute:{type:"string",description:`Channel: All
Apps with throttling enabled:
  - the parameter value will be used to override the default application throttling value set from the dashboard settings.
  - parameter value 0 indicates not to apply throttling to the notification.
  - if the parameter is not passed then the default app throttling value will be applied to the notification.
Apps with throttling disabled:
  - this parameter can be used to throttle delivery for the notification even though throttling is not enabled at the application level.
Refer to throttling for more details.
`,writeOnly:!0,nullable:!0},androidGroup:{type:"string",description:`Channel: Push Notifications
Platform: Android
Notifications with the same group will be stacked together using Android's Notification Grouping feature.
`,writeOnly:!0,nullable:!0},androidGroupMessage:{type:"string",description:`Channel: Push Notifications
Platform: Android
Note: This only works for Android 6 and older. Android 7+ allows full expansion of all message.
Summary message to display when 2+ notifications are stacked together. Default is "# new messages". Include $[notif_count] in your message and it will be replaced with the current number.
Languages - The value of each key is the message that will be sent to users for that language. "en" (English) is required. The key of each hash is either a a 2 character language code or one of zh-Hans/zh-Hant for Simplified or Traditional Chinese. Read more: supported languages.
Example: {"en": "You have $[notif_count] new messages"}
`,writeOnly:!0,nullable:!0},admGroup:{type:"string",description:`Channel: Push Notifications
Platform: Amazon
Notifications with the same group will be stacked together using Android's Notification Grouping feature.
`,writeOnly:!0,nullable:!0},admGroupMessage:{type:"object",description:`Channel: Push Notifications
Platform: Amazon
Summary message to display when 2+ notifications are stacked together. Default is "# new messages". Include $[notif_count] in your message and it will be replaced with the current number. "en" (English) is required. The key of each hash is either a a 2 character language code or one of zh-Hans/zh-Hant for Simplified or Traditional Chinese. The value of each key is the message that will be sent to users for that language.
Example: {"en": "You have $[notif_count] new messages"}
`,writeOnly:!0,nullable:!0},threadId:{type:"string",description:`Channel: Push Notifications
Platform: iOS 12+
This parameter is supported in iOS 12 and above. It allows you to group related notifications together.
If two notifications have the same thread-id, they will both be added to the same group.
`,writeOnly:!0,nullable:!0},summaryArg:{type:"string",description:`Channel: Push Notifications
Platform: iOS 12+
When using threadId to create grouped notifications in iOS 12+, you can also control the summary. For example, a grouped notification can say "12 more notifications from John Doe".
The summaryArg lets you set the name of the person/thing the notifications are coming from, and will show up as "X more notifications from summaryArg"
`,writeOnly:!0},summaryArgCount:{type:"integer",description:`Channel: Push Notifications
Platform: iOS 12+
When using threadId, you can also control the count of the number of notifications in the group. For example, if the group already has 12 notifications, and you send a new notification with summaryArgCount = 2, the new total will be 14 and the summary will be "14 more notifications from summaryArg"
`,writeOnly:!0},emailSubject:{type:"string",description:`Channel: Email
Required.  The subject of the email.
`,writeOnly:!0,nullable:!0},emailBody:{type:"string",description:`Channel: Email
Required unless templateId is set.
HTML suported
The body of the email you wish to send. Typically, customers include their own HTML templates here. Must include [unsubscribe_url] in an <a> tag somewhere in the email.
Note: any malformed HTML content will be sent to users. Please double-check your HTML is valid.
`,writeOnly:!0},emailFromName:{type:"string",description:`Channel: Email
The name the email is from. If not specified, will default to "from name" set in the OneSignal Dashboard Email Settings.
`,writeOnly:!0,nullable:!0},emailFromAddress:{type:"string",description:`Channel: Email
The email address the email is from. If not specified, will default to "from email" set in the OneSignal Dashboard Email Settings.
`,writeOnly:!0,nullable:!0},emailPreheader:{type:"string",description:`Channel: Email
The preheader text of the email.
Preheader is the preview text displayed immediately after an email subject that provides additional context about the email content.
If not specified, will default to null.
`,writeOnly:!0,nullable:!0},includeUnsubscribed:{type:"boolean",description:"Channel: Email\nDefault is `false`. This field is used to send transactional notifications. If set to `true`, this notification will also be sent to unsubscribed emails. If a `templateId` is provided, the `includeUnsubscribed` value from the template will be inherited. If you are using a third-party ESP, this field requires the ESP's list of unsubscribed emails to be cleared.",writeOnly:!0},smsFrom:{type:"string",description:`Channel: SMS
Phone Number used to send SMS. Should be a registered Twilio phone number in E.164 format.
`,writeOnly:!0,nullable:!0},smsMediaUrls:{type:"array",items:{type:"string"},description:`Channel: SMS
URLs for the media files to be attached to the SMS content.
Limit: 10 media urls with a total max. size of 5MBs.
`,writeOnly:!0,nullable:!0},filters:{type:"array",nullable:!0,items:{type:"object",properties:{field:{type:"string",description:"Name of the field to use as the first operand in the filter expression."},key:{type:"string",description:"If `field` is `tag`, this field is *required* to specify `key` inside the tags."},value:{type:"string",description:"Constant value to use as the second operand in the filter expression. This value is *required* when the relation operator is a binary operator."},relation:{type:"string",description:"Operator of a filter expression.",enum:[">","<","=","!=","exists","not_exists","time_elapsed_gt","time_elapsed_lt"]}},required:["field","relation"]}},customData:{type:"object",description:`Channel: All
JSON object that can be used as a source of message personalization data for fields that support tag variable substitution.
Push, SMS: Can accept up to 2048 bytes of valid JSON. Email: Can accept up to 10000 bytes of valid JSON.
Example: {"order_id": 123, "currency": "USD", "amount": 25}
`,writeOnly:!0,nullable:!0}}},{required:["appId"]}]},{type:"object",properties:{sendAfter:{type:"string",format:"date-time",description:`Channel: All
Schedule notification for future delivery. API defaults to UTC -1100
Examples: All examples are the exact same date & time.
"Thu Sep 24 2015 14:00:00 GMT-0700 (PDT)"
"September 24th 2015, 2:00:00 pm UTC-07:00"
"2015-09-24 14:00:00 GMT-0700"
"Sept 24 2015 14:00:00 GMT-0700"
"Thu Sep 24 2015 14:00:00 GMT-0700 (Pacific Daylight Time)"
Note: SMS currently only supports sendAfter parameter.
`,writeOnly:!0,nullable:!0}}}],required:[],additionalProperties:!0},us={output:ga};var ds={apns:ls,expo:cs,fcm:ps,"one-signal":us,"pusher-beams":K,pushpad:K,"push-webhook":K};var wa={type:"object",properties:{},required:[],additionalProperties:!1},fs={output:wa};var ba={type:"object",properties:{to:{type:"string",pattern:"^\\+[1-9]\\d{1,14}$",description:"The recipient's phone number in [E.164](https://www.twilio.com/docs/glossary/what-e164) format (for SMS/MMS) or [channel address](https://www.twilio.com/docs/messaging/channels), e.g. `whatsapp:+15552229999`."},statusCallback:{type:"string",format:"uri",description:"The URL of the endpoint to which Twilio sends [Message status callback requests](https://www.twilio.com/docs/sms/api/message-resource#twilios-request-to-the-statuscallback-url). URL must contain a valid hostname and underscores are not allowed. If you include this parameter with the `messagingServiceSid`, Twilio uses this URL instead of the Status Callback URL of the [Messaging Service](https://www.twilio.com/docs/messaging/api/service-resource). "},applicationSid:{type:"string",minLength:34,maxLength:34,pattern:"^AP[0-9a-fA-F]{32}$",description:"The SID of the associated [TwiML Application](https://www.twilio.com/docs/usage/api/applications). [Message status callback requests](https://www.twilio.com/docs/sms/api/message-resource#twilios-request-to-the-statuscallback-url) are sent to the TwiML App's `statusCallback` URL. Note that the `statusCallback` parameter of a request takes priority over the `applicationSid` parameter; if both are included `applicationSid` is ignored."},maxPrice:{type:"number",description:"[OBSOLETE] This parameter will no longer have any effect as of 2024-06-03."},provideFeedback:{type:"boolean",description:"Boolean indicating whether or not you intend to provide delivery confirmation feedback to Twilio (used in conjunction with the [Message Feedback subresource](https://www.twilio.com/docs/sms/api/message-feedback-resource)). Default value is `false`."},attempt:{type:"integer",description:"Total number of attempts made (including this request) to send the message regardless of the provider used"},validityPeriod:{type:"integer",description:"The maximum length in seconds that the Message can remain in Twilio's outgoing message queue. If a queued Message exceeds the `validityPeriod`, the Message is not sent. Accepted values are integers from `1` to `36000`. Default value is `36000`. A `validityPeriod` greater than `5` is recommended. [Learn more about the validity period](https://www.twilio.com/blog/take-more-control-of-outbound-messages-using-validity-period-html)"},forceDelivery:{type:"boolean",description:"Reserved"},contentRetention:{type:"string",enum:["retain","discard"],description:"Determines if the message content can be stored or redacted based on privacy settings"},addressRetention:{type:"string",enum:["retain","obfuscate"],description:"Determines if the address can be stored or obfuscated based on privacy settings"},smartEncoded:{type:"boolean",description:"Whether to detect Unicode characters that have a similar GSM-7 character and replace them. Can be: `true` or `false`."},persistentAction:{type:"array",items:{type:"string"},description:"Rich actions for non-SMS/MMS channels. Used for [sending location in WhatsApp messages](https://www.twilio.com/docs/whatsapp/message-features#location-messages-with-whatsapp)."},shortenUrls:{type:"boolean",description:"For Messaging Services with [Link Shortening configured](https://www.twilio.com/docs/messaging/features/link-shortening) only: A Boolean indicating whether or not Twilio should shorten links in the `body` of the Message. Default value is `false`. If `true`, the `messagingServiceSid` parameter must also be provided."},scheduleType:{type:"string",enum:["fixed"],description:"For Messaging Services only: Include this parameter with a value of `fixed` in conjunction with the `sendAt` parameter in order to [schedule a Message](https://www.twilio.com/docs/messaging/features/message-scheduling)."},sendAt:{type:"string",format:"date-time",description:"The time that Twilio will send the message. Must be in ISO 8601 format."},sendAsMms:{type:"boolean",description:"If set to `true`, Twilio delivers the message as a single MMS message, regardless of the presence of media."},contentVariables:{type:"string",description:"For [Content Editor/API](https://www.twilio.com/docs/content) only: Key-value pairs of [Template variables](https://www.twilio.com/docs/content/using-variables-with-content-api) and their substitution values. `contentSid` parameter must also be provided. If values are not defined in the `contentVariables` parameter, the [Template's default placeholder values](https://www.twilio.com/docs/content/content-api-resources#create-templates) are used."},riskCheck:{type:"string",enum:["enable","disable"],description:"Include this parameter with a value of `disable` to skip any kind of risk check on the respective message request."},from:{type:"string",pattern:"^\\+[1-9]\\d{1,14}$",description:"The sender's Twilio phone number (in [E.164](https://en.wikipedia.org/wiki/E.164) format), [alphanumeric sender ID](https://www.twilio.com/docs/sms/quickstart), [Wireless SIM](https://www.twilio.com/docs/iot/wireless/programmable-wireless-send-machine-machine-sms-commands), [short code](https://www.twilio.com/en-us/messaging/channels/sms/short-codes), or [channel address](https://www.twilio.com/docs/messaging/channels) (e.g., `whatsapp:+15554449999`). The value of the `from` parameter must be a sender that is hosted within Twilio and belongs to the Account creating the Message. If you are using `messagingServiceSid`, this parameter can be empty (Twilio assigns a `from` value from the Messaging Service's Sender Pool) or you can provide a specific sender from your Sender Pool."},messagingServiceSid:{type:"string",minLength:34,maxLength:34,pattern:"^MG[0-9a-fA-F]{32}$",description:"The SID of the [Messaging Service](https://www.twilio.com/docs/messaging/services) you want to associate with the Message. When this parameter is provided and the `from` parameter is omitted, Twilio selects the optimal sender from the Messaging Service's Sender Pool. You may also provide a `from` parameter if you want to use a specific Sender from the Sender Pool."},body:{type:"string",description:"The text content of the outgoing message. Can be up to 1,600 characters in length. SMS only: If the `body` contains more than 160 [GSM-7](https://www.twilio.com/docs/glossary/what-is-gsm-7-character-encoding) characters (or 70 [UCS-2](https://www.twilio.com/docs/glossary/what-is-ucs-2-character-encoding) characters), the message is segmented and charged accordingly. For long `body` text, consider using the [sendAsMms parameter](https://www.twilio.com/blog/mms-for-long-text-messages)."},mediaUrl:{type:"array",items:{type:"string",format:"uri"},description:"The URL of media to include in the Message content. `jpeg`, `jpg`, `gif`, and `png` file types are fully supported by Twilio and content is formatted for delivery on destination devices. The media size limit is 5 MB for supported file types (`jpeg`, `jpg`, `png`, `gif`) and 500 KB for [other types](https://www.twilio.com/docs/messaging/guides/accepted-mime-types) of accepted media. To send more than one image in the message, provide multiple `mediaUrl` parameters in the POST request. You can include up to ten `mediaUrl` parameters per message. [International](https://support.twilio.com/hc/en-us/articles/223179808-Sending-and-receiving-MMS-messages) and [carrier](https://support.twilio.com/hc/en-us/articles/223133707-Is-MMS-supported-for-all-carriers-in-US-and-Canada-) limits apply."},contentSid:{type:"string",minLength:34,maxLength:34,pattern:"^HX[0-9a-fA-F]{32}$",description:"For [Content Editor/API](https://www.twilio.com/docs/content) only: The SID of the Content Template to be used with the Message, e.g., `HXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`. If this parameter is not provided, a Content Template is not used. Find the SID in the Console on the Content Editor page. For Content API users, the SID is found in Twilio's response when [creating the Template](https://www.twilio.com/docs/content/content-api-resources#create-templates) or by [fetching your Templates](https://www.twilio.com/docs/content/content-api-resources#fetch-all-content-resources)."}},required:[],additionalProperties:!0},hs={output:ba};var ms={"africas-talking":K,"azure-sms":K,bandwidth:K,"brevo-sms":K,"bulk-sms":K,"burst-sms":K,clickatell:K,clicksend:K,"eazy-sms":K,firetext:K,"forty-six-elks":K,"generic-sms":K,gupshup:K,"infobip-sms":K,"isend-sms":K,kannel:K,maqsam:K,messagebird:K,mobishastra:K,nexmo:K,"novu-sms":fs,plivo:K,"ring-central":K,sendchamp:K,simpletexting:K,sms77:K,"sms-central":K,sns:K,telnyx:K,termii:K,twilio:hs};var ys={chat:Qr,sms:ms,email:rs,push:ds,in_app:os};var Sa={type:"object",properties:{type:{enum:["regular"],default:"regular"},amount:{type:"number"},unit:{type:"string",enum:["seconds","minutes","hours","days","weeks","months"]}},required:["amount","unit"],additionalProperties:!1},Ta={type:"object",properties:{duration:{type:"number"}},required:["duration"],additionalProperties:!1},qn={output:Sa,result:Ta};var Oa={type:"object",properties:{amount:{type:"number"},unit:{type:"string",enum:["seconds","minutes","hours","days","weeks","months"]},digestKey:{type:"string"},lookBackWindow:{type:"object",properties:{amount:{type:"number"},unit:{type:"string",enum:["seconds","minutes","hours","days","weeks","months"]}},required:["amount","unit"],additionalProperties:!1}},required:["amount","unit"],additionalProperties:!1},Ea={type:"object",properties:{cron:{type:"string"},digestKey:{type:"string"}},required:["cron"],additionalProperties:!1},va={oneOf:[Oa,Ea]},Aa={type:"object",properties:{events:{type:"array",items:{type:"object",properties:{id:{type:"string"},time:{type:"string"},payload:{type:"object"}},required:["id","time","payload"],additionalProperties:!1}}},required:["events"],additionalProperties:!1},Bn={output:va,result:Aa};var _a={type:"object",properties:{body:{type:"string"}},required:["body"],additionalProperties:!1},Ra={type:"object",properties:{},required:[],additionalProperties:!1},gs={output:_a,result:Ra};var Pa={type:"object",properties:{subject:{type:"string"},body:{type:"string"}},required:["subject","body"],additionalProperties:!1},Ia={type:"object",properties:{},required:[],additionalProperties:!1},ws={output:Pa,result:Ia};var Na="^(?!mailto:)(?:(https?):\\/\\/[^\\s/$.?#].[^\\s]*)|^(\\/[^\\s]*)$",Ss={type:"object",properties:{url:{type:"string",pattern:Na},target:{type:"string",enum:["_self","_blank","_parent","_top","_unfencedTop"],default:"_blank"}},if:{properties:{url:{type:"string",pattern:"^/"}}},then:{properties:{target:{default:"_self"}}},else:{properties:{target:{default:"_blank"}}},required:["url"],additionalProperties:!1},bs={type:"object",properties:{label:{type:"string"},redirect:Ss},required:["label"],additionalProperties:!1},xa={type:"object",properties:{subject:{type:"string"},body:{type:"string"},avatar:{type:"string",format:"uri"},primaryAction:bs,secondaryAction:bs,data:{type:"object",additionalProperties:!0},redirect:Ss},required:["body"],additionalProperties:!1},ka={type:"object",properties:{seen:{type:"boolean"},read:{type:"boolean"},lastSeenDate:{type:"string",format:"date-time",nullable:!0},lastReadDate:{type:"string",format:"date-time",nullable:!0}},required:["seen","read","lastSeenDate","lastReadDate"],additionalProperties:!1},Ts={output:xa,result:ka};var Ma={type:"object",properties:{subject:{type:"string"},body:{type:"string"}},required:["subject","body"],additionalProperties:!1},Ca={type:"object",properties:{},required:[],additionalProperties:!1},Os={output:Ma,result:Ca};var La={type:"object",properties:{body:{type:"string"}},required:["body"],additionalProperties:!1},Da={type:"object",properties:{},required:[],additionalProperties:!1},Es={output:La,result:Da};var Xe={chat:gs,sms:Es,push:Os,email:ws,in_app:Ts};var Be={type:"object",properties:{},required:[],additionalProperties:!1};async function _t(w,n,s){if(w.steps.some(l=>l.stepId===n))throw new Nn(n);w.steps.push(s)}async function Oi(w,n,s,l){return async(S,M,C={})=>{let ne=(C==null?void 0:C.controlSchema)||Be;return await _t(w,S,{stepId:S,type:n,controls:{schema:await xe(ne),unknownSchema:ne},outputs:{schema:await xe(s),unknownSchema:s},results:{schema:await xe(l),unknownSchema:l},resolve:M,code:M.toString(),options:C,providers:[]}),{_ctx:{timestamp:Date.now(),state:{status:"pending",error:!1}}}}}async function vs(w,n,s){let l=ys[n],S=Object.entries(s).map(async([M,C])=>{let ne=l[M];return{type:M,code:C.toString(),resolve:C,outputs:{schema:await xe(ne.output),unknownSchema:ne.output}}});w.providers.push(...await Promise.all(S))}async function Rt(w,n,s,l){return async(S,M,C={})=>{let ne=(C==null?void 0:C.controlSchema)||Be,le={stepId:S,type:n,controls:{schema:await xe(ne),unknownSchema:ne},outputs:{schema:await xe(s),unknownSchema:s},results:{schema:await xe(l),unknownSchema:l},resolve:M,code:M.toString(),options:C,providers:[]};return await _t(w,S,le),Object.keys(C.providers||{}).length>0&&await vs(le,n,C.providers||{}),{_ctx:{timestamp:Date.now(),state:{status:"pending",error:!1}}}}}async function As(w,n){return async(s,l,S={})=>{let M=(S==null?void 0:S.controlSchema)||Be,C=(S==null?void 0:S.outputSchema)||Be;return await _t(w,s,{stepId:s,type:n,controls:{schema:await xe(M),unknownSchema:M},outputs:{schema:await xe(C),unknownSchema:C},results:{schema:await xe(C),unknownSchema:C},resolve:l,code:l.toString(),options:S,providers:[]}),{_ctx:{timestamp:Date.now(),state:{status:"pending",error:!1}}}}}var Pt=require("@novu/shared");var Ua={email:Pt.ChannelTypeEnum.EMAIL,sms:Pt.ChannelTypeEnum.SMS,push:Pt.ChannelTypeEnum.PUSH,inApp:Pt.ChannelTypeEnum.IN_APP,chat:Pt.ChannelTypeEnum.CHAT};function _s(w){if(!w)return{};let n={};return w.all&&(n.all=w.all),Object.entries(w.channels||{}).forEach(([s,l])=>{let S=Ua[s];S&&(n.channels||(n.channels={}),n.channels[S]=l)}),n}function Rs(w,n,s){let l=s||{};return{id:w,trigger:async C=>{let ne=xn(Mn(C.secretKey),kn(C.apiUrl)),le=C.payload||{},ve;if(l.payloadSchema){let Ye=await Yn(l.payloadSchema,le);if(Ye.success===!1)throw new gn(w,Ye.errors);ve=Ye.data}else ve=C.payload;let De=await Dr(),$e={name:w,to:C.to,payload:{...ve},...C.transactionId&&{transactionId:C.transactionId},...C.overrides&&{overrides:C.overrides},...C.actor&&{actor:C.actor},...De&&{bridgeUrl:De}},Re=await ne.post("/events/trigger",$e);return{cancel:async()=>ne.delete(`/events/trigger/${Re.transactionId}`),data:Re}},discover:async()=>{let C={workflowId:w,steps:[],code:n.toString(),payload:{schema:await xe(l.payloadSchema||Be),unknownSchema:l.payloadSchema||Be},controls:{schema:await xe(l.controlSchema||Be),unknownSchema:l.controlSchema||Be},tags:l.tags||[],preferences:_s(l.preferences),name:l.name,description:l.description,execute:n};return await n({payload:{},subscriber:{},environment:{},controls:{},step:{push:await Rt(C,"push",Xe.push.output,Xe.push.result),chat:await Rt(C,"chat",Xe.chat.output,Xe.chat.result),email:await Rt(C,"email",Xe.email.output,Xe.email.result),sms:await Rt(C,"sms",Xe.sms.output,Xe.sms.result),inApp:await Rt(C,"in_app",Xe.in_app.output,Xe.in_app.result),digest:await Oi(C,"digest",Bn.output,Bn.result),delay:await Oi(C,"delay",qn.output,qn.result),custom:await As(C,"custom")}}),C}}}var Ps=require("@nestjs/common"),{ConfigurableModuleClass:Is,MODULE_OPTIONS_TOKEN:It,OPTIONS_TYPE:Sd,ASYNC_OPTIONS_TYPE:Td}=new Ps.ConfigurableModuleBuilder().setClassMethodName("register").setFactoryMethodName("createNovuModuleOptions").setExtras(w=>({...w,isGlobal:!0})).build();var Ei="REGISTER_API_PATH";var Ne=require("@nestjs/common");var Jt=require("@nestjs/common");var Ns=require("@nestjs/common");var Je=class{handler(n,s){return{body:()=>n.body,headers:S=>{let M=n.headers[S.toLowerCase()];return Array.isArray(M)?M[0]:M},method:()=>n.method||"GET",queryString:S=>{let M=n.query[S];return Array.isArray(M)?M[0]:M},url:()=>{let S=n.headers.host||"",M=S!=null&&S.includes("://")?"":`${n.protocol||"https"}://`;return new URL(n.originalUrl||n.url||"",`${M}${S||""}`)},transformResponse:({body:S,headers:M,status:C})=>(Object.entries(M).forEach(([ne,le])=>{s.setHeader(ne,le)}),s.status(C).send(S))}}};Je=He([(0,Ns.Injectable)()],Je);var xs="nest",Ge=class{constructor(n,s){this.options=n;this.novuHandler=s;this.novuRequestHandler=new At({frameworkName:xs,...this.options,handler:this.novuHandler.handler})}async handleRequest(n,s){await this.novuRequestHandler.createHandler()(n,s)}};Ge=He([(0,Jt.Injectable)(),Ke(0,(0,Jt.Inject)(It)),Ke(1,(0,Jt.Inject)(Je))],Ge);var je=class{constructor(n){this.novuService=n}async handleGet(n,s){await this.novuService.handleRequest(n,s)}async handlePost(n,s){await this.novuService.handleRequest(n,s)}async handleOptions(n,s){await this.novuService.handleRequest(n,s)}};He([(0,Ne.Get)(),Ke(0,(0,Ne.Req)()),Ke(1,(0,Ne.Res)())],je.prototype,"handleGet",1),He([(0,Ne.Post)(),Ke(0,(0,Ne.Req)()),Ke(1,(0,Ne.Res)())],je.prototype,"handlePost",1),He([(0,Ne.Options)(),Ke(0,(0,Ne.Req)()),Ke(1,(0,Ne.Res)())],je.prototype,"handleOptions",1),je=He([(0,Ne.Controller)(),Ke(0,(0,Ne.Inject)(Ge))],je);var Cs=require("@nestjs/common");var ks=require("@nestjs/common/constants");var Jn={provide:Ei,useFactory:w=>{if(!w.apiPath)throw new Error("`apiPath` must be provided to set the controller path");Reflect.defineMetadata(ks.PATH_METADATA,w.apiPath,je)},inject:[It]};function Ms(w,n=[]){return n.reduce((s,l)=>l(s),w)}var Gt=class extends Is{static register(n,s){var S;let l=super.register(n);return l.controllers=[Ms(je,n.controllerDecorators||[])],(S=l.providers)==null||S.push(Jn,Ge,Je,...s||[]),l.exports=[Ge,Je],l}static registerAsync(n,s){var S;let l=super.registerAsync(n);return l.controllers=[je],(S=l.providers)==null||S.push(Jn,Ge,Je,...s||[]),l.exports=[Ge,Je],l}};Gt=He([(0,Cs.Module)({})],Gt);0&&(module.exports={Client,CronExpression,NOVU_OPTIONS,NovuClient,NovuController,NovuHandler,NovuModule,NovuRequestHandler,REGISTER_API_PATH,frameworkName,registerApiPath,workflow});
